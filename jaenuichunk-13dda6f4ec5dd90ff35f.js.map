{"version":3,"file":"jaenuichunk-13dda6f4ec5dd90ff35f.js","mappings":"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","sources":["webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/fn/date/now.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/fn/number/is-integer.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/fn/object/assign.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/fn/object/create.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/fn/object/keys.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/fn/object/set-prototype-of.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/fn/object/values.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_a-function.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_an-object.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_array-includes.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_cof.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_core.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_ctx.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_defined.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_descriptors.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_dom-create.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_enum-bug-keys.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_export.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_fails.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_global.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_has.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_hide.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_html.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_ie8-dom-define.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_iobject.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_is-integer.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_is-object.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_library.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_object-assign.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_object-create.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_object-dp.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_object-dps.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_object-gopd.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_object-gops.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_object-keys-internal.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_object-keys.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_object-pie.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_object-sap.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_object-to-array.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_property-desc.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_set-proto.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_shared-key.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_shared.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_to-absolute-index.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_to-integer.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_to-iobject.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_to-length.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_to-object.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_to-primitive.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_uid.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/es6.date.now.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/es6.number.is-integer.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/es6.object.assign.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/es6.object.create.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/es6.object.keys.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/es6.object.set-prototype-of.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/es7.object.values.js","webpack://jaen-template/./node_modules/@atlaskit/tree/dist/esm/utils/path.js","webpack://jaen-template/./node_modules/@atlaskit/tree/dist/esm/utils/tree.js","webpack://jaen-template/./node_modules/@atlaskit/tree/dist/esm/utils/handy.js","webpack://jaen-template/./node_modules/@atlaskit/tree/dist/esm/utils/flat-tree.js","webpack://jaen-template/./node_modules/@atlaskit/tree/dist/esm/components/Tree/Tree-utils.js","webpack://jaen-template/./node_modules/@atlaskit/tree/dist/esm/components/TreeItem/TreeItem.js","webpack://jaen-template/./node_modules/@atlaskit/tree/dist/esm/utils/react.js","webpack://jaen-template/./node_modules/@atlaskit/tree/dist/esm/utils/delayed-function.js","webpack://jaen-template/./node_modules/@atlaskit/tree/dist/esm/components/Tree/Tree.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/core-js/date/now.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/core-js/number/is-integer.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/core-js/object/assign.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/core-js/object/create.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/core-js/object/keys.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/core-js/object/set-prototype-of.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/core-js/object/values.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/helpers/esm/extends.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/helpers/esm/setPrototypeOf.js","webpack://jaen-template/./node_modules/@babel/runtime-corejs2/helpers/esm/inheritsLoose.js","webpack://jaen-template/./node_modules/@chakra-ui/control-box/dist/esm/control-box.js","webpack://jaen-template/./node_modules/@chakra-ui/hooks/dist/esm/use-disclosure.js","webpack://jaen-template/./node_modules/@chakra-ui/hooks/dist/esm/use-controllable.js","webpack://jaen-template/./node_modules/@chakra-ui/icon/dist/esm/icon.js","webpack://jaen-template/./node_modules/@chakra-ui/alert/dist/esm/icons.js","webpack://jaen-template/./node_modules/@chakra-ui/alert/dist/esm/alert.js","webpack://jaen-template/./node_modules/@chakra-ui/close-button/dist/esm/close-button.js","webpack://jaen-template/./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://jaen-template/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/utils/use-unmount-effect.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/context/PresenceContext.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/utils/use-constant.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/components/AnimatePresence/PresenceChild.js","webpack://jaen-template/./node_modules/framesync/dist/es/on-next-frame.js","webpack://jaen-template/./node_modules/framesync/dist/es/index.js","webpack://jaen-template/./node_modules/framesync/dist/es/create-render-step.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/utils/noop.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/utils/geometry/index.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/utils/compare-by-depth.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/dom/projection/utils.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/dom/utils/batch-layout.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/components/AnimateSharedLayout/types.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/components/AnimateSharedLayout/utils/batcher.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/context/SharedLayoutContext.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/components/AnimatePresence/index.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/utils/use-force-update.js","webpack://jaen-template/./node_modules/@chakra-ui/hooks/dist/esm/use-update-effect.js","webpack://jaen-template/./node_modules/@chakra-ui/hooks/dist/esm/use-safe-layout-effect.js","webpack://jaen-template/./node_modules/@chakra-ui/hooks/dist/esm/use-timeout.js","webpack://jaen-template/./node_modules/@chakra-ui/hooks/dist/esm/use-callback-ref.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/components/AnimatePresence/use-presence.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/motion/features/definitions.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/context/LazyContext.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/motion/features/use-features.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/context/MotionConfigContext.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/context/MotionContext/index.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/context/LayoutGroupContext.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/utils/is-browser.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/utils/use-isomorphic-effect.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/motion/utils/use-visual-element.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/utils/is-ref-object.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/utils/variants.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/context/MotionContext/create.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/context/MotionContext/utils.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/motion/index.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/motion/utils/use-motion-ref.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/dom/motion-proxy.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/svg/lowercase-elements.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/dom/utils/is-svg-component.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/dom/projection/scale-correction.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/html/utils/transform.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/motion/utils/is-forced-motion-value.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/value/utils/is-motion-value.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/html/utils/build-transform.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/dom/utils/is-css-variable.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/dom/value-types/get-as-type.js","webpack://jaen-template/./node_modules/style-value-types/dist/es/utils.js","webpack://jaen-template/./node_modules/style-value-types/dist/es/numbers/units.js","webpack://jaen-template/./node_modules/style-value-types/dist/es/numbers/index.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/dom/value-types/type-int.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/dom/value-types/number.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/html/utils/build-styles.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/html/utils/create-render-state.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/html/use-props.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/motion/utils/valid-prop.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/dom/utils/filter-props.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/svg/utils/transform-origin.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/svg/utils/path.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/svg/utils/build-attrs.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/svg/utils/create-render-state.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/svg/use-props.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/dom/use-render.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/dom/utils/camel-to-dash.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/html/utils/render.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/svg/utils/camel-case-attrs.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/svg/utils/render.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/html/utils/scrape-motion-values.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/svg/utils/scrape-motion-values.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/animation/utils/is-animation-controls.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/animation/utils/is-keyframes-target.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/value/utils/resolve-motion-value.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/utils/resolve-value.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/motion/utils/use-visual-state.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/svg/config-motion.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/html/config-motion.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/utils/types.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/events/use-dom-event.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/gestures/utils/event-type.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/events/event-info.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/events/use-pointer-event.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/events/utils.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/gestures/drag/utils/lock.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/gestures/use-hover-gesture.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/gestures/utils/is-node-or-child.js","webpack://jaen-template/./node_modules/popmotion/dist/es/utils/pipe.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/motion/utils/make-renderless-component.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/motion/features/gestures.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/gestures/use-tap-gesture.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/gestures/use-focus-gesture.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/utils/shallow-compare.js","webpack://jaen-template/./node_modules/popmotion/dist/es/utils/clamp.js","webpack://jaen-template/./node_modules/popmotion/dist/es/animations/utils/find-spring.js","webpack://jaen-template/./node_modules/popmotion/dist/es/animations/generators/spring.js","webpack://jaen-template/./node_modules/popmotion/dist/es/utils/progress.js","webpack://jaen-template/./node_modules/popmotion/dist/es/utils/mix.js","webpack://jaen-template/./node_modules/style-value-types/dist/es/color/utils.js","webpack://jaen-template/./node_modules/style-value-types/dist/es/color/rgba.js","webpack://jaen-template/./node_modules/style-value-types/dist/es/color/hex.js","webpack://jaen-template/./node_modules/style-value-types/dist/es/color/hsla.js","webpack://jaen-template/./node_modules/popmotion/dist/es/utils/mix-color.js","webpack://jaen-template/./node_modules/style-value-types/dist/es/color/index.js","webpack://jaen-template/./node_modules/style-value-types/dist/es/complex/index.js","webpack://jaen-template/./node_modules/popmotion/dist/es/utils/inc.js","webpack://jaen-template/./node_modules/popmotion/dist/es/utils/mix-complex.js","webpack://jaen-template/./node_modules/popmotion/dist/es/utils/interpolate.js","webpack://jaen-template/./node_modules/popmotion/dist/es/easing/utils.js","webpack://jaen-template/./node_modules/popmotion/dist/es/easing/index.js","webpack://jaen-template/./node_modules/popmotion/dist/es/animations/generators/keyframes.js","webpack://jaen-template/./node_modules/popmotion/dist/es/animations/utils/detect-animation-from-options.js","webpack://jaen-template/./node_modules/popmotion/dist/es/animations/generators/decay.js","webpack://jaen-template/./node_modules/popmotion/dist/es/animations/utils/elapsed.js","webpack://jaen-template/./node_modules/popmotion/dist/es/animations/index.js","webpack://jaen-template/./node_modules/popmotion/dist/es/utils/velocity-per-second.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/utils/time-conversion.js","webpack://jaen-template/./node_modules/popmotion/dist/es/easing/cubic-bezier.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/animation/utils/easing.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/animation/utils/is-animatable.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/animation/utils/default-transitions.js","webpack://jaen-template/./node_modules/style-value-types/dist/es/complex/filter.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/dom/value-types/defaults.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/dom/value-types/animatable-none.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/animation/utils/transitions.js","webpack://jaen-template/./node_modules/popmotion/dist/es/animations/inertia.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/utils/array.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/utils/subscription-manager.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/value/index.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/dom/value-types/test.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/dom/value-types/dimensions.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/dom/value-types/type-auto.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/dom/value-types/find.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/utils/setters.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/utils/animation.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/utils/animation-state.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/motion/features/animations.js","webpack://jaen-template/./node_modules/popmotion/dist/es/utils/is-point.js","webpack://jaen-template/./node_modules/popmotion/dist/es/utils/is-point-3d.js","webpack://jaen-template/./node_modules/popmotion/dist/es/utils/distance.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/gestures/PanSession.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/utils/each-axis.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/gestures/drag/utils/constraints.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/dom/projection/measure.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/utils/geometry/delta-calc.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/motion/features/layout/utils.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/utils/is-draggable.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/utils/geometry/delta-apply.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/gestures/drag/VisualElementDragControls.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/dom/projection/convert-to-relative.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/motion/features/drag.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/gestures/use-pan-gesture.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/gestures/drag/use-drag.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/dom/utils/css-variables-conversion.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/dom/projection/default-scale-correctors.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/motion/features/layout/Animate.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/motion/features/layout/Measure.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/motion/features/layout/index.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/utils/state.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/html/utils/build-projection-transform.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/utils/lifecycles.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/utils/projection.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/utils/flat-tree.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/index.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/utils/motion-values.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/dom/projection/relative-set.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/dom/utils/unit-conversion.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/dom/utils/parse-dom-variant.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/html/visual-element.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/utils/is-numerical-string.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/svg/visual-element.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/dom/create-visual-element.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/dom/motion.js","webpack://jaen-template/./node_modules/framer-motion/dist/es/render/dom/utils/create-config.js","webpack://jaen-template/./node_modules/@chakra-ui/toast/dist/esm/toast.utils.js","webpack://jaen-template/./node_modules/@chakra-ui/toast/dist/esm/toast.js","webpack://jaen-template/./node_modules/@chakra-ui/toast/dist/esm/toast-manager.js","webpack://jaen-template/./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://jaen-template/./node_modules/@chakra-ui/toast/dist/esm/toast.class.js","webpack://jaen-template/./node_modules/@chakra-ui/toast/dist/esm/use-toast.js","webpack://jaen-template/./node_modules/@react-icons/all-files/fa/FaCube.js","webpack://jaen-template/./node_modules/@snek-at/jaen-shared-ui/dist/components/app/index.js","webpack://jaen-template/./node_modules/@snek-at/jaen-shared-ui/dist/components/atoms/ContextMenu/index.js","webpack://jaen-template/./node_modules/@snek-at/jaen-shared-ui/dist/components/atoms/index.js","webpack://jaen-template/./node_modules/@snek-at/jaen-shared-ui/dist/components/index.js","webpack://jaen-template/./node_modules/@snek-at/jaen-shared-ui/dist/components/molecules/PageContent/index.js","webpack://jaen-template/./node_modules/@snek-at/jaen-shared-ui/dist/components/molecules/PageTree/index.js","webpack://jaen-template/./node_modules/@snek-at/jaen-shared-ui/dist/components/molecules/PageTree/treeconverter.js","webpack://jaen-template/./node_modules/@snek-at/jaen-shared-ui/dist/components/molecules/SFBWrapper/index.js","webpack://jaen-template/./node_modules/@snek-at/jaen-shared-ui/dist/components/molecules/SFWrapper/index.js","webpack://jaen-template/./node_modules/@snek-at/jaen-shared-ui/dist/components/molecules/SiteSettings/index.js","webpack://jaen-template/./node_modules/@snek-at/jaen-shared-ui/dist/components/molecules/index.js","webpack://jaen-template/./node_modules/@snek-at/jaen-shared-ui/dist/components/molecules/modals/CreatePageModal/index.js","webpack://jaen-template/./node_modules/@snek-at/jaen-shared-ui/dist/components/molecules/modals/index.js","webpack://jaen-template/./node_modules/@snek-at/jaen-shared-ui/dist/components/organisms/PageExplorer/index.js","webpack://jaen-template/./node_modules/@snek-at/jaen-shared-ui/dist/components/organisms/Settings/index.js","webpack://jaen-template/./node_modules/@snek-at/jaen-shared-ui/dist/components/organisms/index.js","webpack://jaen-template/./node_modules/@snek-at/jaen-shared-ui/dist/index.js","webpack://jaen-template/./node_modules/@snek-at/jaen/index.js","webpack://jaen-template/./node_modules/memoize-one/dist/memoize-one.esm.js","webpack://jaen-template/./node_modules/raf-schd/dist/raf-schd.esm.js","webpack://jaen-template/./node_modules/use-memo-one/dist/use-memo-one.esm.js","webpack://jaen-template/./node_modules/@snek-at/jaen-pages/src/containers/ui/hotbar/DiscardButton.tsx","webpack://jaen-template/./node_modules/@snek-at/jaen-pages/src/containers/ui/hotbar/EditButton.tsx","webpack://jaen-template/./node_modules/@snek-at/jaen-pages/src/containers/ui/hotbar/PublishButton.tsx","webpack://jaen-template/./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteralLoose.js","webpack://jaen-template/./node_modules/@snek-at/jaen-pages/src/containers/ui/tabs/FilesTab.tsx","webpack://jaen-template/./node_modules/@snek-at/jaen-pages/node_modules/uuid/dist/esm-browser/rng.js","webpack://jaen-template/./node_modules/@snek-at/jaen-pages/node_modules/uuid/dist/esm-browser/regex.js","webpack://jaen-template/./node_modules/@snek-at/jaen-pages/node_modules/uuid/dist/esm-browser/stringify.js","webpack://jaen-template/./node_modules/@snek-at/jaen-pages/node_modules/uuid/dist/esm-browser/validate.js","webpack://jaen-template/./node_modules/@snek-at/jaen-pages/node_modules/uuid/dist/esm-browser/v4.js","webpack://jaen-template/./node_modules/@snek-at/jaen-pages/src/containers/ui/tabs/PagesTab.tsx","webpack://jaen-template/./node_modules/@snek-at/jaen-pages/src/containers/ui/tabs/SettingsTab.tsx"],"sourcesContent":["require('../../modules/es6.date.now');\nmodule.exports = require('../../modules/_core').Date.now;\n","require('../../modules/es6.number.is-integer');\nmodule.exports = require('../../modules/_core').Number.isInteger;\n","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n","require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n","require('../../modules/es7.object.values');\nmodule.exports = require('../../modules/_core').Object.values;\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var core = module.exports = { version: '2.6.12' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// 20.1.2.3 Number.isInteger(number)\nvar isObject = require('./_is-object');\nvar floor = Math.floor;\nmodule.exports = function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","module.exports = true;\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || isEnum.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","exports.f = {}.propertyIsEnumerable;\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","var DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || isEnum.call(O, key)) {\n        result.push(isEntries ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: '© 2020 Denis Pushkarev (zloirock.ru)'\n});\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","// 20.3.3.1 / 15.9.4.4 Date.now()\nvar $export = require('./_export');\n\n$export($export.S, 'Date', { now: function () { return new Date().getTime(); } });\n","// 20.1.2.3 Number.isInteger(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { isInteger: require('./_is-integer') });\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n","import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\n/*\n  Checking if two given path are equal\n */\n\nexport var isSamePath = function isSamePath(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  return a.length === b.length && a.every(function (v, i) {\n    return v === b[i];\n  });\n};\n/*\n  Checks if the two paths have the same parent\n */\n\nexport var hasSameParent = function hasSameParent(a, b) {\n  return isSamePath(getParentPath(a), getParentPath(b));\n};\n/*\n  Calculates the parent path for a path\n*/\n\nexport var getParentPath = function getParentPath(child) {\n  return child.slice(0, child.length - 1);\n};\n/*\n  It checks if the item is on top of a sub tree based on the two neighboring items, which are above or below the item.\n*/\n\nexport var isTopOfSubtree = function isTopOfSubtree(belowPath, abovePath) {\n  return !abovePath || isParentOf(abovePath, belowPath);\n};\n\nvar isParentOf = function isParentOf(parent, child) {\n  return isSamePath(parent, getParentPath(child));\n};\n\nexport var getIndexAmongSiblings = function getIndexAmongSiblings(path) {\n  var lastIndex = path[path.length - 1];\n  return lastIndex;\n};\nexport var getPathOnLevel = function getPathOnLevel(path, level) {\n  return path.slice(0, level);\n};\nexport var moveAfterPath = function moveAfterPath(after, from) {\n  var newPath = _toConsumableArray(after);\n\n  var movedDownOnTheSameLevel = isLowerSibling(newPath, from);\n\n  if (!movedDownOnTheSameLevel) {\n    // not moved within the same subtree\n    newPath[newPath.length - 1] += 1;\n  }\n\n  return newPath;\n};\nexport var isLowerSibling = function isLowerSibling(a, other) {\n  return hasSameParent(a, other) && getIndexAmongSiblings(a) > getIndexAmongSiblings(other);\n};","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport { getParentPath, getIndexAmongSiblings } from './path';\n/*\n  Transforms tree structure into flat list of items for rendering purposes.\n  We recursively go through all the elements and its children first on each level\n */\n\nexport var flattenTree = function flattenTree(tree) {\n  var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return tree.items[tree.rootId] ? tree.items[tree.rootId].children.reduce(function (accum, itemId, index) {\n    // iterating through all the children on the given level\n    var item = tree.items[itemId];\n    var currentPath = [].concat(_toConsumableArray(path), [index]); // we create a flattened item for the current item\n\n    var currentItem = createFlattenedItem(item, currentPath); // we flatten its children\n\n    var children = flattenChildren(tree, item, currentPath); // append to the accumulator\n\n    return [].concat(_toConsumableArray(accum), [currentItem], _toConsumableArray(children));\n  }, []) : [];\n};\n/*\n  Constructs a new FlattenedItem\n */\n\nvar createFlattenedItem = function createFlattenedItem(item, currentPath) {\n  return {\n    item: item,\n    path: currentPath\n  };\n};\n/*\n  Flatten the children of the given subtree\n*/\n\n\nvar flattenChildren = function flattenChildren(tree, item, currentPath) {\n  return item.isExpanded ? flattenTree({\n    rootId: item.id,\n    items: tree.items\n  }, currentPath) : [];\n};\n/*\n  Changes the tree data structure with minimal reference changes.\n */\n\n\nexport var mutateTree = function mutateTree(tree, itemId, mutation) {\n  var itemToChange = tree.items[itemId];\n\n  if (!itemToChange) {\n    // Item not found\n    return tree;\n  } // Returning a clone of the tree structure and overwriting the field coming in mutation\n\n\n  return {\n    // rootId should not change\n    rootId: tree.rootId,\n    items: _objectSpread(_objectSpread({}, tree.items), {}, _defineProperty({}, itemId, _objectSpread(_objectSpread({}, itemToChange), mutation)))\n  };\n};\nexport var getItem = function getItem(tree, path) {\n  var cursor = tree.items[tree.rootId];\n\n  var _iterator = _createForOfIteratorHelper(path),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var i = _step.value;\n      cursor = tree.items[cursor.children[i]];\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return cursor;\n};\nexport var getParent = function getParent(tree, path) {\n  var parentPath = getParentPath(path);\n  return getItem(tree, parentPath);\n};\nexport var getTreePosition = function getTreePosition(tree, path) {\n  var parent = getParent(tree, path);\n  var index = getIndexAmongSiblings(path);\n  return {\n    parentId: parent.id,\n    index: index\n  };\n};\n\nvar hasLoadedChildren = function hasLoadedChildren(item) {\n  return !!item.hasChildren && item.children.length > 0;\n};\n\nvar isLeafItem = function isLeafItem(item) {\n  return !item.hasChildren;\n};\n\nvar removeItemFromTree = function removeItemFromTree(tree, position) {\n  var sourceParent = tree.items[position.parentId];\n\n  var newSourceChildren = _toConsumableArray(sourceParent.children);\n\n  var itemRemoved = newSourceChildren.splice(position.index, 1)[0];\n  var newTree = mutateTree(tree, position.parentId, {\n    children: newSourceChildren,\n    hasChildren: newSourceChildren.length > 0,\n    isExpanded: newSourceChildren.length > 0 && sourceParent.isExpanded\n  });\n  return {\n    tree: newTree,\n    itemRemoved: itemRemoved\n  };\n};\n\nvar addItemToTree = function addItemToTree(tree, position, item) {\n  var destinationParent = tree.items[position.parentId];\n\n  var newDestinationChildren = _toConsumableArray(destinationParent.children);\n\n  if (typeof position.index === 'undefined') {\n    if (hasLoadedChildren(destinationParent) || isLeafItem(destinationParent)) {\n      newDestinationChildren.push(item);\n    }\n  } else {\n    newDestinationChildren.splice(position.index, 0, item);\n  }\n\n  return mutateTree(tree, position.parentId, {\n    children: newDestinationChildren,\n    hasChildren: true\n  });\n};\n\nexport var moveItemOnTree = function moveItemOnTree(tree, from, to) {\n  var _removeItemFromTree = removeItemFromTree(tree, from),\n      treeWithoutSource = _removeItemFromTree.tree,\n      itemRemoved = _removeItemFromTree.itemRemoved;\n\n  return addItemToTree(treeWithoutSource, to, itemRemoved);\n};","export var noop = function noop() {};\nexport var range = function range(n) {\n  return Array.from({\n    length: n\n  }, function (v, i) {\n    return i;\n  });\n};\nexport var between = function between(min, max, number) {\n  return Math.min(max, Math.max(min, number));\n};\nexport var oneOf = function oneOf(a, b) {\n  return typeof a !== 'undefined' ? a : b;\n};","import { isTopOfSubtree, hasSameParent, getPathOnLevel, moveAfterPath } from './path';\nimport { between } from './handy';\nexport var getFlatItemPath = function getFlatItemPath(flattenedTree, sourceIndex) {\n  return flattenedTree[sourceIndex].path;\n};\n/*\n  Calculates the source path after drag&drop ends\n */\n\nexport var getSourcePath = getFlatItemPath;\n/*\n    Calculates the destination path after drag&drop ends\n\n    During dragging the items are displaced based on the location of the dragged item.\n    Displacement depends on which direction the item is coming from.\n\n    index\n          -----------        -----------\n    0     | item 0           | item 1 (displaced)\n          -----------        -----------\n    1     | item 1           | item 2 (displaced)\n          -----------  --->  -----------      -----------\n    2     | item 2                            | item 0 (dragged)\n          -----------        -----------      -----------\n    3     | item 3           | item 3\n          -----------        -----------\n\n   */\n\nexport var getDestinationPath = function getDestinationPath(flattenedTree, sourceIndex, destinationIndex, level) {\n  // Moving down\n  var down = destinationIndex > sourceIndex; // Path of the source location\n\n  var sourcePath = getSourcePath(flattenedTree, sourceIndex); // Stayed at the same place\n\n  var sameIndex = destinationIndex === sourceIndex; // Path of the upper item where the item was dropped\n\n  var upperPath = down ? flattenedTree[destinationIndex].path : flattenedTree[destinationIndex - 1] && flattenedTree[destinationIndex - 1].path; // Path of the lower item where the item was dropped\n\n  var lowerPath = down || sameIndex ? flattenedTree[destinationIndex + 1] && flattenedTree[destinationIndex + 1].path : flattenedTree[destinationIndex].path;\n  /*\n    We are going to differentiate 4 cases:\n      - item didn't change position, only moved horizontally\n      - item moved to the top of a list\n      - item moved between two items on the same level\n      - item moved to the end of list. This is an ambiguous case.\n  */\n  // Stayed in place, might moved horizontally\n\n  if (sameIndex) {\n    if (typeof level !== 'number') {\n      return sourcePath;\n    }\n\n    if (!upperPath) {\n      // Not possible to move\n      return sourcePath;\n    }\n\n    var minLevel = lowerPath ? lowerPath.length : 1;\n    var maxLevel = Math.max(sourcePath.length, upperPath.length);\n    var finalLevel = between(minLevel, maxLevel, level);\n    var sameLevel = finalLevel === sourcePath.length;\n\n    if (sameLevel) {\n      // Didn't change level\n      return sourcePath;\n    }\n\n    var previousPathOnTheFinalLevel = getPathOnLevel(upperPath, finalLevel);\n    return moveAfterPath(previousPathOnTheFinalLevel, sourcePath);\n  } // Moved to top of the list\n\n\n  if (lowerPath && isTopOfSubtree(lowerPath, upperPath)) {\n    return lowerPath;\n  } // Moved between two items on the same level\n\n\n  if (upperPath && lowerPath && hasSameParent(upperPath, lowerPath)) {\n    if (down && hasSameParent(upperPath, sourcePath)) {\n      // if item was moved down within the list, it will replace the displaced item\n      return upperPath;\n    }\n\n    return lowerPath;\n  } // Moved to end of list\n\n\n  if (upperPath) {\n    // this means that the upper item is deeper in the tree.\n    var _finalLevel = calculateFinalLevel(sourcePath, upperPath, lowerPath, level); // Insert to higher levels\n\n\n    var _previousPathOnTheFinalLevel = getPathOnLevel(upperPath, _finalLevel);\n\n    return moveAfterPath(_previousPathOnTheFinalLevel, sourcePath);\n  } // In case of any other impossible case\n\n\n  return sourcePath;\n};\n\nvar calculateFinalLevel = function calculateFinalLevel(sourcePath, upperPath, lowerPath, level) {\n  var upperLevel = upperPath.length;\n  var lowerLevel = lowerPath ? lowerPath.length : 1;\n  var sourceLevel = sourcePath.length;\n\n  if (typeof level === 'number') {\n    // Explicit disambiguation based on level\n    // Final level has to be between the levels of bounding items, inclusive\n    return between(lowerLevel, upperLevel, level);\n  } // Automatic disambiguation based on the initial level\n\n\n  return sourceLevel <= lowerLevel ? lowerLevel : upperLevel;\n};\n\nexport var getItemById = function getItemById(flattenedTree, id) {\n  return flattenedTree.find(function (item) {\n    return item.item.id === id;\n  });\n};\nexport var getIndexById = function getIndexById(flattenedTree, id) {\n  return flattenedTree.findIndex(function (item) {\n    return item.item.id === id;\n  });\n};","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport { getTreePosition } from '../../utils/tree';\nimport { getDestinationPath, getSourcePath } from '../../utils/flat-tree';\n/*\n    Translates a drag&drop movement from an index based position to a relative (parent, index) position\n*/\n\nexport var calculateFinalDropPositions = function calculateFinalDropPositions(tree, flattenedTree, dragState) {\n  var source = dragState.source,\n      destination = dragState.destination,\n      combine = dragState.combine,\n      horizontalLevel = dragState.horizontalLevel;\n  var sourcePath = getSourcePath(flattenedTree, source.index);\n  var sourcePosition = getTreePosition(tree, sourcePath);\n\n  if (combine) {\n    return {\n      sourcePosition: sourcePosition,\n      destinationPosition: {\n        parentId: combine.draggableId\n      }\n    };\n  }\n\n  if (!destination) {\n    return {\n      sourcePosition: sourcePosition,\n      destinationPosition: undefined\n    };\n  }\n\n  var destinationPath = getDestinationPath(flattenedTree, source.index, destination.index, horizontalLevel);\n\n  var destinationPosition = _objectSpread({}, getTreePosition(tree, destinationPath));\n\n  return {\n    sourcePosition: sourcePosition,\n    destinationPosition: destinationPosition\n  };\n};","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport { Component } from 'react';\nimport { isSamePath } from '../../utils/path';\nimport { sameProps } from '../../utils/react';\n\nvar TreeItem = /*#__PURE__*/function (_Component) {\n  _inherits(TreeItem, _Component);\n\n  var _super = _createSuper(TreeItem);\n\n  function TreeItem() {\n    var _this;\n\n    _classCallCheck(this, TreeItem);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"patchDraggableProps\", function (draggableProps, snapshot) {\n      var _this$props = _this.props,\n          path = _this$props.path,\n          offsetPerLevel = _this$props.offsetPerLevel;\n      var transitions = draggableProps.style && draggableProps.style.transition ? [draggableProps.style.transition] : [];\n\n      if (snapshot.dropAnimation) {\n        transitions.push( // @ts-ignore\n        \"padding-left \".concat(snapshot.dropAnimation.duration, \"s \").concat(snapshot.dropAnimation.curve));\n      }\n\n      var transition = transitions.join(', ');\n      return _objectSpread(_objectSpread({}, draggableProps), {}, {\n        style: _objectSpread(_objectSpread({}, draggableProps.style), {}, {\n          paddingLeft: (path.length - 1) * offsetPerLevel,\n          // @ts-ignore\n          transition: transition\n        })\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(TreeItem, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      return !sameProps(this.props, nextProps, ['item', 'provided', 'snapshot', 'onCollapse', 'onExpand']) || !isSamePath(this.props.path, nextProps.path) || // also rerender tree item even if the item is not draggable, this allows draggable/nondraggable items to behave the same\n      this.props.provided.dragHandleProps === null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          item = _this$props2.item,\n          path = _this$props2.path,\n          _onExpand = _this$props2.onExpand,\n          _onCollapse = _this$props2.onCollapse,\n          renderItem = _this$props2.renderItem,\n          provided = _this$props2.provided,\n          snapshot = _this$props2.snapshot,\n          itemRef = _this$props2.itemRef;\n\n      var innerRef = function innerRef(el) {\n        itemRef(item.id, el);\n        provided.innerRef(el);\n      };\n\n      var finalProvided = {\n        draggableProps: this.patchDraggableProps(provided.draggableProps, snapshot),\n        dragHandleProps: provided.dragHandleProps,\n        innerRef: innerRef\n      };\n      return renderItem({\n        item: item,\n        depth: path.length - 1,\n        onExpand: function onExpand(itemId) {\n          return _onExpand(itemId, path);\n        },\n        onCollapse: function onCollapse(itemId) {\n          return _onCollapse(itemId, path);\n        },\n        provided: finalProvided,\n        snapshot: snapshot\n      });\n    }\n  }]);\n\n  return TreeItem;\n}(Component);\n\nexport { TreeItem as default };","export var sameProps = function sameProps(oldProps, newProps, props) {\n  return props.find(function (p) {\n    return oldProps[p] !== newProps[p];\n  }) === undefined;\n};","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\n\nvar DelayedFunction = /*#__PURE__*/function () {\n  function DelayedFunction(delay) {\n    _classCallCheck(this, DelayedFunction);\n\n    this.delay = delay;\n  }\n\n  _createClass(DelayedFunction, [{\n    key: \"start\",\n    value: function start(fn) {\n      this.stop();\n      this.timeoutId = window.setTimeout(fn, this.delay);\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      if (this.timeoutId) {\n        clearTimeout(this.timeoutId);\n        this.timeoutId = undefined;\n      }\n    }\n  }]);\n\n  return DelayedFunction;\n}();\n\nexport { DelayedFunction as default };","import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport React, { Component } from 'react';\nimport { Draggable, Droppable, DragDropContext } from 'react-beautiful-dnd-next';\nimport { getBox } from 'css-box-model';\nimport { calculateFinalDropPositions } from './Tree-utils';\nimport { noop } from '../../utils/handy';\nimport { flattenTree, mutateTree } from '../../utils/tree';\nimport TreeItem from '../TreeItem';\nimport { getDestinationPath, getItemById, getIndexById } from '../../utils/flat-tree';\nimport DelayedFunction from '../../utils/delayed-function';\n\nvar Tree = /*#__PURE__*/function (_Component) {\n  _inherits(Tree, _Component);\n\n  var _super = _createSuper(Tree);\n\n  function Tree() {\n    var _this;\n\n    _classCallCheck(this, Tree);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      flattenedTree: [],\n      draggedItemId: undefined\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"itemsElement\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"expandTimer\", new DelayedFunction(500));\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragStart\", function (result) {\n      var onDragStart = _this.props.onDragStart;\n      _this.dragState = {\n        source: result.source,\n        destination: result.source,\n        mode: result.mode\n      };\n\n      _this.setState({\n        draggedItemId: result.draggableId\n      });\n\n      if (onDragStart) {\n        onDragStart(result.draggableId);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragUpdate\", function (update) {\n      var onExpand = _this.props.onExpand;\n      var flattenedTree = _this.state.flattenedTree;\n\n      if (!_this.dragState) {\n        return;\n      }\n\n      _this.expandTimer.stop();\n\n      if (update.combine) {\n        var draggableId = update.combine.draggableId;\n        var item = getItemById(flattenedTree, draggableId);\n\n        if (item && _this.isExpandable(item)) {\n          _this.expandTimer.start(function () {\n            return onExpand(draggableId, item.path);\n          });\n        }\n      }\n\n      _this.dragState = _objectSpread(_objectSpread({}, _this.dragState), {}, {\n        destination: update.destination,\n        combine: update.combine\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDropAnimating\", function () {\n      _this.expandTimer.stop();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragEnd\", function (result) {\n      var _this$props = _this.props,\n          onDragEnd = _this$props.onDragEnd,\n          tree = _this$props.tree;\n      var flattenedTree = _this.state.flattenedTree;\n\n      _this.expandTimer.stop();\n\n      var finalDragState = _objectSpread(_objectSpread({}, _this.dragState), {}, {\n        source: result.source,\n        destination: result.destination,\n        combine: result.combine\n      });\n\n      _this.setState({\n        draggedItemId: undefined\n      });\n\n      var _calculateFinalDropPo = calculateFinalDropPositions(tree, flattenedTree, finalDragState),\n          sourcePosition = _calculateFinalDropPo.sourcePosition,\n          destinationPosition = _calculateFinalDropPo.destinationPosition;\n\n      onDragEnd(sourcePosition, destinationPosition);\n      _this.dragState = undefined;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPointerMove\", function () {\n      if (_this.dragState) {\n        _this.dragState = _objectSpread(_objectSpread({}, _this.dragState), {}, {\n          horizontalLevel: _this.getDroppedLevel()\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"calculateEffectivePath\", function (flatItem, snapshot) {\n      var _this$state = _this.state,\n          flattenedTree = _this$state.flattenedTree,\n          draggedItemId = _this$state.draggedItemId;\n\n      if (_this.dragState && draggedItemId === flatItem.item.id && (_this.dragState.destination || _this.dragState.combine)) {\n        var _this$dragState = _this.dragState,\n            source = _this$dragState.source,\n            destination = _this$dragState.destination,\n            combine = _this$dragState.combine,\n            horizontalLevel = _this$dragState.horizontalLevel,\n            mode = _this$dragState.mode; // We only update the path when it's dragged by keyboard or drop is animated\n\n        if (mode === 'SNAP' || snapshot.isDropAnimating) {\n          if (destination) {\n            // Between two items\n            return getDestinationPath(flattenedTree, source.index, destination.index, horizontalLevel);\n          }\n\n          if (combine) {\n            // Hover on other item while dragging\n            return getDestinationPath(flattenedTree, source.index, getIndexById(flattenedTree, combine.draggableId), horizontalLevel);\n          }\n        }\n      }\n\n      return flatItem.path;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isExpandable\", function (item) {\n      return !!item.item.hasChildren && !item.item.isExpanded;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getDroppedLevel\", function () {\n      var offsetPerLevel = _this.props.offsetPerLevel;\n      var draggedItemId = _this.state.draggedItemId;\n\n      if (!_this.dragState || !_this.containerElement) {\n        return undefined;\n      }\n\n      var containerLeft = getBox(_this.containerElement).contentBox.left;\n      var itemElement = _this.itemsElement[draggedItemId];\n\n      if (itemElement) {\n        var currentLeft = getBox(itemElement).contentBox.left;\n        var relativeLeft = Math.max(currentLeft - containerLeft, 0);\n        return Math.floor((relativeLeft + offsetPerLevel / 2) / offsetPerLevel) + 1;\n      }\n\n      return undefined;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"patchDroppableProvided\", function (provided) {\n      return _objectSpread(_objectSpread({}, provided), {}, {\n        innerRef: function innerRef(el) {\n          _this.containerElement = el;\n          provided.innerRef(el);\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setItemRef\", function (itemId, el) {\n      if (!!el) {\n        _this.itemsElement[itemId] = el;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderItems\", function () {\n      var flattenedTree = _this.state.flattenedTree;\n      return flattenedTree.map(_this.renderItem);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderItem\", function (flatItem, index) {\n      var isDragEnabled = _this.props.isDragEnabled;\n      var isDragDisabled = typeof isDragEnabled === 'function' ? !isDragEnabled(flatItem.item) : !isDragEnabled;\n      return /*#__PURE__*/React.createElement(Draggable, {\n        key: flatItem.item.id,\n        draggableId: flatItem.item.id.toString(),\n        index: index,\n        isDragDisabled: isDragDisabled\n      }, _this.renderDraggableItem(flatItem));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderDraggableItem\", function (flatItem) {\n      return function (provided, snapshot) {\n        var _this$props2 = _this.props,\n            renderItem = _this$props2.renderItem,\n            onExpand = _this$props2.onExpand,\n            onCollapse = _this$props2.onCollapse,\n            offsetPerLevel = _this$props2.offsetPerLevel;\n\n        var currentPath = _this.calculateEffectivePath(flatItem, snapshot);\n\n        if (snapshot.isDropAnimating) {\n          _this.onDropAnimating();\n        }\n\n        return /*#__PURE__*/React.createElement(TreeItem, {\n          key: flatItem.item.id,\n          item: flatItem.item,\n          path: currentPath,\n          onExpand: onExpand,\n          onCollapse: onCollapse,\n          renderItem: renderItem,\n          provided: provided,\n          snapshot: snapshot,\n          itemRef: _this.setItemRef,\n          offsetPerLevel: offsetPerLevel\n        });\n      };\n    });\n\n    return _this;\n  }\n\n  _createClass(Tree, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var isNestingEnabled = this.props.isNestingEnabled;\n      var renderedItems = this.renderItems();\n      return /*#__PURE__*/React.createElement(DragDropContext, {\n        onDragStart: this.onDragStart,\n        onDragEnd: this.onDragEnd,\n        onDragUpdate: this.onDragUpdate\n      }, /*#__PURE__*/React.createElement(Droppable, {\n        droppableId: \"tree\",\n        isCombineEnabled: isNestingEnabled,\n        ignoreContainerClipping: true\n      }, function (provided) {\n        var finalProvided = _this2.patchDroppableProvided(provided);\n\n        return /*#__PURE__*/React.createElement(\"div\", _extends({\n          ref: finalProvided.innerRef,\n          style: {\n            pointerEvents: 'auto'\n          },\n          onTouchMove: _this2.onPointerMove,\n          onMouseMove: _this2.onPointerMove\n        }, finalProvided.droppableProps), renderedItems, provided.placeholder);\n      }));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      var draggedItemId = state.draggedItemId;\n      var tree = props.tree;\n      var finalTree = Tree.closeParentIfNeeded(tree, draggedItemId);\n      var flattenedTree = flattenTree(finalTree);\n      return _objectSpread(_objectSpread({}, state), {}, {\n        flattenedTree: flattenedTree\n      });\n    }\n  }, {\n    key: \"closeParentIfNeeded\",\n    value: function closeParentIfNeeded(tree, draggedItemId) {\n      if (!!draggedItemId) {\n        // Closing parent internally during dragging, because visually we can only move one item not a subtree\n        return mutateTree(tree, draggedItemId, {\n          isExpanded: false\n        });\n      }\n\n      return tree;\n    }\n  }]);\n\n  return Tree;\n}(Component);\n\n_defineProperty(Tree, \"defaultProps\", {\n  tree: {\n    children: []\n  },\n  onExpand: noop,\n  onCollapse: noop,\n  onDragStart: noop,\n  onDragEnd: noop,\n  renderItem: noop,\n  offsetPerLevel: 35,\n  isDragEnabled: false,\n  isNestingEnabled: false\n});\n\nexport { Tree as default };","module.exports = require(\"core-js/library/fn/date/now\");","module.exports = require(\"core-js/library/fn/number/is-integer\");","module.exports = require(\"core-js/library/fn/object/assign\");","module.exports = require(\"core-js/library/fn/object/create\");","module.exports = require(\"core-js/library/fn/object/keys\");","module.exports = require(\"core-js/library/fn/object/set-prototype-of\");","module.exports = require(\"core-js/library/fn/object/values\");","import _Object$assign from \"@babel/runtime-corejs2/core-js/object/assign\";\nexport default function _extends() {\n  _extends = _Object$assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","import _Object$setPrototypeOf from \"@babel/runtime-corejs2/core-js/object/set-prototype-of\";\nexport default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = _Object$setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import _Object$create from \"@babel/runtime-corejs2/core-js/object/create\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = _Object$create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","import _defineProperty from \"/home/runner/work/jaen-template/jaen-template/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport { chakra } from \"@chakra-ui/system\";\nimport { __DEV__ } from \"@chakra-ui/utils\";\nimport * as React from \"react\";\nexport var ControlBox = function ControlBox(props) {\n  var _css;\n\n  var _props$type = props.type,\n      type = _props$type === void 0 ? \"checkbox\" : _props$type,\n      _hover = props._hover,\n      _invalid = props._invalid,\n      _disabled = props._disabled,\n      _focus = props._focus,\n      _checked = props._checked,\n      _props$_child = props._child,\n      _child = _props$_child === void 0 ? {\n    opacity: 0\n  } : _props$_child,\n      _props$_checkedAndChi = props._checkedAndChild,\n      _checkedAndChild = _props$_checkedAndChi === void 0 ? {\n    opacity: 1\n  } : _props$_checkedAndChi,\n      _checkedAndDisabled = props._checkedAndDisabled,\n      _checkedAndFocus = props._checkedAndFocus,\n      _checkedAndHover = props._checkedAndHover,\n      children = props.children,\n      rest = _objectWithoutPropertiesLoose(props, [\"type\", \"_hover\", \"_invalid\", \"_disabled\", \"_focus\", \"_checked\", \"_child\", \"_checkedAndChild\", \"_checkedAndDisabled\", \"_checkedAndFocus\", \"_checkedAndHover\", \"children\"]);\n\n  var checkedAndDisabled = \"input[type=\" + type + \"]:checked:disabled + &\";\n  var checkedAndHover = \"input[type=\" + type + \"]:checked:hover:not(:disabled) + &\";\n  var checkedAndFocus = \"input[type=\" + type + \"]:checked:focus + &\";\n  var disabled = \"input[type=\" + type + \"]:disabled + &\";\n  var focus = \"input[type=\" + type + \"]:focus + &\";\n  var hover = \"input[type=\" + type + \"]:hover:not(:disabled):not(:checked) + &\";\n  var checked = \"input[type=\" + type + \"]:checked + &, input[type=\" + type + \"][aria-checked=mixed] + &\";\n  var invalid = \"input[type=\" + type + \"][aria-invalid=true] + &\";\n  var child = \"& > *\";\n  return /*#__PURE__*/React.createElement(chakra.div, _extends({}, rest, {\n    \"aria-hidden\": true,\n    __css: (_css = {\n      display: \"inline-flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      transitionProperty: \"common\",\n      transitionDuration: \"fast\",\n      flexShrink: 0\n    }, _defineProperty(_css, focus, _focus), _defineProperty(_css, hover, _hover), _defineProperty(_css, disabled, _disabled), _defineProperty(_css, invalid, _invalid), _defineProperty(_css, checkedAndDisabled, _checkedAndDisabled), _defineProperty(_css, checkedAndFocus, _checkedAndFocus), _defineProperty(_css, checkedAndHover, _checkedAndHover), _defineProperty(_css, child, _child), _defineProperty(_css, checked, _extends({}, _checked, _defineProperty({}, child, _checkedAndChild))), _css)\n  }), children);\n};\n\nif (__DEV__) {\n  ControlBox.displayName = \"ControlBox\";\n}\n\nexport default ControlBox;","import _slicedToArray from \"/home/runner/work/jaen-template/jaen-template/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport { callAllHandlers } from \"@chakra-ui/utils\";\nimport * as React from \"react\";\nimport { useControllableProp } from \"./use-controllable\";\nimport { useId } from \"./use-id\";\nexport function useDisclosure(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var _props = props,\n      onCloseProp = _props.onClose,\n      onOpenProp = _props.onOpen,\n      isOpenProp = _props.isOpen,\n      idProp = _props.id;\n\n  var _React$useState = React.useState(props.defaultIsOpen || false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isOpenState = _React$useState2[0],\n      setIsOpen = _React$useState2[1];\n\n  var _useControllableProp = useControllableProp(isOpenProp, isOpenState),\n      _useControllableProp2 = _slicedToArray(_useControllableProp, 2),\n      isControlled = _useControllableProp2[0],\n      isOpen = _useControllableProp2[1];\n\n  var id = useId(idProp, \"disclosure\");\n  var onClose = React.useCallback(function () {\n    if (!isControlled) {\n      setIsOpen(false);\n    }\n\n    onCloseProp == null ? void 0 : onCloseProp();\n  }, [isControlled, onCloseProp]);\n  var onOpen = React.useCallback(function () {\n    if (!isControlled) {\n      setIsOpen(true);\n    }\n\n    onOpenProp == null ? void 0 : onOpenProp();\n  }, [isControlled, onOpenProp]);\n  var onToggle = React.useCallback(function () {\n    var action = isOpen ? onClose : onOpen;\n    action();\n  }, [isOpen, onOpen, onClose]);\n  return {\n    isOpen: !!isOpen,\n    onOpen: onOpen,\n    onClose: onClose,\n    onToggle: onToggle,\n    isControlled: isControlled,\n    getButtonProps: function getButtonProps(props) {\n      if (props === void 0) {\n        props = {};\n      }\n\n      return _extends({}, props, {\n        \"aria-expanded\": \"true\",\n        \"aria-controls\": id,\n        onClick: callAllHandlers(props.onClick, onToggle)\n      });\n    },\n    getDisclosureProps: function getDisclosureProps(props) {\n      if (props === void 0) {\n        props = {};\n      }\n\n      return _extends({}, props, {\n        hidden: !isOpen,\n        id: id\n      });\n    }\n  };\n}","import _slicedToArray from \"/home/runner/work/jaen-template/jaen-template/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { runIfFn } from \"@chakra-ui/utils\";\nimport * as React from \"react\";\nimport { useCallbackRef } from \"./use-callback-ref\";\nexport function useControllableProp(prop, state) {\n  var isControlled = prop !== undefined;\n  var value = isControlled && typeof prop !== \"undefined\" ? prop : state;\n  return [isControlled, value];\n}\n/**\n * React hook for using controlling component state.\n * @param props\n */\n\nexport function useControllableState(props) {\n  var valueProp = props.value,\n      defaultValue = props.defaultValue,\n      onChange = props.onChange,\n      _props$shouldUpdate = props.shouldUpdate,\n      shouldUpdate = _props$shouldUpdate === void 0 ? function (prev, next) {\n    return prev !== next;\n  } : _props$shouldUpdate;\n  var onChangeProp = useCallbackRef(onChange);\n  var shouldUpdateProp = useCallbackRef(shouldUpdate);\n\n  var _React$useState = React.useState(defaultValue),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      valueState = _React$useState2[0],\n      setValue = _React$useState2[1];\n\n  var isControlled = valueProp !== undefined;\n  var value = isControlled ? valueProp : valueState;\n  var updateValue = React.useCallback(function (next) {\n    var nextValue = runIfFn(next, value);\n\n    if (!shouldUpdateProp(value, nextValue)) {\n      return;\n    }\n\n    if (!isControlled) {\n      setValue(nextValue);\n    }\n\n    onChangeProp(nextValue);\n  }, [isControlled, onChangeProp, value, shouldUpdateProp]);\n  return [value, updateValue];\n}","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport { chakra, forwardRef } from \"@chakra-ui/system\";\nimport { cx, __DEV__ } from \"@chakra-ui/utils\";\nimport * as React from \"react\";\nvar fallbackIcon = {\n  path: /*#__PURE__*/React.createElement(\"g\", {\n    stroke: \"currentColor\",\n    strokeWidth: \"1.5\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    fill: \"none\",\n    d: \"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    strokeLinecap: \"round\",\n    d: \"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    fill: \"none\",\n    strokeMiterlimit: \"10\",\n    cx: \"12\",\n    cy: \"12\",\n    r: \"11.25\"\n  })),\n  viewBox: \"0 0 24 24\"\n};\nexport var Icon = /*#__PURE__*/forwardRef(function (props, ref) {\n  var element = props.as,\n      viewBox = props.viewBox,\n      _props$color = props.color,\n      color = _props$color === void 0 ? \"currentColor\" : _props$color,\n      _props$focusable = props.focusable,\n      focusable = _props$focusable === void 0 ? false : _props$focusable,\n      children = props.children,\n      className = props.className,\n      __css = props.__css,\n      rest = _objectWithoutPropertiesLoose(props, [\"as\", \"viewBox\", \"color\", \"focusable\", \"children\", \"className\", \"__css\"]);\n\n  var _className = cx(\"chakra-icon\", className);\n\n  var styles = _extends({\n    w: \"1em\",\n    h: \"1em\",\n    display: \"inline-block\",\n    lineHeight: \"1em\",\n    flexShrink: 0,\n    color: color\n  }, __css);\n\n  var shared = {\n    ref: ref,\n    focusable: focusable,\n    className: _className,\n    __css: styles\n  };\n\n  var _viewBox = viewBox != null ? viewBox : fallbackIcon.viewBox;\n  /**\n   * If you're using an icon library like `react-icons`.\n   * Note: anyone passing the `as` prop, should manage the `viewBox` from the external component\n   */\n\n\n  if (element && typeof element !== \"string\") {\n    return /*#__PURE__*/React.createElement(chakra.svg, _extends({\n      as: element\n    }, shared, rest));\n  }\n\n  var _path = children != null ? children : fallbackIcon.path;\n\n  return /*#__PURE__*/React.createElement(chakra.svg, _extends({\n    verticalAlign: \"middle\",\n    viewBox: _viewBox\n  }, shared, rest), _path);\n});\n\nif (__DEV__) {\n  Icon.displayName = \"Icon\";\n}\n\nexport default Icon;","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport * as React from \"react\";\nimport { Icon } from \"@chakra-ui/icon\";\nexport var CheckIcon = function CheckIcon(props) {\n  return /*#__PURE__*/React.createElement(Icon, _extends({\n    viewBox: \"0 0 24 24\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z\"\n  }));\n};\nexport var InfoIcon = function InfoIcon(props) {\n  return /*#__PURE__*/React.createElement(Icon, _extends({\n    viewBox: \"0 0 24 24\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z\"\n  }));\n};\nexport var WarningIcon = function WarningIcon(props) {\n  return /*#__PURE__*/React.createElement(Icon, _extends({\n    viewBox: \"0 0 24 24\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z\"\n  }));\n};","import _slicedToArray from \"/home/runner/work/jaen-template/jaen-template/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport { chakra, forwardRef, omitThemingProps, StylesProvider, useMultiStyleConfig, useStyles } from \"@chakra-ui/system\";\nimport { cx } from \"@chakra-ui/utils\";\nimport { createContext } from \"@chakra-ui/react-utils\";\nimport * as React from \"react\";\nimport { CheckIcon, InfoIcon, WarningIcon } from \"./icons\";\nvar STATUSES = {\n  info: {\n    icon: InfoIcon,\n    colorScheme: \"blue\"\n  },\n  warning: {\n    icon: WarningIcon,\n    colorScheme: \"orange\"\n  },\n  success: {\n    icon: CheckIcon,\n    colorScheme: \"green\"\n  },\n  error: {\n    icon: WarningIcon,\n    colorScheme: \"red\"\n  }\n};\n\nvar _createContext = createContext({\n  name: \"AlertContext\",\n  errorMessage: \"useAlertContext: `context` is undefined. Seems you forgot to wrap alert components in `<Alert />`\"\n}),\n    _createContext2 = _slicedToArray(_createContext, 2),\n    AlertProvider = _createContext2[0],\n    useAlertContext = _createContext2[1];\n/**\n * Alert is used to communicate the state or status of a\n * page, feature or action\n */\n\n\nexport var Alert = /*#__PURE__*/forwardRef(function (props, ref) {\n  var _props$colorScheme;\n\n  var _omitThemingProps = omitThemingProps(props),\n      _omitThemingProps$sta = _omitThemingProps.status,\n      status = _omitThemingProps$sta === void 0 ? \"info\" : _omitThemingProps$sta,\n      rest = _objectWithoutPropertiesLoose(_omitThemingProps, [\"status\"]);\n\n  var colorScheme = (_props$colorScheme = props.colorScheme) != null ? _props$colorScheme : STATUSES[status].colorScheme;\n  var styles = useMultiStyleConfig(\"Alert\", _extends({}, props, {\n    colorScheme: colorScheme\n  }));\n\n  var alertStyles = _extends({\n    width: \"100%\",\n    display: \"flex\",\n    alignItems: \"center\",\n    position: \"relative\",\n    overflow: \"hidden\"\n  }, styles.container);\n\n  return /*#__PURE__*/React.createElement(AlertProvider, {\n    value: {\n      status: status\n    }\n  }, /*#__PURE__*/React.createElement(StylesProvider, {\n    value: styles\n  }, /*#__PURE__*/React.createElement(chakra.div, _extends({\n    role: \"alert\",\n    ref: ref\n  }, rest, {\n    className: cx(\"chakra-alert\", props.className),\n    __css: alertStyles\n  }))));\n});\nexport var AlertTitle = /*#__PURE__*/forwardRef(function (props, ref) {\n  var styles = useStyles();\n  return /*#__PURE__*/React.createElement(chakra.div, _extends({\n    ref: ref\n  }, props, {\n    className: cx(\"chakra-alert__title\", props.className),\n    __css: styles.title\n  }));\n});\nexport var AlertDescription = /*#__PURE__*/forwardRef(function (props, ref) {\n  var styles = useStyles();\n\n  var descriptionStyles = _extends({\n    display: \"inline\"\n  }, styles.description);\n\n  return /*#__PURE__*/React.createElement(chakra.div, _extends({\n    ref: ref\n  }, props, {\n    className: cx(\"chakra-alert__desc\", props.className),\n    __css: descriptionStyles\n  }));\n});\nexport var AlertIcon = function AlertIcon(props) {\n  var _useAlertContext = useAlertContext(),\n      status = _useAlertContext.status;\n\n  var BaseIcon = STATUSES[status].icon;\n  var styles = useStyles();\n  return /*#__PURE__*/React.createElement(chakra.span, _extends({\n    display: \"inherit\"\n  }, props, {\n    className: cx(\"chakra-alert__icon\", props.className),\n    __css: styles.icon\n  }), /*#__PURE__*/React.createElement(BaseIcon, {\n    w: \"100%\",\n    h: \"100%\"\n  }));\n};","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport { Icon } from \"@chakra-ui/icon\";\nimport { chakra, forwardRef, omitThemingProps, useStyleConfig } from \"@chakra-ui/system\";\nimport { __DEV__ } from \"@chakra-ui/utils\";\nimport * as React from \"react\";\n\nvar CloseIcon = function CloseIcon(props) {\n  return /*#__PURE__*/React.createElement(Icon, _extends({\n    focusable: \"false\",\n    \"aria-hidden\": true\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z\"\n  }));\n};\n/**\n * A button with a close icon.\n *\n * It is used to handle the close functionality in feedback and overlay components\n * like Alerts, Toasts, Drawers and Modals.\n */\n\n\nexport var CloseButton = /*#__PURE__*/forwardRef(function (props, ref) {\n  var styles = useStyleConfig(\"CloseButton\", props);\n\n  var _omitThemingProps = omitThemingProps(props),\n      children = _omitThemingProps.children,\n      isDisabled = _omitThemingProps.isDisabled,\n      __css = _omitThemingProps.__css,\n      rest = _objectWithoutPropertiesLoose(_omitThemingProps, [\"children\", \"isDisabled\", \"__css\"]);\n\n  var baseStyle = {\n    outline: 0,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flexShrink: 0\n  };\n  return /*#__PURE__*/React.createElement(chakra.button, _extends({\n    type: \"button\",\n    \"aria-label\": \"Close\",\n    ref: ref,\n    disabled: isDisabled,\n    __css: _extends({}, baseStyle, styles, __css)\n  }, rest), children || /*#__PURE__*/React.createElement(CloseIcon, {\n    width: \"1em\",\n    height: \"1em\"\n  }));\n});\n\nif (__DEV__) {\n  CloseButton.displayName = \"CloseButton\";\n}","import _typeof from \"@babel/runtime/helpers/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import { useEffect } from 'react';\n\nfunction useUnmountEffect(callback) {\n  return useEffect(function () {\n    return function () {\n      return callback();\n    };\n  }, []);\n}\n\nexport { useUnmountEffect };","import { createContext } from 'react';\n/**\n * @public\n */\n\nvar PresenceContext = createContext(null);\nexport { PresenceContext };","import { useRef } from 'react';\n/**\n * Creates a constant value over the lifecycle of a component.\n *\n * Even if `useMemo` is provided an empty array as its final argument, it doesn't offer\n * a guarantee that it won't re-run for performance reasons later on. By using `useConstant`\n * you can ensure that initialisers don't execute twice or more.\n */\n\nfunction useConstant(init) {\n  var ref = useRef(null);\n\n  if (ref.current === null) {\n    ref.current = init();\n  }\n\n  return ref.current;\n}\n\nexport { useConstant };","import * as React from 'react';\nimport { useMemo } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { useConstant } from '../../utils/use-constant.js';\nvar presenceId = 0;\n\nfunction getPresenceId() {\n  var id = presenceId;\n  presenceId++;\n  return id;\n}\n\nvar PresenceChild = function PresenceChild(_a) {\n  var children = _a.children,\n      initial = _a.initial,\n      isPresent = _a.isPresent,\n      _onExitComplete = _a.onExitComplete,\n      custom = _a.custom,\n      presenceAffectsLayout = _a.presenceAffectsLayout;\n  var presenceChildren = useConstant(newChildrenMap);\n  var id = useConstant(getPresenceId);\n  var context = useMemo(function () {\n    return {\n      id: id,\n      initial: initial,\n      isPresent: isPresent,\n      custom: custom,\n      onExitComplete: function onExitComplete(childId) {\n        presenceChildren.set(childId, true);\n        var allComplete = true;\n        presenceChildren.forEach(function (isComplete) {\n          if (!isComplete) allComplete = false;\n        });\n        allComplete && (_onExitComplete === null || _onExitComplete === void 0 ? void 0 : _onExitComplete());\n      },\n      register: function register(childId) {\n        presenceChildren.set(childId, false);\n        return function () {\n          return presenceChildren.delete(childId);\n        };\n      }\n    };\n  },\n  /**\n   * If the presence of a child affects the layout of the components around it,\n   * we want to make a new context value to ensure they get re-rendered\n   * so they can detect that layout change.\n   */\n  presenceAffectsLayout ? undefined : [isPresent]);\n  useMemo(function () {\n    presenceChildren.forEach(function (_, key) {\n      return presenceChildren.set(key, false);\n    });\n  }, [isPresent]);\n  /**\n   * If there's no `motion` components to fire exit animations, we want to remove this\n   * component immediately.\n   */\n\n  React.useEffect(function () {\n    !isPresent && !presenceChildren.size && (_onExitComplete === null || _onExitComplete === void 0 ? void 0 : _onExitComplete());\n  }, [isPresent]);\n  return React.createElement(PresenceContext.Provider, {\n    value: context\n  }, children);\n};\n\nfunction newChildrenMap() {\n  return new Map();\n}\n\nexport { PresenceChild };","var defaultTimestep = 1 / 60 * 1000;\nvar getCurrentTime = typeof performance !== \"undefined\" ? function () {\n  return performance.now();\n} : function () {\n  return Date.now();\n};\nvar onNextFrame = typeof window !== \"undefined\" ? function (callback) {\n  return window.requestAnimationFrame(callback);\n} : function (callback) {\n  return setTimeout(function () {\n    return callback(getCurrentTime());\n  }, defaultTimestep);\n};\nexport { defaultTimestep, onNextFrame };","import { onNextFrame, defaultTimestep } from './on-next-frame.js';\nimport { createRenderStep } from './create-render-step.js';\nvar maxElapsed = 40;\nvar useDefaultElapsed = true;\nvar runNextFrame = false;\nvar isProcessing = false;\nvar frame = {\n  delta: 0,\n  timestamp: 0\n};\nvar stepsOrder = [\"read\", \"update\", \"preRender\", \"render\", \"postRender\"];\nvar steps = /*#__PURE__*/stepsOrder.reduce(function (acc, key) {\n  acc[key] = createRenderStep(function () {\n    return runNextFrame = true;\n  });\n  return acc;\n}, {});\nvar sync = /*#__PURE__*/stepsOrder.reduce(function (acc, key) {\n  var step = steps[key];\n\n  acc[key] = function (process, keepAlive, immediate) {\n    if (keepAlive === void 0) {\n      keepAlive = false;\n    }\n\n    if (immediate === void 0) {\n      immediate = false;\n    }\n\n    if (!runNextFrame) startLoop();\n    return step.schedule(process, keepAlive, immediate);\n  };\n\n  return acc;\n}, {});\nvar cancelSync = /*#__PURE__*/stepsOrder.reduce(function (acc, key) {\n  acc[key] = steps[key].cancel;\n  return acc;\n}, {});\nvar flushSync = /*#__PURE__*/stepsOrder.reduce(function (acc, key) {\n  acc[key] = function () {\n    return steps[key].process(frame);\n  };\n\n  return acc;\n}, {});\n\nvar processStep = function processStep(stepId) {\n  return steps[stepId].process(frame);\n};\n\nvar processFrame = function processFrame(timestamp) {\n  runNextFrame = false;\n  frame.delta = useDefaultElapsed ? defaultTimestep : Math.max(Math.min(timestamp - frame.timestamp, maxElapsed), 1);\n  frame.timestamp = timestamp;\n  isProcessing = true;\n  stepsOrder.forEach(processStep);\n  isProcessing = false;\n\n  if (runNextFrame) {\n    useDefaultElapsed = false;\n    onNextFrame(processFrame);\n  }\n};\n\nvar startLoop = function startLoop() {\n  runNextFrame = true;\n  useDefaultElapsed = true;\n  if (!isProcessing) onNextFrame(processFrame);\n};\n\nvar getFrameData = function getFrameData() {\n  return frame;\n};\n\nexport default sync;\nexport { cancelSync, flushSync, getFrameData };","function createRenderStep(runNextFrame) {\n  var toRun = [];\n  var toRunNextFrame = [];\n  var numToRun = 0;\n  var isProcessing = false;\n  var toKeepAlive = new WeakSet();\n  var step = {\n    schedule: function schedule(callback, keepAlive, immediate) {\n      if (keepAlive === void 0) {\n        keepAlive = false;\n      }\n\n      if (immediate === void 0) {\n        immediate = false;\n      }\n\n      var addToCurrentFrame = immediate && isProcessing;\n      var buffer = addToCurrentFrame ? toRun : toRunNextFrame;\n      if (keepAlive) toKeepAlive.add(callback);\n\n      if (buffer.indexOf(callback) === -1) {\n        buffer.push(callback);\n        if (addToCurrentFrame && isProcessing) numToRun = toRun.length;\n      }\n\n      return callback;\n    },\n    cancel: function cancel(callback) {\n      var index = toRunNextFrame.indexOf(callback);\n      if (index !== -1) toRunNextFrame.splice(index, 1);\n      toKeepAlive.delete(callback);\n    },\n    process: function process(frameData) {\n      var _a;\n\n      isProcessing = true;\n      _a = [toRunNextFrame, toRun], toRun = _a[0], toRunNextFrame = _a[1];\n      toRunNextFrame.length = 0;\n      numToRun = toRun.length;\n\n      if (numToRun) {\n        for (var i = 0; i < numToRun; i++) {\n          var callback = toRun[i];\n          callback(frameData);\n\n          if (toKeepAlive.has(callback)) {\n            step.schedule(callback);\n            runNextFrame();\n          }\n        }\n      }\n\n      isProcessing = false;\n    }\n  };\n  return step;\n}\n\nexport { createRenderStep };","function noop(any) {\n  return any;\n}\n\nexport { noop };","import { __assign } from 'tslib';\nimport { noop } from '../noop.js';\n/**\n * Bounding boxes tend to be defined as top, left, right, bottom. For various operations\n * it's easier to consider each axis individually. This function returns a bounding box\n * as a map of single-axis min/max values.\n */\n\nfunction convertBoundingBoxToAxisBox(_a) {\n  var top = _a.top,\n      left = _a.left,\n      right = _a.right,\n      bottom = _a.bottom;\n  return {\n    x: {\n      min: left,\n      max: right\n    },\n    y: {\n      min: top,\n      max: bottom\n    }\n  };\n}\n\nfunction convertAxisBoxToBoundingBox(_a) {\n  var x = _a.x,\n      y = _a.y;\n  return {\n    top: y.min,\n    bottom: y.max,\n    left: x.min,\n    right: x.max\n  };\n}\n/**\n * Applies a TransformPoint function to a bounding box. TransformPoint is usually a function\n * provided by Framer to allow measured points to be corrected for device scaling. This is used\n * when measuring DOM elements and DOM event points.\n */\n\n\nfunction transformBoundingBox(_a, transformPoint) {\n  var top = _a.top,\n      left = _a.left,\n      bottom = _a.bottom,\n      right = _a.right;\n\n  if (transformPoint === void 0) {\n    transformPoint = noop;\n  }\n\n  var topLeft = transformPoint({\n    x: left,\n    y: top\n  });\n  var bottomRight = transformPoint({\n    x: right,\n    y: bottom\n  });\n  return {\n    top: topLeft.y,\n    left: topLeft.x,\n    bottom: bottomRight.y,\n    right: bottomRight.x\n  };\n}\n/**\n * Create an empty axis box of zero size\n */\n\n\nfunction axisBox() {\n  return {\n    x: {\n      min: 0,\n      max: 1\n    },\n    y: {\n      min: 0,\n      max: 1\n    }\n  };\n}\n\nfunction copyAxisBox(box) {\n  return {\n    x: __assign({}, box.x),\n    y: __assign({}, box.y)\n  };\n}\n/**\n * Create an empty box delta\n */\n\n\nvar zeroDelta = {\n  translate: 0,\n  scale: 1,\n  origin: 0,\n  originPoint: 0\n};\n\nfunction delta() {\n  return {\n    x: __assign({}, zeroDelta),\n    y: __assign({}, zeroDelta)\n  };\n}\n\nexport { axisBox, convertAxisBoxToBoundingBox, convertBoundingBoxToAxisBox, copyAxisBox, delta, transformBoundingBox };","var compareByDepth = function compareByDepth(a, b) {\n  return a.depth - b.depth;\n};\n\nexport { compareByDepth };","import sync from 'framesync';\nimport { copyAxisBox } from '../../../utils/geometry/index.js';\nimport { compareByDepth } from '../../utils/compare-by-depth.js';\n\nfunction isProjecting(visualElement) {\n  var isEnabled = visualElement.projection.isEnabled;\n  return isEnabled || visualElement.shouldResetTransform();\n}\n\nfunction collectProjectingAncestors(visualElement, ancestors) {\n  if (ancestors === void 0) {\n    ancestors = [];\n  }\n\n  var parent = visualElement.parent;\n  if (parent) collectProjectingAncestors(parent, ancestors);\n  if (isProjecting(visualElement)) ancestors.push(visualElement);\n  return ancestors;\n}\n\nfunction collectProjectingChildren(visualElement) {\n  var children = [];\n\n  var addChild = function addChild(child) {\n    if (isProjecting(child)) children.push(child);\n    child.children.forEach(addChild);\n  };\n\n  visualElement.children.forEach(addChild);\n  return children.sort(compareByDepth);\n}\n/**\n * Update the layoutState by measuring the DOM layout. This\n * should be called after resetting any layout-affecting transforms.\n */\n\n\nfunction updateLayoutMeasurement(visualElement) {\n  if (visualElement.shouldResetTransform()) return;\n  var layoutState = visualElement.getLayoutState();\n  visualElement.notifyBeforeLayoutMeasure(layoutState.layout);\n  layoutState.isHydrated = true;\n  layoutState.layout = visualElement.measureViewportBox();\n  layoutState.layoutCorrected = copyAxisBox(layoutState.layout);\n  visualElement.notifyLayoutMeasure(layoutState.layout, visualElement.prevViewportBox || layoutState.layout);\n  sync.update(function () {\n    return visualElement.rebaseProjectionTarget();\n  });\n}\n/**\n * Record the viewport box as it was before an expected mutation/re-render\n */\n\n\nfunction snapshotViewportBox(visualElement) {\n  if (visualElement.shouldResetTransform()) return;\n  visualElement.prevViewportBox = visualElement.measureViewportBox(false);\n  /**\n   * Update targetBox to match the prevViewportBox. This is just to ensure\n   * that targetBox is affected by scroll in the same way as the measured box\n   */\n\n  visualElement.rebaseProjectionTarget(false, visualElement.prevViewportBox);\n}\n\nexport { collectProjectingAncestors, collectProjectingChildren, snapshotViewportBox, updateLayoutMeasurement };","var unresolvedJobs = new Set();\n\nfunction pushJob(stack, job, pointer) {\n  if (!stack[pointer]) stack[pointer] = [];\n  stack[pointer].push(job);\n}\n\nfunction batchLayout(callback) {\n  unresolvedJobs.add(callback);\n  return function () {\n    return unresolvedJobs.delete(callback);\n  };\n}\n\nfunction flushLayout() {\n  if (!unresolvedJobs.size) return;\n  var pointer = 0;\n  var reads = [[]];\n  var writes = [];\n\n  var setRead = function setRead(job) {\n    return pushJob(reads, job, pointer);\n  };\n\n  var setWrite = function setWrite(job) {\n    pushJob(writes, job, pointer);\n    pointer++;\n  };\n  /**\n   * Resolve jobs into their array stacks\n   */\n\n\n  unresolvedJobs.forEach(function (callback) {\n    callback(setRead, setWrite);\n    pointer = 0;\n  });\n  unresolvedJobs.clear();\n  /**\n   * Execute jobs\n   */\n\n  var numStacks = writes.length;\n\n  for (var i = 0; i <= numStacks; i++) {\n    reads[i] && reads[i].forEach(executeJob);\n    writes[i] && writes[i].forEach(executeJob);\n  }\n}\n\nvar executeJob = function executeJob(job) {\n  return job();\n};\n\nexport { batchLayout, flushLayout };","/**\n * @public\n */\nvar Presence;\n\n(function (Presence) {\n  Presence[Presence[\"Entering\"] = 0] = \"Entering\";\n  Presence[Presence[\"Present\"] = 1] = \"Present\";\n  Presence[Presence[\"Exiting\"] = 2] = \"Exiting\";\n})(Presence || (Presence = {}));\n/**\n * @public\n */\n\n\nvar VisibilityAction;\n\n(function (VisibilityAction) {\n  VisibilityAction[VisibilityAction[\"Hide\"] = 0] = \"Hide\";\n  VisibilityAction[VisibilityAction[\"Show\"] = 1] = \"Show\";\n})(VisibilityAction || (VisibilityAction = {}));\n\nexport { Presence, VisibilityAction };","import { __spreadArray, __read } from 'tslib';\nimport sync, { flushSync } from 'framesync';\nimport { collectProjectingAncestors, updateLayoutMeasurement } from '../../../render/dom/projection/utils.js';\nimport { batchLayout, flushLayout } from '../../../render/dom/utils/batch-layout.js';\nimport { compareByDepth } from '../../../render/utils/compare-by-depth.js';\nimport { Presence } from '../types.js';\n/**\n * Default handlers for batching VisualElements\n */\n\nvar defaultHandler = {\n  layoutReady: function layoutReady(child) {\n    return child.notifyLayoutReady();\n  }\n};\n/**\n * Create a batcher to process VisualElements\n */\n\nfunction createBatcher() {\n  var queue = new Set();\n  return {\n    add: function add(child) {\n      return queue.add(child);\n    },\n    flush: function flush(_a) {\n      var _b = _a === void 0 ? defaultHandler : _a,\n          layoutReady = _b.layoutReady,\n          parent = _b.parent;\n\n      batchLayout(function (read, write) {\n        var order = Array.from(queue).sort(compareByDepth);\n        var ancestors = parent ? collectProjectingAncestors(parent) : [];\n        write(function () {\n          var allElements = __spreadArray(__spreadArray([], __read(ancestors)), __read(order));\n\n          allElements.forEach(function (element) {\n            return element.resetTransform();\n          });\n        });\n        read(function () {\n          order.forEach(updateLayoutMeasurement);\n        });\n        write(function () {\n          ancestors.forEach(function (element) {\n            return element.restoreTransform();\n          });\n          order.forEach(layoutReady);\n        });\n        read(function () {\n          /**\n           * After all children have started animating, ensure any Entering components are set to Present.\n           * If we add deferred animations (set up all animations and then start them in two loops) this\n           * could be moved to the start loop. But it needs to happen after all the animations configs\n           * are generated in AnimateSharedLayout as this relies on presence data\n           */\n          order.forEach(function (child) {\n            if (child.isPresent) child.presence = Presence.Present;\n          });\n        });\n        write(function () {\n          /**\n           * Starting these animations will have queued jobs on the frame loop. In some situations,\n           * like when removing an element, these will be processed too late after the DOM is manipulated,\n           * leaving a flash of incorrectly-projected content. By manually flushing these jobs\n           * we ensure there's no flash.\n           */\n          flushSync.preRender();\n          flushSync.render();\n        });\n        read(function () {\n          /**\n           * Schedule a callback at the end of the following frame to assign the latest projection\n           * box to the prevViewportBox snapshot. Once global batching is in place this could be run\n           * synchronously. But for now it ensures that if any nested `AnimateSharedLayout` top-level\n           * child attempts to calculate its previous relative position against a prevViewportBox\n           * it will be against its latest projection box instead, as the snapshot is useless beyond this\n           * render.\n           */\n          sync.postRender(function () {\n            return order.forEach(assignProjectionToSnapshot);\n          });\n          queue.clear();\n        });\n      }); // TODO: Need to find a layout-synchronous way of flushing this\n\n      flushLayout();\n    }\n  };\n}\n\nfunction assignProjectionToSnapshot(child) {\n  child.prevViewportBox = child.projection.target;\n}\n\nexport { createBatcher };","import { createContext } from 'react';\nimport { createBatcher } from '../components/AnimateSharedLayout/utils/batcher.js';\nvar SharedLayoutContext = createContext(createBatcher());\n/**\n * @internal\n */\n\nvar FramerTreeLayoutContext = createContext(createBatcher());\n\nfunction isSharedLayout(context) {\n  return !!context.forceUpdate;\n}\n\nexport { FramerTreeLayoutContext, SharedLayoutContext, isSharedLayout };","import { __spreadArray, __read } from 'tslib';\nimport * as React from 'react';\nimport { useContext, useRef, cloneElement, Children, isValidElement } from 'react';\nimport { useForceUpdate } from '../../utils/use-force-update.js';\nimport { PresenceChild } from './PresenceChild.js';\nimport { SharedLayoutContext, isSharedLayout } from '../../context/SharedLayoutContext.js';\n\nfunction getChildKey(child) {\n  return child.key || \"\";\n}\n\nfunction updateChildLookup(children, allChildren) {\n  var seenChildren = process.env.NODE_ENV !== \"production\" ? new Set() : null;\n  children.forEach(function (child) {\n    var key = getChildKey(child);\n\n    if (process.env.NODE_ENV !== \"production\" && seenChildren) {\n      if (seenChildren.has(key)) {\n        console.warn(\"Children of AnimatePresence require unique keys. \\\"\" + key + \"\\\" is a duplicate.\");\n      }\n\n      seenChildren.add(key);\n    }\n\n    allChildren.set(key, child);\n  });\n}\n\nfunction onlyElements(children) {\n  var filtered = []; // We use forEach here instead of map as map mutates the component key by preprending `.$`\n\n  Children.forEach(children, function (child) {\n    if (isValidElement(child)) filtered.push(child);\n  });\n  return filtered;\n}\n/**\n * `AnimatePresence` enables the animation of components that have been removed from the tree.\n *\n * When adding/removing more than a single child, every child **must** be given a unique `key` prop.\n *\n * @library\n *\n * Any `Frame` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { Frame, AnimatePresence } from 'framer'\n *\n * // As items are added and removed from `items`\n * export function Items({ items }) {\n *   return (\n *     <AnimatePresence>\n *       {items.map(item => (\n *         <Frame\n *           key={item.id}\n *           initial={{ opacity: 0 }}\n *           animate={{ opacity: 1 }}\n *           exit={{ opacity: 0 }}\n *         />\n *       ))}\n *     </AnimatePresence>\n *   )\n * }\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * @motion\n *\n * Any `motion` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { motion, AnimatePresence } from 'framer-motion'\n *\n * export const Items = ({ items }) => (\n *   <AnimatePresence>\n *     {items.map(item => (\n *       <motion.div\n *         key={item.id}\n *         initial={{ opacity: 0 }}\n *         animate={{ opacity: 1 }}\n *         exit={{ opacity: 0 }}\n *       />\n *     ))}\n *   </AnimatePresence>\n * )\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * If a child contains multiple `motion` components with `exit` props, it will only unmount the child\n * once all `motion` components have finished animating out. Likewise, any components using\n * `usePresence` all need to call `safeToRemove`.\n *\n * @public\n */\n\n\nvar AnimatePresence = function AnimatePresence(_a) {\n  var children = _a.children,\n      custom = _a.custom,\n      _b = _a.initial,\n      initial = _b === void 0 ? true : _b,\n      onExitComplete = _a.onExitComplete,\n      exitBeforeEnter = _a.exitBeforeEnter,\n      _c = _a.presenceAffectsLayout,\n      presenceAffectsLayout = _c === void 0 ? true : _c; // We want to force a re-render once all exiting animations have finished. We\n  // either use a local forceRender function, or one from a parent context if it exists.\n\n  var forceRender = useForceUpdate();\n  var layoutContext = useContext(SharedLayoutContext);\n\n  if (isSharedLayout(layoutContext)) {\n    forceRender = layoutContext.forceUpdate;\n  }\n\n  var isInitialRender = useRef(true); // Filter out any children that aren't ReactElements. We can only track ReactElements with a props.key\n\n  var filteredChildren = onlyElements(children); // Keep a living record of the children we're actually rendering so we\n  // can diff to figure out which are entering and exiting\n\n  var presentChildren = useRef(filteredChildren); // A lookup table to quickly reference components by key\n\n  var allChildren = useRef(new Map()).current; // A living record of all currently exiting components.\n\n  var exiting = useRef(new Set()).current;\n  updateChildLookup(filteredChildren, allChildren); // If this is the initial component render, just deal with logic surrounding whether\n  // we play onMount animations or not.\n\n  if (isInitialRender.current) {\n    isInitialRender.current = false;\n    return React.createElement(React.Fragment, null, filteredChildren.map(function (child) {\n      return React.createElement(PresenceChild, {\n        key: getChildKey(child),\n        isPresent: true,\n        initial: initial ? undefined : false,\n        presenceAffectsLayout: presenceAffectsLayout\n      }, child);\n    }));\n  } // If this is a subsequent render, deal with entering and exiting children\n\n\n  var childrenToRender = __spreadArray([], __read(filteredChildren)); // Diff the keys of the currently-present and target children to update our\n  // exiting list.\n\n\n  var presentKeys = presentChildren.current.map(getChildKey);\n  var targetKeys = filteredChildren.map(getChildKey); // Diff the present children with our target children and mark those that are exiting\n\n  var numPresent = presentKeys.length;\n\n  for (var i = 0; i < numPresent; i++) {\n    var key = presentKeys[i];\n\n    if (targetKeys.indexOf(key) === -1) {\n      exiting.add(key);\n    } else {\n      // In case this key has re-entered, remove from the exiting list\n      exiting.delete(key);\n    }\n  } // If we currently have exiting children, and we're deferring rendering incoming children\n  // until after all current children have exiting, empty the childrenToRender array\n\n\n  if (exitBeforeEnter && exiting.size) {\n    childrenToRender = [];\n  } // Loop through all currently exiting components and clone them to overwrite `animate`\n  // with any `exit` prop they might have defined.\n\n\n  exiting.forEach(function (key) {\n    // If this component is actually entering again, early return\n    if (targetKeys.indexOf(key) !== -1) return;\n    var child = allChildren.get(key);\n    if (!child) return;\n    var insertionIndex = presentKeys.indexOf(key);\n\n    var onExit = function onExit() {\n      allChildren.delete(key);\n      exiting.delete(key); // Remove this child from the present children\n\n      var removeIndex = presentChildren.current.findIndex(function (presentChild) {\n        return presentChild.key === key;\n      });\n      presentChildren.current.splice(removeIndex, 1); // Defer re-rendering until all exiting children have indeed left\n\n      if (!exiting.size) {\n        presentChildren.current = filteredChildren;\n        forceRender();\n        onExitComplete && onExitComplete();\n      }\n    };\n\n    childrenToRender.splice(insertionIndex, 0, React.createElement(PresenceChild, {\n      key: getChildKey(child),\n      isPresent: false,\n      onExitComplete: onExit,\n      custom: custom,\n      presenceAffectsLayout: presenceAffectsLayout\n    }, child));\n  }); // Add `MotionContext` even to children that don't need it to ensure we're rendering\n  // the same tree between renders\n\n  childrenToRender = childrenToRender.map(function (child) {\n    var key = child.key;\n    return exiting.has(key) ? child : React.createElement(PresenceChild, {\n      key: getChildKey(child),\n      isPresent: true,\n      presenceAffectsLayout: presenceAffectsLayout\n    }, child);\n  });\n  presentChildren.current = childrenToRender;\n\n  if (process.env.NODE_ENV !== \"production\" && exitBeforeEnter && childrenToRender.length > 1) {\n    console.warn(\"You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour.\");\n  }\n\n  return React.createElement(React.Fragment, null, exiting.size ? childrenToRender : childrenToRender.map(function (child) {\n    return cloneElement(child);\n  }));\n};\n\nexport { AnimatePresence };","import { __read } from 'tslib';\nimport { useCallback, useRef, useState } from 'react';\nimport { useUnmountEffect } from './use-unmount-effect.js';\n\nfunction useForceUpdate() {\n  var unloadingRef = useRef(false);\n\n  var _a = __read(useState(0), 2),\n      forcedRenderCount = _a[0],\n      setForcedRenderCount = _a[1];\n\n  useUnmountEffect(function () {\n    return unloadingRef.current = true;\n  });\n  return useCallback(function () {\n    !unloadingRef.current && setForcedRenderCount(forcedRenderCount + 1);\n  }, [forcedRenderCount]);\n}\n\nexport { useForceUpdate };","import * as React from \"react\";\n/**\n * React effect hook that invokes only on update.\n * It doesn't invoke on mount\n */\n\nexport var useUpdateEffect = function useUpdateEffect(effect, deps) {\n  var mounted = React.useRef(false);\n  React.useEffect(function () {\n    if (mounted.current) {\n      return effect();\n    }\n\n    mounted.current = true;\n    return undefined; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n  return mounted.current;\n};","import * as React from \"react\";\nimport { isBrowser } from \"@chakra-ui/utils\";\n/**\n * useSafeLayoutEffect enables us to safely call `useLayoutEffect` on the browser\n * (for SSR reasons)\n *\n * React currently throws a warning when using useLayoutEffect on the server.\n * To get around it, we can conditionally useEffect on the server (no-op) and\n * useLayoutEffect in the browser.\n *\n * @see https://gist.github.com/gaearon/e7d97cdf38a2907924ea12e4ebdf3c85\n */\n\nexport var useSafeLayoutEffect = isBrowser ? React.useLayoutEffect : React.useEffect;","import * as React from \"react\";\nimport { useCallbackRef } from \"./use-callback-ref\";\n/**\n * React hook that provides a declarative `setTimeout`\n *\n * @param callback the callback to run after specified delay\n * @param delay the delay (in ms)\n */\n\nexport function useTimeout(callback, delay) {\n  var fn = useCallbackRef(callback);\n  React.useEffect(function () {\n    if (delay == null) return undefined;\n    var timeoutId = null;\n    timeoutId = window.setTimeout(function () {\n      fn();\n    }, delay);\n    return function () {\n      if (timeoutId) {\n        window.clearTimeout(timeoutId);\n      }\n    };\n  }, [delay, fn]);\n}","import * as React from \"react\";\nimport { useSafeLayoutEffect } from \"./use-safe-layout-effect\";\n/**\n * React hook to persist any value between renders,\n * but keeps it up-to-date if it changes.\n *\n * @param value the value or function to persist\n */\n\nexport function useCallbackRef(fn, deps) {\n  if (deps === void 0) {\n    deps = [];\n  }\n\n  var ref = React.useRef(fn);\n  useSafeLayoutEffect(function () {\n    ref.current = fn;\n  }); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  return React.useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return ref.current == null ? void 0 : ref.current.apply(ref, args);\n  }, deps);\n}","import { useContext, useEffect } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { useConstant } from '../../utils/use-constant.js';\n/**\n * When a component is the child of `AnimatePresence`, it can use `usePresence`\n * to access information about whether it's still present in the React tree.\n *\n * ```jsx\n * import { usePresence } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const [isPresent, safeToRemove] = usePresence()\n *\n *   useEffect(() => {\n *     !isPresent && setTimeout(safeToRemove, 1000)\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * If `isPresent` is `false`, it means that a component has been removed the tree, but\n * `AnimatePresence` won't really remove it until `safeToRemove` has been called.\n *\n * @public\n */\n\nfunction usePresence() {\n  var context = useContext(PresenceContext);\n  if (context === null) return [true, null];\n  var isPresent = context.isPresent,\n      onExitComplete = context.onExitComplete,\n      register = context.register; // It's safe to call the following hooks conditionally (after an early return) because the context will always\n  // either be null or non-null for the lifespan of the component.\n  // Replace with useOpaqueId when released in React\n\n  var id = useUniqueId();\n  useEffect(function () {\n    return register(id);\n  }, []);\n\n  var safeToRemove = function safeToRemove() {\n    return onExitComplete === null || onExitComplete === void 0 ? void 0 : onExitComplete(id);\n  };\n\n  return !isPresent && onExitComplete ? [false, safeToRemove] : [true];\n}\n/**\n * Similar to `usePresence`, except `useIsPresent` simply returns whether or not the component is present.\n * There is no `safeToRemove` function.\n *\n * ```jsx\n * import { useIsPresent } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const isPresent = useIsPresent()\n *\n *   useEffect(() => {\n *     !isPresent && console.log(\"I've been removed!\")\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * @public\n */\n\n\nfunction useIsPresent() {\n  return isPresent(useContext(PresenceContext));\n}\n\nfunction isPresent(context) {\n  return context === null ? true : context.isPresent;\n}\n\nvar counter = 0;\n\nvar incrementId = function incrementId() {\n  return counter++;\n};\n\nvar useUniqueId = function useUniqueId() {\n  return useConstant(incrementId);\n};\n\nexport { isPresent, useIsPresent, usePresence };","var createDefinition = function createDefinition(propNames) {\n  return {\n    isEnabled: function isEnabled(props) {\n      return propNames.some(function (name) {\n        return !!props[name];\n      });\n    }\n  };\n};\n\nvar featureDefinitions = {\n  measureLayout: createDefinition([\"layout\", \"layoutId\", \"drag\", \"_layoutResetTransform\"]),\n  animation: createDefinition([\"animate\", \"exit\", \"variants\", \"whileHover\", \"whileTap\", \"whileFocus\", \"whileDrag\"]),\n  exit: createDefinition([\"exit\"]),\n  drag: createDefinition([\"drag\", \"dragControls\"]),\n  focus: createDefinition([\"whileFocus\"]),\n  hover: createDefinition([\"whileHover\", \"onHoverStart\", \"onHoverEnd\"]),\n  tap: createDefinition([\"whileTap\", \"onTap\", \"onTapStart\", \"onTapCancel\"]),\n  pan: createDefinition([\"onPan\", \"onPanStart\", \"onPanSessionStart\", \"onPanEnd\"]),\n  layoutAnimation: createDefinition([\"layout\", \"layoutId\"])\n};\n\nfunction loadFeatures(features) {\n  for (var key in features) {\n    var Component = features[key];\n    if (Component !== null) featureDefinitions[key].Component = Component;\n  }\n}\n\nexport { featureDefinitions, loadFeatures };","import { createContext } from 'react';\nvar LazyContext = createContext({\n  strict: false\n});\nexport { LazyContext };","import { __assign } from 'tslib';\nimport * as React from 'react';\nimport { useContext } from 'react';\nimport { featureDefinitions } from './definitions.js';\nimport { invariant } from 'hey-listen';\nimport { LazyContext } from '../../context/LazyContext.js';\nvar featureNames = Object.keys(featureDefinitions);\nvar numFeatures = featureNames.length;\n/**\n * Load features via renderless components based on the provided MotionProps.\n */\n\nfunction useFeatures(props, visualElement, preloadedFeatures) {\n  var features = [];\n  var lazyContext = useContext(LazyContext);\n  if (!visualElement) return null;\n  /**\n   * If we're in development mode, check to make sure we're not rendering a motion component\n   * as a child of LazyMotion, as this will break the file-size benefits of using it.\n   */\n\n  if (process.env.NODE_ENV !== \"production\" && preloadedFeatures && lazyContext.strict) {\n    invariant(false, \"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.\");\n  }\n\n  for (var i = 0; i < numFeatures; i++) {\n    var name_1 = featureNames[i];\n    var _a = featureDefinitions[name_1],\n        isEnabled = _a.isEnabled,\n        Component = _a.Component;\n    /**\n     * It might be possible in the future to use this moment to\n     * dynamically request functionality. In initial tests this\n     * was producing a lot of duplication amongst bundles.\n     */\n\n    if (isEnabled(props) && Component) {\n      features.push(React.createElement(Component, __assign({\n        key: name_1\n      }, props, {\n        visualElement: visualElement\n      })));\n    }\n  }\n\n  return features;\n}\n\nexport { useFeatures };","import { createContext } from 'react';\n/**\n * @public\n */\n\nvar MotionConfigContext = createContext({\n  transformPagePoint: function transformPagePoint(p) {\n    return p;\n  },\n  isStatic: false\n});\nexport { MotionConfigContext };","import { useContext, createContext } from 'react';\nvar MotionContext = createContext({});\n\nfunction useVisualElementContext() {\n  return useContext(MotionContext).visualElement;\n}\n\nexport { MotionContext, useVisualElementContext };","import { createContext } from 'react';\n/**\n * @internal\n */\n\nvar LayoutGroupContext = createContext(null);\nexport { LayoutGroupContext };","var isBrowser = typeof window !== \"undefined\";\nexport { isBrowser };","import { useLayoutEffect, useEffect } from 'react';\nimport { isBrowser } from './is-browser.js';\nvar useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\nexport { useIsomorphicLayoutEffect };","import { __assign } from 'tslib';\nimport { useContext, useRef, useEffect } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { isPresent } from '../../components/AnimatePresence/use-presence.js';\nimport { LayoutGroupContext } from '../../context/LayoutGroupContext.js';\nimport { useVisualElementContext } from '../../context/MotionContext/index.js';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.js';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.js';\nimport { LazyContext } from '../../context/LazyContext.js';\n\nfunction useLayoutId(_a) {\n  var layoutId = _a.layoutId;\n  var layoutGroupId = useContext(LayoutGroupContext);\n  return layoutGroupId && layoutId !== undefined ? layoutGroupId + \"-\" + layoutId : layoutId;\n}\n\nfunction useVisualElement(Component, visualState, props, createVisualElement) {\n  var config = useContext(MotionConfigContext);\n  var lazyContext = useContext(LazyContext);\n  var parent = useVisualElementContext();\n  var presenceContext = useContext(PresenceContext);\n  var layoutId = useLayoutId(props);\n  var visualElementRef = useRef(undefined);\n  /**\n   * If we haven't preloaded a renderer, check to see if we have one lazy-loaded\n   */\n\n  if (!createVisualElement) createVisualElement = lazyContext.renderer;\n\n  if (!visualElementRef.current && createVisualElement) {\n    visualElementRef.current = createVisualElement(Component, {\n      visualState: visualState,\n      parent: parent,\n      props: __assign(__assign({}, props), {\n        layoutId: layoutId\n      }),\n      presenceId: presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.id,\n      blockInitialAnimation: (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.initial) === false\n    });\n  }\n\n  var visualElement = visualElementRef.current;\n  useIsomorphicLayoutEffect(function () {\n    if (!visualElement) return;\n    visualElement.setProps(__assign(__assign(__assign({}, config), props), {\n      layoutId: layoutId\n    }));\n    visualElement.isPresent = isPresent(presenceContext);\n    visualElement.isPresenceRoot = !parent || parent.presenceId !== (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.id);\n    /**\n     * Fire a render to ensure the latest state is reflected on-screen.\n     */\n\n    visualElement.syncRender();\n  });\n  useEffect(function () {\n    var _a;\n\n    if (!visualElement) return;\n    /**\n     * In a future refactor we can replace the features-as-components and\n     * have this loop through them all firing \"effect\" listeners\n     */\n\n    (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.animateChanges();\n  });\n  useIsomorphicLayoutEffect(function () {\n    return function () {\n      return visualElement === null || visualElement === void 0 ? void 0 : visualElement.notifyUnmount();\n    };\n  }, []);\n  return visualElement;\n}\n\nexport { useVisualElement };","function isRefObject(ref) {\n  return typeof ref === \"object\" && Object.prototype.hasOwnProperty.call(ref, \"current\");\n}\n\nexport { isRefObject };","/**\n * Decides if the supplied variable is an array of variant labels\n */\nfunction isVariantLabels(v) {\n  return Array.isArray(v);\n}\n/**\n * Decides if the supplied variable is variant label\n */\n\n\nfunction isVariantLabel(v) {\n  return typeof v === \"string\" || isVariantLabels(v);\n}\n/**\n * Creates an object containing the latest state of every MotionValue on a VisualElement\n */\n\n\nfunction getCurrent(visualElement) {\n  var current = {};\n  visualElement.forEachValue(function (value, key) {\n    return current[key] = value.get();\n  });\n  return current;\n}\n/**\n * Creates an object containing the latest velocity of every MotionValue on a VisualElement\n */\n\n\nfunction getVelocity(visualElement) {\n  var velocity = {};\n  visualElement.forEachValue(function (value, key) {\n    return velocity[key] = value.getVelocity();\n  });\n  return velocity;\n}\n\nfunction resolveVariantFromProps(props, definition, custom, currentValues, currentVelocity) {\n  var _a;\n\n  if (currentValues === void 0) {\n    currentValues = {};\n  }\n\n  if (currentVelocity === void 0) {\n    currentVelocity = {};\n  }\n\n  if (typeof definition === \"string\") {\n    definition = (_a = props.variants) === null || _a === void 0 ? void 0 : _a[definition];\n  }\n\n  return typeof definition === \"function\" ? definition(custom !== null && custom !== void 0 ? custom : props.custom, currentValues, currentVelocity) : definition;\n}\n\nfunction resolveVariant(visualElement, definition, custom) {\n  var props = visualElement.getProps();\n  return resolveVariantFromProps(props, definition, custom !== null && custom !== void 0 ? custom : props.custom, getCurrent(visualElement), getVelocity(visualElement));\n}\n\nfunction checkIfControllingVariants(props) {\n  var _a;\n\n  return typeof ((_a = props.animate) === null || _a === void 0 ? void 0 : _a.start) === \"function\" || isVariantLabel(props.initial) || isVariantLabel(props.animate) || isVariantLabel(props.whileHover) || isVariantLabel(props.whileDrag) || isVariantLabel(props.whileTap) || isVariantLabel(props.whileFocus) || isVariantLabel(props.exit);\n}\n\nfunction checkIfVariantNode(props) {\n  return Boolean(checkIfControllingVariants(props) || props.variants);\n}\n\nexport { checkIfControllingVariants, checkIfVariantNode, isVariantLabel, isVariantLabels, resolveVariant, resolveVariantFromProps };","import { useMemo, useContext } from 'react';\nimport { MotionContext } from './index.js';\nimport { getCurrentTreeVariants } from './utils.js';\n\nfunction useCreateMotionContext(props, isStatic) {\n  var _a = getCurrentTreeVariants(props, useContext(MotionContext)),\n      initial = _a.initial,\n      animate = _a.animate;\n\n  return useMemo(function () {\n    return {\n      initial: initial,\n      animate: animate\n    };\n  },\n  /**\n   * Only break memoisation in static mode\n   */\n  isStatic ? [variantLabelsAsDependency(initial), variantLabelsAsDependency(animate)] : []);\n}\n\nfunction variantLabelsAsDependency(prop) {\n  return Array.isArray(prop) ? prop.join(\" \") : prop;\n}\n\nexport { useCreateMotionContext };","import { checkIfControllingVariants, isVariantLabel } from '../../render/utils/variants.js';\n\nfunction getCurrentTreeVariants(props, context) {\n  if (checkIfControllingVariants(props)) {\n    var initial = props.initial,\n        animate = props.animate;\n    return {\n      initial: initial === false || isVariantLabel(initial) ? initial : undefined,\n      animate: isVariantLabel(animate) ? animate : undefined\n    };\n  }\n\n  return props.inherit !== false ? context : {};\n}\n\nexport { getCurrentTreeVariants };","import * as React from 'react';\nimport { forwardRef, useContext } from 'react';\nimport { useFeatures } from './features/use-features.js';\nimport { MotionConfigContext } from '../context/MotionConfigContext.js';\nimport { MotionContext } from '../context/MotionContext/index.js';\nimport { useVisualElement } from './utils/use-visual-element.js';\nimport { useMotionRef } from './utils/use-motion-ref.js';\nimport { useCreateMotionContext } from '../context/MotionContext/create.js';\nimport { loadFeatures } from './features/definitions.js';\nimport { isBrowser } from '../utils/is-browser.js';\n/**\n * Create a `motion` component.\n *\n * This function accepts a Component argument, which can be either a string (ie \"div\"\n * for `motion.div`), or an actual React component.\n *\n * Alongside this is a config option which provides a way of rendering the provided\n * component \"offline\", or outside the React render cycle.\n *\n * @internal\n */\n\nfunction createMotionComponent(_a) {\n  var preloadedFeatures = _a.preloadedFeatures,\n      createVisualElement = _a.createVisualElement,\n      useRender = _a.useRender,\n      useVisualState = _a.useVisualState,\n      Component = _a.Component;\n  preloadedFeatures && loadFeatures(preloadedFeatures);\n\n  function MotionComponent(props, externalRef) {\n    /**\n     * If we're rendering in a static environment, we only visually update the component\n     * as a result of a React-rerender rather than interactions or animations. This\n     * means we don't need to load additional memory structures like VisualElement,\n     * or any gesture/animation features.\n     */\n    var isStatic = useContext(MotionConfigContext).isStatic;\n    var features = null;\n    /**\n     * Create the tree context. This is memoized and will only trigger renders\n     * when the current tree variant changes in static mode.\n     */\n\n    var context = useCreateMotionContext(props, isStatic);\n    /**\n     *\n     */\n\n    var visualState = useVisualState(props, isStatic);\n\n    if (!isStatic && isBrowser) {\n      /**\n       * Create a VisualElement for this component. A VisualElement provides a common\n       * interface to renderer-specific APIs (ie DOM/Three.js etc) as well as\n       * providing a way of rendering to these APIs outside of the React render loop\n       * for more performant animations and interactions\n       */\n      context.visualElement = useVisualElement(Component, visualState, props, createVisualElement);\n      /**\n       * Load Motion gesture and animation features. These are rendered as renderless\n       * components so each feature can optionally make use of React lifecycle methods.\n       *\n       * TODO: The intention is to move these away from a React-centric to a\n       * VisualElement-centric lifecycle scheme.\n       */\n\n      features = useFeatures(props, context.visualElement, preloadedFeatures);\n    }\n    /**\n     * The mount order and hierarchy is specific to ensure our element ref\n     * is hydrated by the time features fire their effects.\n     */\n\n\n    return React.createElement(React.Fragment, null, React.createElement(MotionContext.Provider, {\n      value: context\n    }, useRender(Component, props, useMotionRef(visualState, context.visualElement, externalRef), visualState, isStatic)), features);\n  }\n\n  return forwardRef(MotionComponent);\n}\n\nexport { createMotionComponent };","import { useCallback } from 'react';\nimport { isRefObject } from '../../utils/is-ref-object.js';\n/**\n * Creates a ref function that, when called, hydrates the provided\n * external ref and VisualElement.\n */\n\nfunction useMotionRef(visualState, visualElement, externalRef) {\n  return useCallback(function (instance) {\n    var _a;\n\n    instance && ((_a = visualState.mount) === null || _a === void 0 ? void 0 : _a.call(visualState, instance));\n\n    if (visualElement) {\n      instance ? visualElement.mount(instance) : visualElement.unmount();\n    }\n\n    if (externalRef) {\n      if (typeof externalRef === \"function\") {\n        externalRef(instance);\n      } else if (isRefObject(externalRef)) {\n        externalRef.current = instance;\n      }\n    }\n  },\n  /**\n   * Only pass a new ref callback to React if we've received a visual element\n   * factory. Otherwise we'll be mounting/remounting every time externalRef\n   * or other dependencies change.\n   */\n  [visualElement]);\n}\n\nexport { useMotionRef };","import { createMotionComponent } from '../../motion/index.js';\n/**\n * Convert any React component into a `motion` component. The provided component\n * **must** use `React.forwardRef` to the underlying DOM component you want to animate.\n *\n * ```jsx\n * const Component = React.forwardRef((props, ref) => {\n *   return <div ref={ref} />\n * })\n *\n * const MotionComponent = motion(Component)\n * ```\n *\n * @public\n */\n\nfunction createMotionProxy(createConfig) {\n  function custom(Component, customMotionComponentConfig) {\n    if (customMotionComponentConfig === void 0) {\n      customMotionComponentConfig = {};\n    }\n\n    return createMotionComponent(createConfig(Component, customMotionComponentConfig));\n  }\n  /**\n   * A cache of generated `motion` components, e.g `motion.div`, `motion.input` etc.\n   * Rather than generating them anew every render.\n   */\n\n\n  var componentCache = new Map();\n  return new Proxy(custom, {\n    /**\n     * Called when `motion` is referenced with a prop: `motion.div`, `motion.input` etc.\n     * The prop name is passed through as `key` and we can use that to generate a `motion`\n     * DOM component with that name.\n     */\n    get: function get(_target, key) {\n      /**\n       * If this element doesn't exist in the component cache, create it and cache.\n       */\n      if (!componentCache.has(key)) {\n        componentCache.set(key, custom(key));\n      }\n\n      return componentCache.get(key);\n    }\n  });\n}\n\nexport { createMotionProxy };","/**\n * We keep these listed seperately as we use the lowercase tag names as part\n * of the runtime bundle to detect SVG components\n */\nvar lowercaseSVGElements = [\"animate\", \"circle\", \"defs\", \"desc\", \"ellipse\", \"g\", \"image\", \"line\", \"filter\", \"marker\", \"mask\", \"metadata\", \"path\", \"pattern\", \"polygon\", \"polyline\", \"rect\", \"stop\", \"svg\", \"switch\", \"symbol\", \"text\", \"tspan\", \"use\", \"view\"];\nexport { lowercaseSVGElements };","import { lowercaseSVGElements } from '../../svg/lowercase-elements.js';\n\nfunction isSVGComponent(Component) {\n  if (\n  /**\n   * If it's not a string, it's a custom React component. Currently we only support\n   * HTML custom React components.\n   */\n  typeof Component !== \"string\" ||\n  /**\n   * If it contains a dash, the element is a custom HTML webcomponent.\n   */\n  Component.includes(\"-\")) {\n    return false;\n  } else if (\n  /**\n   * If it's in our list of lowercase SVG tags, it's an SVG component\n   */\n  lowercaseSVGElements.indexOf(Component) > -1 ||\n  /**\n   * If it contains a capital letter, it's an SVG component\n   */\n  /[A-Z]/.test(Component)) {\n    return true;\n  }\n\n  return false;\n}\n\nexport { isSVGComponent };","var valueScaleCorrection = {};\n/**\n * @internal\n */\n\nfunction addScaleCorrection(correctors) {\n  for (var key in correctors) {\n    valueScaleCorrection[key] = correctors[key];\n  }\n}\n\nexport { addScaleCorrection, valueScaleCorrection };","/**\n * A list of all transformable axes. We'll use this list to generated a version\n * of each axes for each transform.\n */\nvar transformAxes = [\"\", \"X\", \"Y\", \"Z\"];\n/**\n * An ordered array of each transformable value. By default, transform values\n * will be sorted to this order.\n */\n\nvar order = [\"translate\", \"scale\", \"rotate\", \"skew\"];\n/**\n * Generate a list of every possible transform key.\n */\n\nvar transformProps = [\"transformPerspective\", \"x\", \"y\", \"z\"];\norder.forEach(function (operationKey) {\n  return transformAxes.forEach(function (axesKey) {\n    return transformProps.push(operationKey + axesKey);\n  });\n});\n/**\n * A function to use with Array.sort to sort transform keys by their default order.\n */\n\nfunction sortTransformProps(a, b) {\n  return transformProps.indexOf(a) - transformProps.indexOf(b);\n}\n/**\n * A quick lookup for transform props.\n */\n\n\nvar transformPropSet = new Set(transformProps);\n\nfunction isTransformProp(key) {\n  return transformPropSet.has(key);\n}\n/**\n * A quick lookup for transform origin props\n */\n\n\nvar transformOriginProps = new Set([\"originX\", \"originY\", \"originZ\"]);\n\nfunction isTransformOriginProp(key) {\n  return transformOriginProps.has(key);\n}\n\nexport { isTransformOriginProp, isTransformProp, sortTransformProps, transformAxes, transformProps };","import { valueScaleCorrection } from '../../render/dom/projection/scale-correction.js';\nimport { isTransformProp, isTransformOriginProp } from '../../render/html/utils/transform.js';\n\nfunction isForcedMotionValue(key, _a) {\n  var layout = _a.layout,\n      layoutId = _a.layoutId;\n  return isTransformProp(key) || isTransformOriginProp(key) || (layout || layoutId !== undefined) && (!!valueScaleCorrection[key] || key === \"opacity\");\n}\n\nexport { isForcedMotionValue };","var isMotionValue = function isMotionValue(value) {\n  return value !== null && typeof value === \"object\" && value.getVelocity;\n};\n\nexport { isMotionValue };","import { sortTransformProps } from './transform.js';\nvar translateAlias = {\n  x: \"translateX\",\n  y: \"translateY\",\n  z: \"translateZ\",\n  transformPerspective: \"perspective\"\n};\n/**\n * Build a CSS transform style from individual x/y/scale etc properties.\n *\n * This outputs with a default order of transforms/scales/rotations, this can be customised by\n * providing a transformTemplate function.\n */\n\nfunction buildTransform(_a, _b, transformIsDefault, transformTemplate) {\n  var transform = _a.transform,\n      transformKeys = _a.transformKeys;\n  var _c = _b.enableHardwareAcceleration,\n      enableHardwareAcceleration = _c === void 0 ? true : _c,\n      _d = _b.allowTransformNone,\n      allowTransformNone = _d === void 0 ? true : _d; // The transform string we're going to build into.\n\n  var transformString = \"\"; // Transform keys into their default order - this will determine the output order.\n\n  transformKeys.sort(sortTransformProps); // Track whether the defined transform has a defined z so we don't add a\n  // second to enable hardware acceleration\n\n  var transformHasZ = false; // Loop over each transform and build them into transformString\n\n  var numTransformKeys = transformKeys.length;\n\n  for (var i = 0; i < numTransformKeys; i++) {\n    var key = transformKeys[i];\n    transformString += (translateAlias[key] || key) + \"(\" + transform[key] + \") \";\n    if (key === \"z\") transformHasZ = true;\n  }\n\n  if (!transformHasZ && enableHardwareAcceleration) {\n    transformString += \"translateZ(0)\";\n  } else {\n    transformString = transformString.trim();\n  } // If we have a custom `transform` template, pass our transform values and\n  // generated transformString to that before returning\n\n\n  if (transformTemplate) {\n    transformString = transformTemplate(transform, transformIsDefault ? \"\" : transformString);\n  } else if (allowTransformNone && transformIsDefault) {\n    transformString = \"none\";\n  }\n\n  return transformString;\n}\n/**\n * Build a transformOrigin style. Uses the same defaults as the browser for\n * undefined origins.\n */\n\n\nfunction buildTransformOrigin(_a) {\n  var _b = _a.originX,\n      originX = _b === void 0 ? \"50%\" : _b,\n      _c = _a.originY,\n      originY = _c === void 0 ? \"50%\" : _c,\n      _d = _a.originZ,\n      originZ = _d === void 0 ? 0 : _d;\n  return originX + \" \" + originY + \" \" + originZ;\n}\n\nexport { buildTransform, buildTransformOrigin };","/**\n * Returns true if the provided key is a CSS variable\n */\nfunction isCSSVariable(key) {\n  return key.startsWith(\"--\");\n}\n\nexport { isCSSVariable };","/**\n * Provided a value and a ValueType, returns the value as that value type.\n */\nvar getValueAsType = function getValueAsType(value, type) {\n  return type && typeof value === \"number\" ? type.transform(value) : value;\n};\n\nexport { getValueAsType };","var clamp = function clamp(min, max) {\n  return function (v) {\n    return Math.max(Math.min(v, max), min);\n  };\n};\n\nvar sanitize = function sanitize(v) {\n  return v % 1 ? Number(v.toFixed(5)) : v;\n};\n\nvar floatRegex = /(-)?([\\d]*\\.?[\\d])+/g;\nvar colorRegex = /(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?[\\d\\.]+%?[,\\s]+){2,3}\\s*\\/*\\s*[\\d\\.]+%?\\))/gi;\nvar singleColorRegex = /^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?[\\d\\.]+%?[,\\s]+){2,3}\\s*\\/*\\s*[\\d\\.]+%?\\))$/i;\n\nfunction isString(v) {\n  return typeof v === 'string';\n}\n\nexport { clamp, colorRegex, floatRegex, isString, sanitize, singleColorRegex };","import { __assign } from 'tslib';\nimport { isString } from '../utils.js';\n\nvar createUnitType = function createUnitType(unit) {\n  return {\n    test: function test(v) {\n      return isString(v) && v.endsWith(unit) && v.split(' ').length === 1;\n    },\n    parse: parseFloat,\n    transform: function transform(v) {\n      return \"\" + v + unit;\n    }\n  };\n};\n\nvar degrees = createUnitType('deg');\nvar percent = createUnitType('%');\nvar px = createUnitType('px');\nvar vh = createUnitType('vh');\nvar vw = createUnitType('vw');\n\nvar progressPercentage = __assign(__assign({}, percent), {\n  parse: function parse(v) {\n    return percent.parse(v) / 100;\n  },\n  transform: function transform(v) {\n    return percent.transform(v * 100);\n  }\n});\n\nexport { degrees, percent, progressPercentage, px, vh, vw };","import { __assign } from 'tslib';\nimport { clamp } from '../utils.js';\nvar number = {\n  test: function test(v) {\n    return typeof v === 'number';\n  },\n  parse: parseFloat,\n  transform: function transform(v) {\n    return v;\n  }\n};\n\nvar alpha = __assign(__assign({}, number), {\n  transform: clamp(0, 1)\n});\n\nvar scale = __assign(__assign({}, number), {\n  default: 1\n});\n\nexport { alpha, number, scale };","import { __assign } from 'tslib';\nimport { number } from 'style-value-types';\n\nvar int = __assign(__assign({}, number), {\n  transform: Math.round\n});\n\nexport { int };","import { px, degrees, scale, alpha, progressPercentage } from 'style-value-types';\nimport { int } from './type-int.js';\nvar numberValueTypes = {\n  // Border props\n  borderWidth: px,\n  borderTopWidth: px,\n  borderRightWidth: px,\n  borderBottomWidth: px,\n  borderLeftWidth: px,\n  borderRadius: px,\n  radius: px,\n  borderTopLeftRadius: px,\n  borderTopRightRadius: px,\n  borderBottomRightRadius: px,\n  borderBottomLeftRadius: px,\n  // Positioning props\n  width: px,\n  maxWidth: px,\n  height: px,\n  maxHeight: px,\n  size: px,\n  top: px,\n  right: px,\n  bottom: px,\n  left: px,\n  // Spacing props\n  padding: px,\n  paddingTop: px,\n  paddingRight: px,\n  paddingBottom: px,\n  paddingLeft: px,\n  margin: px,\n  marginTop: px,\n  marginRight: px,\n  marginBottom: px,\n  marginLeft: px,\n  // Transform props\n  rotate: degrees,\n  rotateX: degrees,\n  rotateY: degrees,\n  rotateZ: degrees,\n  scale: scale,\n  scaleX: scale,\n  scaleY: scale,\n  scaleZ: scale,\n  skew: degrees,\n  skewX: degrees,\n  skewY: degrees,\n  distance: px,\n  translateX: px,\n  translateY: px,\n  translateZ: px,\n  x: px,\n  y: px,\n  z: px,\n  perspective: px,\n  transformPerspective: px,\n  opacity: alpha,\n  originX: progressPercentage,\n  originY: progressPercentage,\n  originZ: px,\n  // Misc\n  zIndex: int,\n  // SVG\n  fillOpacity: alpha,\n  strokeOpacity: alpha,\n  numOctaves: int\n};\nexport { numberValueTypes };","import { valueScaleCorrection } from '../../dom/projection/scale-correction.js';\nimport { buildTransform, buildTransformOrigin } from './build-transform.js';\nimport { isCSSVariable } from '../../dom/utils/is-css-variable.js';\nimport { isTransformProp, isTransformOriginProp } from './transform.js';\nimport { getValueAsType } from '../../dom/value-types/get-as-type.js';\nimport { numberValueTypes } from '../../dom/value-types/number.js';\n\nfunction buildHTMLStyles(state, latestValues, projection, layoutState, options, transformTemplate, buildProjectionTransform, buildProjectionTransformOrigin) {\n  var _a;\n\n  var style = state.style,\n      vars = state.vars,\n      transform = state.transform,\n      transformKeys = state.transformKeys,\n      transformOrigin = state.transformOrigin; // Empty the transformKeys array. As we're throwing out refs to its items\n  // this might not be as cheap as suspected. Maybe using the array as a buffer\n  // with a manual incrementation would be better.\n\n  transformKeys.length = 0; // Track whether we encounter any transform or transformOrigin values.\n\n  var hasTransform = false;\n  var hasTransformOrigin = false; // Does the calculated transform essentially equal \"none\"?\n\n  var transformIsNone = true;\n  /**\n   * Loop over all our latest animated values and decide whether to handle them\n   * as a style or CSS variable.\n   *\n   * Transforms and transform origins are kept seperately for further processing.\n   */\n\n  for (var key in latestValues) {\n    var value = latestValues[key];\n    /**\n     * If this is a CSS variable we don't do any further processing.\n     */\n\n    if (isCSSVariable(key)) {\n      vars[key] = value;\n      continue;\n    } // Convert the value to its default value type, ie 0 -> \"0px\"\n\n\n    var valueType = numberValueTypes[key];\n    var valueAsType = getValueAsType(value, valueType);\n\n    if (isTransformProp(key)) {\n      // If this is a transform, flag to enable further transform processing\n      hasTransform = true;\n      transform[key] = valueAsType;\n      transformKeys.push(key); // If we already know we have a non-default transform, early return\n\n      if (!transformIsNone) continue; // Otherwise check to see if this is a default transform\n\n      if (value !== ((_a = valueType.default) !== null && _a !== void 0 ? _a : 0)) transformIsNone = false;\n    } else if (isTransformOriginProp(key)) {\n      transformOrigin[key] = valueAsType; // If this is a transform origin, flag and enable further transform-origin processing\n\n      hasTransformOrigin = true;\n    } else {\n      /**\n       * If layout projection is on, and we need to perform scale correction for this\n       * value type, perform it.\n       */\n      if ((projection === null || projection === void 0 ? void 0 : projection.isHydrated) && (layoutState === null || layoutState === void 0 ? void 0 : layoutState.isHydrated) && valueScaleCorrection[key]) {\n        var correctedValue = valueScaleCorrection[key].process(value, layoutState, projection);\n        /**\n         * Scale-correctable values can define a number of other values to break\n         * down into. For instance borderRadius needs applying to borderBottomLeftRadius etc\n         */\n\n        var applyTo = valueScaleCorrection[key].applyTo;\n\n        if (applyTo) {\n          var num = applyTo.length;\n\n          for (var i = 0; i < num; i++) {\n            style[applyTo[i]] = correctedValue;\n          }\n        } else {\n          style[key] = correctedValue;\n        }\n      } else {\n        style[key] = valueAsType;\n      }\n    }\n  }\n\n  if (layoutState && projection && buildProjectionTransform && buildProjectionTransformOrigin) {\n    style.transform = buildProjectionTransform(layoutState.deltaFinal, layoutState.treeScale, hasTransform ? transform : undefined);\n\n    if (transformTemplate) {\n      style.transform = transformTemplate(transform, style.transform);\n    }\n\n    style.transformOrigin = buildProjectionTransformOrigin(layoutState);\n  } else {\n    if (hasTransform) {\n      style.transform = buildTransform(state, options, transformIsNone, transformTemplate);\n    }\n\n    if (hasTransformOrigin) {\n      style.transformOrigin = buildTransformOrigin(transformOrigin);\n    }\n  }\n}\n\nexport { buildHTMLStyles };","var createHtmlRenderState = function createHtmlRenderState() {\n  return {\n    style: {},\n    transform: {},\n    transformKeys: [],\n    transformOrigin: {},\n    vars: {}\n  };\n};\n\nexport { createHtmlRenderState };","import { __assign } from 'tslib';\nimport { useMemo } from 'react';\nimport { isForcedMotionValue } from '../../motion/utils/is-forced-motion-value.js';\nimport { isMotionValue } from '../../value/utils/is-motion-value.js';\nimport { buildHTMLStyles } from './utils/build-styles.js';\nimport { createHtmlRenderState } from './utils/create-render-state.js';\n\nfunction copyRawValuesOnly(target, source, props) {\n  for (var key in source) {\n    if (!isMotionValue(source[key]) && !isForcedMotionValue(key, props)) {\n      target[key] = source[key];\n    }\n  }\n}\n\nfunction useInitialMotionValues(_a, visualState, isStatic) {\n  var transformTemplate = _a.transformTemplate;\n  return useMemo(function () {\n    var state = createHtmlRenderState();\n    buildHTMLStyles(state, visualState, undefined, undefined, {\n      enableHardwareAcceleration: !isStatic\n    }, transformTemplate);\n    var vars = state.vars,\n        style = state.style;\n    return __assign(__assign({}, vars), style);\n  }, [visualState]);\n}\n\nfunction useStyle(props, visualState, isStatic) {\n  var styleProp = props.style || {};\n  var style = {};\n  /**\n   * Copy non-Motion Values straight into style\n   */\n\n  copyRawValuesOnly(style, styleProp, props);\n  Object.assign(style, useInitialMotionValues(props, visualState, isStatic));\n\n  if (props.transformValues) {\n    style = props.transformValues(style);\n  }\n\n  return style;\n}\n\nfunction useHTMLProps(props, visualState, isStatic) {\n  // The `any` isn't ideal but it is the type of createElement props argument\n  var htmlProps = {};\n  var style = useStyle(props, visualState, isStatic);\n\n  if (Boolean(props.drag)) {\n    // Disable the ghost element when a user drags\n    htmlProps.draggable = false; // Disable text selection\n\n    style.userSelect = style.WebkitUserSelect = style.WebkitTouchCallout = \"none\"; // Disable scrolling on the draggable direction\n\n    style.touchAction = props.drag === true ? \"none\" : \"pan-\" + (props.drag === \"x\" ? \"y\" : \"x\");\n  }\n\n  htmlProps.style = style;\n  return htmlProps;\n}\n\nexport { copyRawValuesOnly, useHTMLProps, useStyle };","/**\n * A list of all valid MotionProps.\n *\n * @internalremarks\n * This doesn't throw if a `MotionProp` name is missing - it should.\n */\nvar validMotionProps = new Set([\"initial\", \"animate\", \"exit\", \"style\", \"variants\", \"transition\", \"transformTemplate\", \"transformValues\", \"custom\", \"inherit\", \"layout\", \"layoutId\", \"_layoutResetTransform\", \"onLayoutAnimationComplete\", \"onViewportBoxUpdate\", \"onLayoutMeasure\", \"onBeforeLayoutMeasure\", \"onAnimationStart\", \"onAnimationComplete\", \"onUpdate\", \"onDragStart\", \"onDrag\", \"onDragEnd\", \"onMeasureDragConstraints\", \"onDirectionLock\", \"onDragTransitionEnd\", \"drag\", \"dragControls\", \"dragListener\", \"dragConstraints\", \"dragDirectionLock\", \"_dragX\", \"_dragY\", \"dragElastic\", \"dragMomentum\", \"dragPropagation\", \"dragTransition\", \"whileDrag\", \"onPan\", \"onPanStart\", \"onPanEnd\", \"onPanSessionStart\", \"onTap\", \"onTapStart\", \"onTapCancel\", \"onHoverStart\", \"onHoverEnd\", \"whileFocus\", \"whileTap\", \"whileHover\"]);\n/**\n * Check whether a prop name is a valid `MotionProp` key.\n *\n * @param key - Name of the property to check\n * @returns `true` is key is a valid `MotionProp`.\n *\n * @public\n */\n\nfunction isValidMotionProp(key) {\n  return validMotionProps.has(key);\n}\n\nexport { isValidMotionProp };","import { isValidMotionProp } from '../../../motion/utils/valid-prop.js';\n\nvar shouldForward = function shouldForward(key) {\n  return !isValidMotionProp(key);\n};\n/**\n * Emotion and Styled Components both allow users to pass through arbitrary props to their components\n * to dynamically generate CSS. They both use the `@emotion/is-prop-valid` package to determine which\n * of these should be passed to the underlying DOM node.\n *\n * However, when styling a Motion component `styled(motion.div)`, both packages pass through *all* props\n * as it's seen as an arbitrary component rather than a DOM node. Motion only allows arbitrary props\n * passed through the `custom` prop so it doesn't *need* the payload or computational overhead of\n * `@emotion/is-prop-valid`, however to fix this problem we need to use it.\n *\n * By making it an optionalDependency we can offer this functionality only in the situations where it's\n * actually required.\n */\n\n\ntry {\n  var emotionIsPropValid_1 = require(\"@emotion/is-prop-valid\").default;\n\n  shouldForward = function shouldForward(key) {\n    // Handle events explicitly as Emotion validates them all as true\n    if (key.startsWith(\"on\")) {\n      return !isValidMotionProp(key);\n    } else {\n      return emotionIsPropValid_1(key);\n    }\n  };\n} catch (_a) {// We don't need to actually do anything here - the fallback is the existing `isPropValid`.\n}\n\nfunction filterProps(props, isDom, forwardMotionProps) {\n  var filteredProps = {};\n\n  for (var key in props) {\n    if (shouldForward(key) || forwardMotionProps === true && isValidMotionProp(key) || !isDom && !isValidMotionProp(key)) {\n      filteredProps[key] = props[key];\n    }\n  }\n\n  return filteredProps;\n}\n\nexport { filterProps };","import { px } from 'style-value-types';\n\nfunction calcOrigin(origin, offset, size) {\n  return typeof origin === \"string\" ? origin : px.transform(offset + size * origin);\n}\n/**\n * The SVG transform origin defaults are different to CSS and is less intuitive,\n * so we use the measured dimensions of the SVG to reconcile these.\n */\n\n\nfunction calcSVGTransformOrigin(dimensions, originX, originY) {\n  var pxOriginX = calcOrigin(originX, dimensions.x, dimensions.width);\n  var pxOriginY = calcOrigin(originY, dimensions.y, dimensions.height);\n  return pxOriginX + \" \" + pxOriginY;\n}\n\nexport { calcSVGTransformOrigin };","import { px } from 'style-value-types'; // Convert a progress 0-1 to a pixels value based on the provided length\n\nvar progressToPixels = function progressToPixels(progress, length) {\n  return px.transform(progress * length);\n};\n\nvar dashKeys = {\n  offset: \"stroke-dashoffset\",\n  array: \"stroke-dasharray\"\n};\nvar camelKeys = {\n  offset: \"strokeDashoffset\",\n  array: \"strokeDasharray\"\n};\n/**\n * Build SVG path properties. Uses the path's measured length to convert\n * our custom pathLength, pathSpacing and pathOffset into stroke-dashoffset\n * and stroke-dasharray attributes.\n *\n * This function is mutative to reduce per-frame GC.\n */\n\nfunction buildSVGPath(attrs, totalLength, length, spacing, offset, useDashCase) {\n  if (spacing === void 0) {\n    spacing = 1;\n  }\n\n  if (offset === void 0) {\n    offset = 0;\n  }\n\n  if (useDashCase === void 0) {\n    useDashCase = true;\n  } // We use dash case when setting attributes directly to the DOM node and camel case\n  // when defining props on a React component.\n\n\n  var keys = useDashCase ? dashKeys : camelKeys; // Build the dash offset\n\n  attrs[keys.offset] = progressToPixels(-offset, totalLength); // Build the dash array\n\n  var pathLength = progressToPixels(length, totalLength);\n  var pathSpacing = progressToPixels(spacing, totalLength);\n  attrs[keys.array] = pathLength + \" \" + pathSpacing;\n}\n\nexport { buildSVGPath };","import { __rest } from 'tslib';\nimport { buildHTMLStyles } from '../../html/utils/build-styles.js';\nimport { calcSVGTransformOrigin } from './transform-origin.js';\nimport { buildSVGPath } from './path.js';\n/**\n * Build SVG visual attrbutes, like cx and style.transform\n */\n\nfunction buildSVGAttrs(state, _a, projection, layoutState, options, transformTemplate, buildProjectionTransform, buildProjectionTransformOrigin) {\n  var attrX = _a.attrX,\n      attrY = _a.attrY,\n      originX = _a.originX,\n      originY = _a.originY,\n      pathLength = _a.pathLength,\n      _b = _a.pathSpacing,\n      pathSpacing = _b === void 0 ? 1 : _b,\n      _c = _a.pathOffset,\n      pathOffset = _c === void 0 ? 0 : _c,\n      // This is object creation, which we try to avoid per-frame.\n  latest = __rest(_a, [\"attrX\", \"attrY\", \"originX\", \"originY\", \"pathLength\", \"pathSpacing\", \"pathOffset\"]);\n\n  buildHTMLStyles(state, latest, projection, layoutState, options, transformTemplate, buildProjectionTransform, buildProjectionTransformOrigin);\n  state.attrs = state.style;\n  state.style = {};\n  var attrs = state.attrs,\n      style = state.style,\n      dimensions = state.dimensions,\n      totalPathLength = state.totalPathLength;\n  /**\n   * However, we apply transforms as CSS transforms. So if we detect a transform we take it from attrs\n   * and copy it into style.\n   */\n\n  if (attrs.transform) {\n    if (dimensions) style.transform = attrs.transform;\n    delete attrs.transform;\n  } // Parse transformOrigin\n\n\n  if (dimensions && (originX !== undefined || originY !== undefined || style.transform)) {\n    style.transformOrigin = calcSVGTransformOrigin(dimensions, originX !== undefined ? originX : 0.5, originY !== undefined ? originY : 0.5);\n  } // Treat x/y not as shortcuts but as actual attributes\n\n\n  if (attrX !== undefined) attrs.x = attrX;\n  if (attrY !== undefined) attrs.y = attrY; // Build SVG path if one has been measured\n\n  if (totalPathLength !== undefined && pathLength !== undefined) {\n    buildSVGPath(attrs, totalPathLength, pathLength, pathSpacing, pathOffset, false);\n  }\n}\n\nexport { buildSVGAttrs };","import { __assign } from 'tslib';\nimport { createHtmlRenderState } from '../../html/utils/create-render-state.js';\n\nvar createSvgRenderState = function createSvgRenderState() {\n  return __assign(__assign({}, createHtmlRenderState()), {\n    attrs: {}\n  });\n};\n\nexport { createSvgRenderState };","import { __assign } from 'tslib';\nimport { useMemo } from 'react';\nimport { copyRawValuesOnly } from '../html/use-props.js';\nimport { buildSVGAttrs } from './utils/build-attrs.js';\nimport { createSvgRenderState } from './utils/create-render-state.js';\n\nfunction useSVGProps(props, visualState) {\n  var visualProps = useMemo(function () {\n    var state = createSvgRenderState();\n    buildSVGAttrs(state, visualState, undefined, undefined, {\n      enableHardwareAcceleration: false\n    }, props.transformTemplate);\n    return __assign(__assign({}, state.attrs), {\n      style: __assign({}, state.style)\n    });\n  }, [visualState]);\n\n  if (props.style) {\n    var rawStyles = {};\n    copyRawValuesOnly(rawStyles, props.style, props);\n    visualProps.style = __assign(__assign({}, rawStyles), visualProps.style);\n  }\n\n  return visualProps;\n}\n\nexport { useSVGProps };","import { __assign } from 'tslib';\nimport { createElement } from 'react';\nimport { useHTMLProps } from '../html/use-props.js';\nimport { filterProps } from './utils/filter-props.js';\nimport { isSVGComponent } from './utils/is-svg-component.js';\nimport { useSVGProps } from '../svg/use-props.js';\n\nfunction createUseRender(forwardMotionProps) {\n  if (forwardMotionProps === void 0) {\n    forwardMotionProps = false;\n  }\n\n  var useRender = function useRender(Component, props, ref, _a, isStatic) {\n    var latestValues = _a.latestValues;\n    var useVisualProps = isSVGComponent(Component) ? useSVGProps : useHTMLProps;\n    var visualProps = useVisualProps(props, latestValues, isStatic);\n    var filteredProps = filterProps(props, typeof Component === \"string\", forwardMotionProps);\n\n    var elementProps = __assign(__assign(__assign({}, filteredProps), visualProps), {\n      ref: ref\n    });\n\n    return createElement(Component, elementProps);\n  };\n\n  return useRender;\n}\n\nexport { createUseRender };","var CAMEL_CASE_PATTERN = /([a-z])([A-Z])/g;\nvar REPLACE_TEMPLATE = \"$1-$2\";\n/**\n * Convert camelCase to dash-case properties.\n */\n\nvar camelToDash = function camelToDash(str) {\n  return str.replace(CAMEL_CASE_PATTERN, REPLACE_TEMPLATE).toLowerCase();\n};\n\nexport { camelToDash };","function renderHTML(element, _a) {\n  var style = _a.style,\n      vars = _a.vars; // Directly assign style into the Element's style prop. In tests Object.assign is the\n  // fastest way to assign styles.\n\n  Object.assign(element.style, style); // Loop over any CSS variables and assign those.\n\n  for (var key in vars) {\n    element.style.setProperty(key, vars[key]);\n  }\n}\n\nexport { renderHTML };","/**\n * A set of attribute names that are always read/written as camel case.\n */\nvar camelCaseAttributes = new Set([\"baseFrequency\", \"diffuseConstant\", \"kernelMatrix\", \"kernelUnitLength\", \"keySplines\", \"keyTimes\", \"limitingConeAngle\", \"markerHeight\", \"markerWidth\", \"numOctaves\", \"targetX\", \"targetY\", \"surfaceScale\", \"specularConstant\", \"specularExponent\", \"stdDeviation\", \"tableValues\", \"viewBox\", \"gradientTransform\"]);\nexport { camelCaseAttributes };","import { camelToDash } from '../../dom/utils/camel-to-dash.js';\nimport { renderHTML } from '../../html/utils/render.js';\nimport { camelCaseAttributes } from './camel-case-attrs.js';\n\nfunction renderSVG(element, renderState) {\n  renderHTML(element, renderState);\n\n  for (var key in renderState.attrs) {\n    element.setAttribute(!camelCaseAttributes.has(key) ? camelToDash(key) : key, renderState.attrs[key]);\n  }\n}\n\nexport { renderSVG };","import { isForcedMotionValue } from '../../../motion/utils/is-forced-motion-value.js';\nimport { isMotionValue } from '../../../value/utils/is-motion-value.js';\n\nfunction scrapeMotionValuesFromProps(props) {\n  var style = props.style;\n  var newValues = {};\n\n  for (var key in style) {\n    if (isMotionValue(style[key]) || isForcedMotionValue(key, props)) {\n      newValues[key] = style[key];\n    }\n  }\n\n  return newValues;\n}\n\nexport { scrapeMotionValuesFromProps };","import { isMotionValue } from '../../../value/utils/is-motion-value.js';\nimport { scrapeMotionValuesFromProps as scrapeMotionValuesFromProps$1 } from '../../html/utils/scrape-motion-values.js';\n\nfunction scrapeMotionValuesFromProps(props) {\n  var newValues = scrapeMotionValuesFromProps$1(props);\n\n  for (var key in props) {\n    if (isMotionValue(props[key])) {\n      var targetKey = key === \"x\" || key === \"y\" ? \"attr\" + key.toUpperCase() : key;\n      newValues[targetKey] = props[key];\n    }\n  }\n\n  return newValues;\n}\n\nexport { scrapeMotionValuesFromProps };","function isAnimationControls(v) {\n  return typeof v === \"object\" && typeof v.start === \"function\";\n}\n\nexport { isAnimationControls };","var isKeyframesTarget = function isKeyframesTarget(v) {\n  return Array.isArray(v);\n};\n\nexport { isKeyframesTarget };","import { isCustomValue } from '../../utils/resolve-value.js';\nimport { isMotionValue } from './is-motion-value.js';\n/**\n * If the provided value is a MotionValue, this returns the actual value, otherwise just the value itself\n *\n * TODO: Remove and move to library\n *\n * @internal\n */\n\nfunction resolveMotionValue(value) {\n  var unwrappedValue = isMotionValue(value) ? value.get() : value;\n  return isCustomValue(unwrappedValue) ? unwrappedValue.toValue() : unwrappedValue;\n}\n\nexport { resolveMotionValue };","import { isKeyframesTarget } from '../animation/utils/is-keyframes-target.js';\n\nvar isCustomValue = function isCustomValue(v) {\n  return Boolean(v && typeof v === \"object\" && v.mix && v.toValue);\n};\n\nvar resolveFinalValueInKeyframes = function resolveFinalValueInKeyframes(v) {\n  // TODO maybe throw if v.length - 1 is placeholder token?\n  return isKeyframesTarget(v) ? v[v.length - 1] || 0 : v;\n};\n\nexport { isCustomValue, resolveFinalValueInKeyframes };","import { __rest } from 'tslib';\nimport { useContext } from 'react';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.js';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { checkIfControllingVariants, checkIfVariantNode, resolveVariantFromProps } from '../../render/utils/variants.js';\nimport { useConstant } from '../../utils/use-constant.js';\nimport { resolveMotionValue } from '../../value/utils/resolve-motion-value.js';\nimport { MotionContext } from '../../context/MotionContext/index.js';\n\nfunction makeState(_a, props, context, presenceContext) {\n  var scrapeMotionValuesFromProps = _a.scrapeMotionValuesFromProps,\n      createRenderState = _a.createRenderState,\n      onMount = _a.onMount;\n  var state = {\n    latestValues: makeLatestValues(props, context, presenceContext, scrapeMotionValuesFromProps),\n    renderState: createRenderState()\n  };\n\n  if (onMount) {\n    state.mount = function (instance) {\n      return onMount(props, instance, state);\n    };\n  }\n\n  return state;\n}\n\nvar makeUseVisualState = function makeUseVisualState(config) {\n  return function (props, isStatic) {\n    var context = useContext(MotionContext);\n    var presenceContext = useContext(PresenceContext);\n    return isStatic ? makeState(config, props, context, presenceContext) : useConstant(function () {\n      return makeState(config, props, context, presenceContext);\n    });\n  };\n};\n\nfunction makeLatestValues(props, context, presenceContext, scrapeMotionValues) {\n  var values = {};\n  var blockInitialAnimation = (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.initial) === false;\n  var motionValues = scrapeMotionValues(props);\n\n  for (var key in motionValues) {\n    values[key] = resolveMotionValue(motionValues[key]);\n  }\n\n  var initial = props.initial,\n      animate = props.animate;\n  var isControllingVariants = checkIfControllingVariants(props);\n  var isVariantNode = checkIfVariantNode(props);\n\n  if (context && isVariantNode && !isControllingVariants && props.inherit !== false) {\n    initial !== null && initial !== void 0 ? initial : initial = context.initial;\n    animate !== null && animate !== void 0 ? animate : animate = context.animate;\n  }\n\n  var variantToSet = blockInitialAnimation || initial === false ? animate : initial;\n\n  if (variantToSet && typeof variantToSet !== \"boolean\" && !isAnimationControls(variantToSet)) {\n    var list = Array.isArray(variantToSet) ? variantToSet : [variantToSet];\n    list.forEach(function (definition) {\n      var resolved = resolveVariantFromProps(props, definition);\n      if (!resolved) return;\n      var transitionEnd = resolved.transitionEnd;\n      resolved.transition;\n\n      var target = __rest(resolved, [\"transitionEnd\", \"transition\"]);\n\n      for (var key in target) {\n        values[key] = target[key];\n      }\n\n      for (var key in transitionEnd) {\n        values[key] = transitionEnd[key];\n      }\n    });\n  }\n\n  return values;\n}\n\nexport { makeUseVisualState };","import { renderSVG } from './utils/render.js';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.js';\nimport { makeUseVisualState } from '../../motion/utils/use-visual-state.js';\nimport { createSvgRenderState } from './utils/create-render-state.js';\nimport { buildSVGAttrs } from './utils/build-attrs.js';\nvar svgMotionConfig = {\n  useVisualState: makeUseVisualState({\n    scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n    createRenderState: createSvgRenderState,\n    onMount: function onMount(props, instance, _a) {\n      var renderState = _a.renderState,\n          latestValues = _a.latestValues;\n\n      try {\n        renderState.dimensions = typeof instance.getBBox === \"function\" ? instance.getBBox() : instance.getBoundingClientRect();\n      } catch (e) {\n        // Most likely trying to measure an unrendered element under Firefox\n        renderState.dimensions = {\n          x: 0,\n          y: 0,\n          width: 0,\n          height: 0\n        };\n      }\n\n      if (isPath(instance)) {\n        renderState.totalPathLength = instance.getTotalLength();\n      }\n\n      buildSVGAttrs(renderState, latestValues, undefined, undefined, {\n        enableHardwareAcceleration: false\n      }, props.transformTemplate); // TODO: Replace with direct assignment\n\n      renderSVG(instance, renderState);\n    }\n  })\n};\n\nfunction isPath(element) {\n  return element.tagName === \"path\";\n}\n\nexport { svgMotionConfig };","import { makeUseVisualState } from '../../motion/utils/use-visual-state.js';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.js';\nimport { createHtmlRenderState } from './utils/create-render-state.js';\nvar htmlMotionConfig = {\n  useVisualState: makeUseVisualState({\n    scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n    createRenderState: createHtmlRenderState\n  })\n};\nexport { htmlMotionConfig };","var AnimationType;\n\n(function (AnimationType) {\n  AnimationType[\"Animate\"] = \"animate\";\n  AnimationType[\"Hover\"] = \"whileHover\";\n  AnimationType[\"Tap\"] = \"whileTap\";\n  AnimationType[\"Drag\"] = \"whileDrag\";\n  AnimationType[\"Focus\"] = \"whileFocus\";\n  AnimationType[\"Exit\"] = \"exit\";\n})(AnimationType || (AnimationType = {}));\n\nexport { AnimationType };","import { useEffect } from 'react';\n\nfunction addDomEvent(target, eventName, handler, options) {\n  target.addEventListener(eventName, handler, options);\n  return function () {\n    return target.removeEventListener(eventName, handler, options);\n  };\n}\n/**\n * Attaches an event listener directly to the provided DOM element.\n *\n * Bypassing React's event system can be desirable, for instance when attaching non-passive\n * event handlers.\n *\n * ```jsx\n * const ref = useRef(null)\n *\n * useDomEvent(ref, 'wheel', onWheel, { passive: false })\n *\n * return <div ref={ref} />\n * ```\n *\n * @param ref - React.RefObject that's been provided to the element you want to bind the listener to.\n * @param eventName - Name of the event you want listen for.\n * @param handler - Function to fire when receiving the event.\n * @param options - Options to pass to `Event.addEventListener`.\n *\n * @public\n */\n\n\nfunction useDomEvent(ref, eventName, handler, options) {\n  useEffect(function () {\n    var element = ref.current;\n\n    if (handler && element) {\n      return addDomEvent(element, eventName, handler, options);\n    }\n  }, [ref, eventName, handler, options]);\n}\n\nexport { addDomEvent, useDomEvent };","function isMouseEvent(event) {\n  // PointerEvent inherits from MouseEvent so we can't use a straight instanceof check.\n  if (typeof PointerEvent !== \"undefined\" && event instanceof PointerEvent) {\n    return !!(event.pointerType === \"mouse\");\n  }\n\n  return event instanceof MouseEvent;\n}\n\nfunction isTouchEvent(event) {\n  var hasTouches = !!event.touches;\n  return hasTouches;\n}\n\nexport { isMouseEvent, isTouchEvent };","import { isTouchEvent } from '../gestures/utils/event-type.js';\n/**\n * Filters out events not attached to the primary pointer (currently left mouse button)\n * @param eventHandler\n */\n\nfunction filterPrimaryPointer(eventHandler) {\n  return function (event) {\n    var isMouseEvent = event instanceof MouseEvent;\n    var isPrimaryPointer = !isMouseEvent || isMouseEvent && event.button === 0;\n\n    if (isPrimaryPointer) {\n      eventHandler(event);\n    }\n  };\n}\n\nvar defaultPagePoint = {\n  pageX: 0,\n  pageY: 0\n};\n\nfunction pointFromTouch(e, pointType) {\n  if (pointType === void 0) {\n    pointType = \"page\";\n  }\n\n  var primaryTouch = e.touches[0] || e.changedTouches[0];\n  var point = primaryTouch || defaultPagePoint;\n  return {\n    x: point[pointType + \"X\"],\n    y: point[pointType + \"Y\"]\n  };\n}\n\nfunction pointFromMouse(point, pointType) {\n  if (pointType === void 0) {\n    pointType = \"page\";\n  }\n\n  return {\n    x: point[pointType + \"X\"],\n    y: point[pointType + \"Y\"]\n  };\n}\n\nfunction extractEventInfo(event, pointType) {\n  if (pointType === void 0) {\n    pointType = \"page\";\n  }\n\n  return {\n    point: isTouchEvent(event) ? pointFromTouch(event, pointType) : pointFromMouse(event, pointType)\n  };\n}\n\nfunction getViewportPointFromEvent(event) {\n  return extractEventInfo(event, \"client\");\n}\n\nvar wrapHandler = function wrapHandler(handler, shouldFilterPrimaryPointer) {\n  if (shouldFilterPrimaryPointer === void 0) {\n    shouldFilterPrimaryPointer = false;\n  }\n\n  var listener = function listener(event) {\n    return handler(event, extractEventInfo(event));\n  };\n\n  return shouldFilterPrimaryPointer ? filterPrimaryPointer(listener) : listener;\n};\n\nexport { extractEventInfo, getViewportPointFromEvent, wrapHandler };","import { useDomEvent, addDomEvent } from './use-dom-event.js';\nimport { wrapHandler } from './event-info.js';\nimport { supportsPointerEvents, supportsTouchEvents, supportsMouseEvents } from './utils.js';\nvar mouseEventNames = {\n  pointerdown: \"mousedown\",\n  pointermove: \"mousemove\",\n  pointerup: \"mouseup\",\n  pointercancel: \"mousecancel\",\n  pointerover: \"mouseover\",\n  pointerout: \"mouseout\",\n  pointerenter: \"mouseenter\",\n  pointerleave: \"mouseleave\"\n};\nvar touchEventNames = {\n  pointerdown: \"touchstart\",\n  pointermove: \"touchmove\",\n  pointerup: \"touchend\",\n  pointercancel: \"touchcancel\"\n};\n\nfunction getPointerEventName(name) {\n  if (supportsPointerEvents()) {\n    return name;\n  } else if (supportsTouchEvents()) {\n    return touchEventNames[name];\n  } else if (supportsMouseEvents()) {\n    return mouseEventNames[name];\n  }\n\n  return name;\n}\n\nfunction addPointerEvent(target, eventName, handler, options) {\n  return addDomEvent(target, getPointerEventName(eventName), wrapHandler(handler, eventName === \"pointerdown\"), options);\n}\n\nfunction usePointerEvent(ref, eventName, handler, options) {\n  return useDomEvent(ref, getPointerEventName(eventName), handler && wrapHandler(handler, eventName === \"pointerdown\"), options);\n}\n\nexport { addPointerEvent, usePointerEvent };","import { isBrowser } from '../utils/is-browser.js'; // We check for event support via functions in case they've been mocked by a testing suite.\n\nvar supportsPointerEvents = function supportsPointerEvents() {\n  return isBrowser && window.onpointerdown === null;\n};\n\nvar supportsTouchEvents = function supportsTouchEvents() {\n  return isBrowser && window.ontouchstart === null;\n};\n\nvar supportsMouseEvents = function supportsMouseEvents() {\n  return isBrowser && window.onmousedown === null;\n};\n\nexport { supportsMouseEvents, supportsPointerEvents, supportsTouchEvents };","function createLock(name) {\n  var lock = null;\n  return function () {\n    var openLock = function openLock() {\n      lock = null;\n    };\n\n    if (lock === null) {\n      lock = name;\n      return openLock;\n    }\n\n    return false;\n  };\n}\n\nvar globalHorizontalLock = createLock(\"dragHorizontal\");\nvar globalVerticalLock = createLock(\"dragVertical\");\n\nfunction getGlobalLock(drag) {\n  var lock = false;\n\n  if (drag === \"y\") {\n    lock = globalVerticalLock();\n  } else if (drag === \"x\") {\n    lock = globalHorizontalLock();\n  } else {\n    var openHorizontal_1 = globalHorizontalLock();\n    var openVertical_1 = globalVerticalLock();\n\n    if (openHorizontal_1 && openVertical_1) {\n      lock = function lock() {\n        openHorizontal_1();\n        openVertical_1();\n      };\n    } else {\n      // Release the locks because we don't use them\n      if (openHorizontal_1) openHorizontal_1();\n      if (openVertical_1) openVertical_1();\n    }\n  }\n\n  return lock;\n}\n\nfunction isDragActive() {\n  // Check the gesture lock - if we get it, it means no drag gesture is active\n  // and we can safely fire the tap gesture.\n  var openGestureLock = getGlobalLock(true);\n  if (!openGestureLock) return true;\n  openGestureLock();\n  return false;\n}\n\nexport { createLock, getGlobalLock, isDragActive };","import { isMouseEvent } from './utils/event-type.js';\nimport { AnimationType } from '../render/utils/types.js';\nimport { usePointerEvent } from '../events/use-pointer-event.js';\nimport { isDragActive } from './drag/utils/lock.js';\n\nfunction createHoverEvent(visualElement, isActive, callback) {\n  return function (event, info) {\n    var _a;\n\n    if (!isMouseEvent(event) || isDragActive()) return;\n    callback === null || callback === void 0 ? void 0 : callback(event, info);\n    (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Hover, isActive);\n  };\n}\n\nfunction useHoverGesture(_a) {\n  var onHoverStart = _a.onHoverStart,\n      onHoverEnd = _a.onHoverEnd,\n      whileHover = _a.whileHover,\n      visualElement = _a.visualElement;\n  usePointerEvent(visualElement, \"pointerenter\", onHoverStart || whileHover ? createHoverEvent(visualElement, true, onHoverStart) : undefined);\n  usePointerEvent(visualElement, \"pointerleave\", onHoverEnd || whileHover ? createHoverEvent(visualElement, false, onHoverEnd) : undefined);\n}\n\nexport { useHoverGesture };","/**\n * Recursively traverse up the tree to check whether the provided child node\n * is the parent or a descendant of it.\n *\n * @param parent - Element to find\n * @param child - Element to test against parent\n */\nvar isNodeOrChild = function isNodeOrChild(parent, child) {\n  if (!child) {\n    return false;\n  } else if (parent === child) {\n    return true;\n  } else {\n    return isNodeOrChild(parent, child.parentElement);\n  }\n};\n\nexport { isNodeOrChild };","var combineFunctions = function combineFunctions(a, b) {\n  return function (v) {\n    return b(a(v));\n  };\n};\n\nvar pipe = function pipe() {\n  var transformers = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    transformers[_i] = arguments[_i];\n  }\n\n  return transformers.reduce(combineFunctions);\n};\n\nexport { pipe };","var makeRenderlessComponent = function makeRenderlessComponent(hook) {\n  return function (props) {\n    hook(props);\n    return null;\n  };\n};\n\nexport { makeRenderlessComponent };","import { useFocusGesture } from '../../gestures/use-focus-gesture.js';\nimport { useHoverGesture } from '../../gestures/use-hover-gesture.js';\nimport { useTapGesture } from '../../gestures/use-tap-gesture.js';\nimport { makeRenderlessComponent } from '../utils/make-renderless-component.js';\nvar gestureAnimations = {\n  tap: makeRenderlessComponent(useTapGesture),\n  focus: makeRenderlessComponent(useFocusGesture),\n  hover: makeRenderlessComponent(useHoverGesture)\n};\nexport { gestureAnimations };","import { useRef } from 'react';\nimport { isNodeOrChild } from './utils/is-node-or-child.js';\nimport { usePointerEvent, addPointerEvent } from '../events/use-pointer-event.js';\nimport { useUnmountEffect } from '../utils/use-unmount-effect.js';\nimport { pipe } from 'popmotion';\nimport { AnimationType } from '../render/utils/types.js';\nimport { isDragActive } from './drag/utils/lock.js';\n/**\n * @param handlers -\n * @internal\n */\n\nfunction useTapGesture(_a) {\n  var onTap = _a.onTap,\n      onTapStart = _a.onTapStart,\n      onTapCancel = _a.onTapCancel,\n      whileTap = _a.whileTap,\n      visualElement = _a.visualElement;\n  var hasPressListeners = onTap || onTapStart || onTapCancel || whileTap;\n  var isPressing = useRef(false);\n  var cancelPointerEndListeners = useRef(null);\n\n  function removePointerEndListener() {\n    var _a;\n\n    (_a = cancelPointerEndListeners.current) === null || _a === void 0 ? void 0 : _a.call(cancelPointerEndListeners);\n    cancelPointerEndListeners.current = null;\n  }\n\n  function checkPointerEnd() {\n    var _a;\n\n    removePointerEndListener();\n    isPressing.current = false;\n    (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Tap, false);\n    return !isDragActive();\n  }\n\n  function onPointerUp(event, info) {\n    if (!checkPointerEnd()) return;\n    /**\n     * We only count this as a tap gesture if the event.target is the same\n     * as, or a child of, this component's element\n     */\n\n    !isNodeOrChild(visualElement.getInstance(), event.target) ? onTapCancel === null || onTapCancel === void 0 ? void 0 : onTapCancel(event, info) : onTap === null || onTap === void 0 ? void 0 : onTap(event, info);\n  }\n\n  function onPointerCancel(event, info) {\n    if (!checkPointerEnd()) return;\n    onTapCancel === null || onTapCancel === void 0 ? void 0 : onTapCancel(event, info);\n  }\n\n  function onPointerDown(event, info) {\n    var _a;\n\n    removePointerEndListener();\n    if (isPressing.current) return;\n    isPressing.current = true;\n    cancelPointerEndListeners.current = pipe(addPointerEvent(window, \"pointerup\", onPointerUp), addPointerEvent(window, \"pointercancel\", onPointerCancel));\n    onTapStart === null || onTapStart === void 0 ? void 0 : onTapStart(event, info);\n    (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Tap, true);\n  }\n\n  usePointerEvent(visualElement, \"pointerdown\", hasPressListeners ? onPointerDown : undefined);\n  useUnmountEffect(removePointerEndListener);\n}\n\nexport { useTapGesture };","import { AnimationType } from '../render/utils/types.js';\nimport { useDomEvent } from '../events/use-dom-event.js';\n/**\n *\n * @param props\n * @param ref\n * @internal\n */\n\nfunction useFocusGesture(_a) {\n  var whileFocus = _a.whileFocus,\n      visualElement = _a.visualElement;\n\n  var onFocus = function onFocus() {\n    var _a;\n\n    (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Focus, true);\n  };\n\n  var onBlur = function onBlur() {\n    var _a;\n\n    (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Focus, false);\n  };\n\n  useDomEvent(visualElement, \"focus\", whileFocus ? onFocus : undefined);\n  useDomEvent(visualElement, \"blur\", whileFocus ? onBlur : undefined);\n}\n\nexport { useFocusGesture };","function shallowCompare(next, prev) {\n  if (!Array.isArray(prev)) return false;\n  var prevLength = prev.length;\n  if (prevLength !== next.length) return false;\n\n  for (var i = 0; i < prevLength; i++) {\n    if (prev[i] !== next[i]) return false;\n  }\n\n  return true;\n}\n\nexport { shallowCompare };","var clamp = function clamp(min, max, v) {\n  return Math.min(Math.max(v, min), max);\n};\n\nexport { clamp };","import { warning } from 'hey-listen';\nimport { clamp } from '../../utils/clamp.js';\nvar safeMin = 0.001;\nvar minDuration = 0.01;\nvar maxDuration = 10.0;\nvar minDamping = 0.05;\nvar maxDamping = 1;\n\nfunction findSpring(_a) {\n  var _b = _a.duration,\n      duration = _b === void 0 ? 800 : _b,\n      _c = _a.bounce,\n      bounce = _c === void 0 ? 0.25 : _c,\n      _d = _a.velocity,\n      velocity = _d === void 0 ? 0 : _d,\n      _e = _a.mass,\n      mass = _e === void 0 ? 1 : _e;\n  var envelope;\n  var derivative;\n  warning(duration <= maxDuration * 1000, \"Spring duration must be 10 seconds or less\");\n  var dampingRatio = 1 - bounce;\n  dampingRatio = clamp(minDamping, maxDamping, dampingRatio);\n  duration = clamp(minDuration, maxDuration, duration / 1000);\n\n  if (dampingRatio < 1) {\n    envelope = function envelope(undampedFreq) {\n      var exponentialDecay = undampedFreq * dampingRatio;\n      var delta = exponentialDecay * duration;\n      var a = exponentialDecay - velocity;\n      var b = calcAngularFreq(undampedFreq, dampingRatio);\n      var c = Math.exp(-delta);\n      return safeMin - a / b * c;\n    };\n\n    derivative = function derivative(undampedFreq) {\n      var exponentialDecay = undampedFreq * dampingRatio;\n      var delta = exponentialDecay * duration;\n      var d = delta * velocity + velocity;\n      var e = Math.pow(dampingRatio, 2) * Math.pow(undampedFreq, 2) * duration;\n      var f = Math.exp(-delta);\n      var g = calcAngularFreq(Math.pow(undampedFreq, 2), dampingRatio);\n      var factor = -envelope(undampedFreq) + safeMin > 0 ? -1 : 1;\n      return factor * ((d - e) * f) / g;\n    };\n  } else {\n    envelope = function envelope(undampedFreq) {\n      var a = Math.exp(-undampedFreq * duration);\n      var b = (undampedFreq - velocity) * duration + 1;\n      return -safeMin + a * b;\n    };\n\n    derivative = function derivative(undampedFreq) {\n      var a = Math.exp(-undampedFreq * duration);\n      var b = (velocity - undampedFreq) * (duration * duration);\n      return a * b;\n    };\n  }\n\n  var initialGuess = 5 / duration;\n  var undampedFreq = approximateRoot(envelope, derivative, initialGuess);\n  duration = duration * 1000;\n\n  if (isNaN(undampedFreq)) {\n    return {\n      stiffness: 100,\n      damping: 10,\n      duration: duration\n    };\n  } else {\n    var stiffness = Math.pow(undampedFreq, 2) * mass;\n    return {\n      stiffness: stiffness,\n      damping: dampingRatio * 2 * Math.sqrt(mass * stiffness),\n      duration: duration\n    };\n  }\n}\n\nvar rootIterations = 12;\n\nfunction approximateRoot(envelope, derivative, initialGuess) {\n  var result = initialGuess;\n\n  for (var i = 1; i < rootIterations; i++) {\n    result = result - envelope(result) / derivative(result);\n  }\n\n  return result;\n}\n\nfunction calcAngularFreq(undampedFreq, dampingRatio) {\n  return undampedFreq * Math.sqrt(1 - dampingRatio * dampingRatio);\n}\n\nexport { calcAngularFreq, findSpring, maxDamping, maxDuration, minDamping, minDuration };","import { __rest, __assign } from 'tslib';\nimport { findSpring, calcAngularFreq } from '../utils/find-spring.js';\nvar durationKeys = [\"duration\", \"bounce\"];\nvar physicsKeys = [\"stiffness\", \"damping\", \"mass\"];\n\nfunction isSpringType(options, keys) {\n  return keys.some(function (key) {\n    return options[key] !== undefined;\n  });\n}\n\nfunction getSpringOptions(options) {\n  var springOptions = __assign({\n    velocity: 0.0,\n    stiffness: 100,\n    damping: 10,\n    mass: 1.0,\n    isResolvedFromDuration: false\n  }, options);\n\n  if (!isSpringType(options, physicsKeys) && isSpringType(options, durationKeys)) {\n    var derived = findSpring(options);\n    springOptions = __assign(__assign(__assign({}, springOptions), derived), {\n      velocity: 0.0,\n      mass: 1.0\n    });\n    springOptions.isResolvedFromDuration = true;\n  }\n\n  return springOptions;\n}\n\nfunction spring(_a) {\n  var _b = _a.from,\n      from = _b === void 0 ? 0.0 : _b,\n      _c = _a.to,\n      to = _c === void 0 ? 1.0 : _c,\n      _d = _a.restSpeed,\n      restSpeed = _d === void 0 ? 2 : _d,\n      restDelta = _a.restDelta,\n      options = __rest(_a, [\"from\", \"to\", \"restSpeed\", \"restDelta\"]);\n\n  var state = {\n    done: false,\n    value: from\n  };\n\n  var _e = getSpringOptions(options),\n      stiffness = _e.stiffness,\n      damping = _e.damping,\n      mass = _e.mass,\n      velocity = _e.velocity,\n      duration = _e.duration,\n      isResolvedFromDuration = _e.isResolvedFromDuration;\n\n  var resolveSpring = zero;\n  var resolveVelocity = zero;\n\n  function createSpring() {\n    var initialVelocity = velocity ? -(velocity / 1000) : 0.0;\n    var initialDelta = to - from;\n    var dampingRatio = damping / (2 * Math.sqrt(stiffness * mass));\n    var undampedAngularFreq = Math.sqrt(stiffness / mass) / 1000;\n    restDelta !== null && restDelta !== void 0 ? restDelta : restDelta = Math.abs(to - from) <= 1 ? 0.01 : 0.4;\n\n    if (dampingRatio < 1) {\n      var angularFreq_1 = calcAngularFreq(undampedAngularFreq, dampingRatio);\n\n      resolveSpring = function resolveSpring(t) {\n        var envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n        return to - envelope * ((initialVelocity + dampingRatio * undampedAngularFreq * initialDelta) / angularFreq_1 * Math.sin(angularFreq_1 * t) + initialDelta * Math.cos(angularFreq_1 * t));\n      };\n\n      resolveVelocity = function resolveVelocity(t) {\n        var envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n        return dampingRatio * undampedAngularFreq * envelope * (Math.sin(angularFreq_1 * t) * (initialVelocity + dampingRatio * undampedAngularFreq * initialDelta) / angularFreq_1 + initialDelta * Math.cos(angularFreq_1 * t)) - envelope * (Math.cos(angularFreq_1 * t) * (initialVelocity + dampingRatio * undampedAngularFreq * initialDelta) - angularFreq_1 * initialDelta * Math.sin(angularFreq_1 * t));\n      };\n    } else if (dampingRatio === 1) {\n      resolveSpring = function resolveSpring(t) {\n        return to - Math.exp(-undampedAngularFreq * t) * (initialDelta + (initialVelocity + undampedAngularFreq * initialDelta) * t);\n      };\n    } else {\n      var dampedAngularFreq_1 = undampedAngularFreq * Math.sqrt(dampingRatio * dampingRatio - 1);\n\n      resolveSpring = function resolveSpring(t) {\n        var envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n        var freqForT = Math.min(dampedAngularFreq_1 * t, 300);\n        return to - envelope * ((initialVelocity + dampingRatio * undampedAngularFreq * initialDelta) * Math.sinh(freqForT) + dampedAngularFreq_1 * initialDelta * Math.cosh(freqForT)) / dampedAngularFreq_1;\n      };\n    }\n  }\n\n  createSpring();\n  return {\n    next: function next(t) {\n      var current = resolveSpring(t);\n\n      if (!isResolvedFromDuration) {\n        var currentVelocity = resolveVelocity(t) * 1000;\n        var isBelowVelocityThreshold = Math.abs(currentVelocity) <= restSpeed;\n        var isBelowDisplacementThreshold = Math.abs(to - current) <= restDelta;\n        state.done = isBelowVelocityThreshold && isBelowDisplacementThreshold;\n      } else {\n        state.done = t >= duration;\n      }\n\n      state.value = state.done ? to : current;\n      return state;\n    },\n    flipTarget: function flipTarget() {\n      var _a;\n\n      velocity = -velocity;\n      _a = [to, from], from = _a[0], to = _a[1];\n      createSpring();\n    }\n  };\n}\n\nspring.needsInterpolation = function (a, b) {\n  return typeof a === \"string\" || typeof b === \"string\";\n};\n\nvar zero = function zero(_t) {\n  return 0;\n};\n\nexport { spring };","var progress = function progress(from, to, value) {\n  var toFromDifference = to - from;\n  return toFromDifference === 0 ? 1 : (value - from) / toFromDifference;\n};\n\nexport { progress };","var mix = function mix(from, to, progress) {\n  return -progress * from + progress * to + from;\n};\n\nexport { mix };","import { isString, singleColorRegex, floatRegex } from '../utils.js';\n\nvar isColorString = function isColorString(type, testProp) {\n  return function (v) {\n    return Boolean(isString(v) && singleColorRegex.test(v) && v.startsWith(type) || testProp && Object.prototype.hasOwnProperty.call(v, testProp));\n  };\n};\n\nvar splitColor = function splitColor(aName, bName, cName) {\n  return function (v) {\n    var _a;\n\n    if (!isString(v)) return v;\n\n    var _b = v.match(floatRegex),\n        a = _b[0],\n        b = _b[1],\n        c = _b[2],\n        alpha = _b[3];\n\n    return _a = {}, _a[aName] = parseFloat(a), _a[bName] = parseFloat(b), _a[cName] = parseFloat(c), _a.alpha = alpha !== undefined ? parseFloat(alpha) : 1, _a;\n  };\n};\n\nexport { isColorString, splitColor };","import { __assign } from 'tslib';\nimport { number, alpha } from '../numbers/index.js';\nimport { sanitize, clamp } from '../utils.js';\nimport { isColorString, splitColor } from './utils.js';\nvar clampRgbUnit = clamp(0, 255);\n\nvar rgbUnit = __assign(__assign({}, number), {\n  transform: function transform(v) {\n    return Math.round(clampRgbUnit(v));\n  }\n});\n\nvar rgba = {\n  test: isColorString('rgb', 'red'),\n  parse: splitColor('red', 'green', 'blue'),\n  transform: function transform(_a) {\n    var red = _a.red,\n        green = _a.green,\n        blue = _a.blue,\n        _b = _a.alpha,\n        alpha$1 = _b === void 0 ? 1 : _b;\n    return 'rgba(' + rgbUnit.transform(red) + ', ' + rgbUnit.transform(green) + ', ' + rgbUnit.transform(blue) + ', ' + sanitize(alpha.transform(alpha$1)) + ')';\n  }\n};\nexport { rgbUnit, rgba };","import { rgba } from './rgba.js';\nimport { isColorString } from './utils.js';\n\nfunction parseHex(v) {\n  var r = '';\n  var g = '';\n  var b = '';\n  var a = '';\n\n  if (v.length > 5) {\n    r = v.substr(1, 2);\n    g = v.substr(3, 2);\n    b = v.substr(5, 2);\n    a = v.substr(7, 2);\n  } else {\n    r = v.substr(1, 1);\n    g = v.substr(2, 1);\n    b = v.substr(3, 1);\n    a = v.substr(4, 1);\n    r += r;\n    g += g;\n    b += b;\n    a += a;\n  }\n\n  return {\n    red: parseInt(r, 16),\n    green: parseInt(g, 16),\n    blue: parseInt(b, 16),\n    alpha: a ? parseInt(a, 16) / 255 : 1\n  };\n}\n\nvar hex = {\n  test: isColorString('#'),\n  parse: parseHex,\n  transform: rgba.transform\n};\nexport { hex };","import { alpha } from '../numbers/index.js';\nimport { percent } from '../numbers/units.js';\nimport { sanitize } from '../utils.js';\nimport { isColorString, splitColor } from './utils.js';\nvar hsla = {\n  test: isColorString('hsl', 'hue'),\n  parse: splitColor('hue', 'saturation', 'lightness'),\n  transform: function transform(_a) {\n    var hue = _a.hue,\n        saturation = _a.saturation,\n        lightness = _a.lightness,\n        _b = _a.alpha,\n        alpha$1 = _b === void 0 ? 1 : _b;\n    return 'hsla(' + Math.round(hue) + ', ' + percent.transform(sanitize(saturation)) + ', ' + percent.transform(sanitize(lightness)) + ', ' + sanitize(alpha.transform(alpha$1)) + ')';\n  }\n};\nexport { hsla };","import { __assign } from 'tslib';\nimport { mix } from './mix.js';\nimport { hex, rgba, hsla } from 'style-value-types';\nimport { invariant } from 'hey-listen';\n\nvar mixLinearColor = function mixLinearColor(from, to, v) {\n  var fromExpo = from * from;\n  var toExpo = to * to;\n  return Math.sqrt(Math.max(0, v * (toExpo - fromExpo) + fromExpo));\n};\n\nvar colorTypes = [hex, rgba, hsla];\n\nvar getColorType = function getColorType(v) {\n  return colorTypes.find(function (type) {\n    return type.test(v);\n  });\n};\n\nvar notAnimatable = function notAnimatable(color) {\n  return \"'\" + color + \"' is not an animatable color. Use the equivalent color code instead.\";\n};\n\nvar mixColor = function mixColor(from, to) {\n  var fromColorType = getColorType(from);\n  var toColorType = getColorType(to);\n  invariant(!!fromColorType, notAnimatable(from));\n  invariant(!!toColorType, notAnimatable(to));\n  invariant(fromColorType.transform === toColorType.transform, \"Both colors must be hex/RGBA, OR both must be HSLA.\");\n  var fromColor = fromColorType.parse(from);\n  var toColor = toColorType.parse(to);\n\n  var blended = __assign({}, fromColor);\n\n  var mixFunc = fromColorType === hsla ? mix : mixLinearColor;\n  return function (v) {\n    for (var key in blended) {\n      if (key !== \"alpha\") {\n        blended[key] = mixFunc(fromColor[key], toColor[key], v);\n      }\n    }\n\n    blended.alpha = mix(fromColor.alpha, toColor.alpha, v);\n    return fromColorType.transform(blended);\n  };\n};\n\nexport { mixColor, mixLinearColor };","import { isString } from '../utils.js';\nimport { hex } from './hex.js';\nimport { hsla } from './hsla.js';\nimport { rgba } from './rgba.js';\nvar color = {\n  test: function test(v) {\n    return rgba.test(v) || hex.test(v) || hsla.test(v);\n  },\n  parse: function parse(v) {\n    if (rgba.test(v)) {\n      return rgba.parse(v);\n    } else if (hsla.test(v)) {\n      return hsla.parse(v);\n    } else {\n      return hex.parse(v);\n    }\n  },\n  transform: function transform(v) {\n    return isString(v) ? v : v.hasOwnProperty('red') ? rgba.transform(v) : hsla.transform(v);\n  }\n};\nexport { color };","import { color } from '../color/index.js';\nimport { number } from '../numbers/index.js';\nimport { isString, floatRegex, colorRegex, sanitize } from '../utils.js';\nvar colorToken = '${c}';\nvar numberToken = '${n}';\n\nfunction test(v) {\n  var _a, _b, _c, _d;\n\n  return isNaN(v) && isString(v) && ((_b = (_a = v.match(floatRegex)) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) + ((_d = (_c = v.match(colorRegex)) === null || _c === void 0 ? void 0 : _c.length) !== null && _d !== void 0 ? _d : 0) > 0;\n}\n\nfunction analyse(v) {\n  var values = [];\n  var numColors = 0;\n  var colors = v.match(colorRegex);\n\n  if (colors) {\n    numColors = colors.length;\n    v = v.replace(colorRegex, colorToken);\n    values.push.apply(values, colors.map(color.parse));\n  }\n\n  var numbers = v.match(floatRegex);\n\n  if (numbers) {\n    v = v.replace(floatRegex, numberToken);\n    values.push.apply(values, numbers.map(number.parse));\n  }\n\n  return {\n    values: values,\n    numColors: numColors,\n    tokenised: v\n  };\n}\n\nfunction parse(v) {\n  return analyse(v).values;\n}\n\nfunction createTransformer(v) {\n  var _a = analyse(v),\n      values = _a.values,\n      numColors = _a.numColors,\n      tokenised = _a.tokenised;\n\n  var numValues = values.length;\n  return function (v) {\n    var output = tokenised;\n\n    for (var i = 0; i < numValues; i++) {\n      output = output.replace(i < numColors ? colorToken : numberToken, i < numColors ? color.transform(v[i]) : sanitize(v[i]));\n    }\n\n    return output;\n  };\n}\n\nvar convertNumbersToZero = function convertNumbersToZero(v) {\n  return typeof v === 'number' ? 0 : v;\n};\n\nfunction getAnimatableNone(v) {\n  var parsed = parse(v);\n  var transformer = createTransformer(v);\n  return transformer(parsed.map(convertNumbersToZero));\n}\n\nvar complex = {\n  test: test,\n  parse: parse,\n  createTransformer: createTransformer,\n  getAnimatableNone: getAnimatableNone\n};\nexport { complex };","var zeroPoint = {\n  x: 0,\n  y: 0,\n  z: 0\n};\n\nvar isNum = function isNum(v) {\n  return typeof v === 'number';\n};\n\nexport { isNum, zeroPoint };","import { __spreadArray, __assign } from 'tslib';\nimport { complex, color } from 'style-value-types';\nimport { mix } from './mix.js';\nimport { mixColor } from './mix-color.js';\nimport { isNum } from './inc.js';\nimport { pipe } from './pipe.js';\nimport { invariant } from 'hey-listen';\n\nfunction getMixer(origin, target) {\n  if (isNum(origin)) {\n    return function (v) {\n      return mix(origin, target, v);\n    };\n  } else if (color.test(origin)) {\n    return mixColor(origin, target);\n  } else {\n    return mixComplex(origin, target);\n  }\n}\n\nvar mixArray = function mixArray(from, to) {\n  var output = __spreadArray([], from);\n\n  var numValues = output.length;\n  var blendValue = from.map(function (fromThis, i) {\n    return getMixer(fromThis, to[i]);\n  });\n  return function (v) {\n    for (var i = 0; i < numValues; i++) {\n      output[i] = blendValue[i](v);\n    }\n\n    return output;\n  };\n};\n\nvar mixObject = function mixObject(origin, target) {\n  var output = __assign(__assign({}, origin), target);\n\n  var blendValue = {};\n\n  for (var key in output) {\n    if (origin[key] !== undefined && target[key] !== undefined) {\n      blendValue[key] = getMixer(origin[key], target[key]);\n    }\n  }\n\n  return function (v) {\n    for (var key in blendValue) {\n      output[key] = blendValue[key](v);\n    }\n\n    return output;\n  };\n};\n\nfunction analyse(value) {\n  var parsed = complex.parse(value);\n  var numValues = parsed.length;\n  var numNumbers = 0;\n  var numRGB = 0;\n  var numHSL = 0;\n\n  for (var i = 0; i < numValues; i++) {\n    if (numNumbers || typeof parsed[i] === \"number\") {\n      numNumbers++;\n    } else {\n      if (parsed[i].hue !== undefined) {\n        numHSL++;\n      } else {\n        numRGB++;\n      }\n    }\n  }\n\n  return {\n    parsed: parsed,\n    numNumbers: numNumbers,\n    numRGB: numRGB,\n    numHSL: numHSL\n  };\n}\n\nvar mixComplex = function mixComplex(origin, target) {\n  var template = complex.createTransformer(target);\n  var originStats = analyse(origin);\n  var targetStats = analyse(target);\n  invariant(originStats.numHSL === targetStats.numHSL && originStats.numRGB === targetStats.numRGB && originStats.numNumbers >= targetStats.numNumbers, \"Complex values '\" + origin + \"' and '\" + target + \"' too different to mix. Ensure all colors are of the same type.\");\n  return pipe(mixArray(originStats.parsed, targetStats.parsed), template);\n};\n\nexport { mixArray, mixComplex, mixObject };","import { progress } from './progress.js';\nimport { mix } from './mix.js';\nimport { mixColor } from './mix-color.js';\nimport { mixComplex, mixArray, mixObject } from './mix-complex.js';\nimport { color } from 'style-value-types';\nimport { clamp } from './clamp.js';\nimport { pipe } from './pipe.js';\nimport { invariant } from 'hey-listen';\n\nvar mixNumber = function mixNumber(from, to) {\n  return function (p) {\n    return mix(from, to, p);\n  };\n};\n\nfunction detectMixerFactory(v) {\n  if (typeof v === 'number') {\n    return mixNumber;\n  } else if (typeof v === 'string') {\n    if (color.test(v)) {\n      return mixColor;\n    } else {\n      return mixComplex;\n    }\n  } else if (Array.isArray(v)) {\n    return mixArray;\n  } else if (typeof v === 'object') {\n    return mixObject;\n  }\n}\n\nfunction createMixers(output, ease, customMixer) {\n  var mixers = [];\n  var mixerFactory = customMixer || detectMixerFactory(output[0]);\n  var numMixers = output.length - 1;\n\n  for (var i = 0; i < numMixers; i++) {\n    var mixer = mixerFactory(output[i], output[i + 1]);\n\n    if (ease) {\n      var easingFunction = Array.isArray(ease) ? ease[i] : ease;\n      mixer = pipe(easingFunction, mixer);\n    }\n\n    mixers.push(mixer);\n  }\n\n  return mixers;\n}\n\nfunction fastInterpolate(_a, _b) {\n  var from = _a[0],\n      to = _a[1];\n  var mixer = _b[0];\n  return function (v) {\n    return mixer(progress(from, to, v));\n  };\n}\n\nfunction slowInterpolate(input, mixers) {\n  var inputLength = input.length;\n  var lastInputIndex = inputLength - 1;\n  return function (v) {\n    var mixerIndex = 0;\n    var foundMixerIndex = false;\n\n    if (v <= input[0]) {\n      foundMixerIndex = true;\n    } else if (v >= input[lastInputIndex]) {\n      mixerIndex = lastInputIndex - 1;\n      foundMixerIndex = true;\n    }\n\n    if (!foundMixerIndex) {\n      var i = 1;\n\n      for (; i < inputLength; i++) {\n        if (input[i] > v || i === lastInputIndex) {\n          break;\n        }\n      }\n\n      mixerIndex = i - 1;\n    }\n\n    var progressInRange = progress(input[mixerIndex], input[mixerIndex + 1], v);\n    return mixers[mixerIndex](progressInRange);\n  };\n}\n\nfunction interpolate(input, output, _a) {\n  var _b = _a === void 0 ? {} : _a,\n      _c = _b.clamp,\n      isClamp = _c === void 0 ? true : _c,\n      ease = _b.ease,\n      mixer = _b.mixer;\n\n  var inputLength = input.length;\n  invariant(inputLength === output.length, 'Both input and output ranges must be the same length');\n  invariant(!ease || !Array.isArray(ease) || ease.length === inputLength - 1, 'Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values.');\n\n  if (input[0] > input[inputLength - 1]) {\n    input = [].concat(input);\n    output = [].concat(output);\n    input.reverse();\n    output.reverse();\n  }\n\n  var mixers = createMixers(output, ease, mixer);\n  var interpolator = inputLength === 2 ? fastInterpolate(input, mixers) : slowInterpolate(input, mixers);\n  return isClamp ? function (v) {\n    return interpolator(clamp(input[0], input[inputLength - 1], v));\n  } : interpolator;\n}\n\nexport { interpolate };","var reverseEasing = function reverseEasing(easing) {\n  return function (p) {\n    return 1 - easing(1 - p);\n  };\n};\n\nvar mirrorEasing = function mirrorEasing(easing) {\n  return function (p) {\n    return p <= 0.5 ? easing(2 * p) / 2 : (2 - easing(2 * (1 - p))) / 2;\n  };\n};\n\nvar createExpoIn = function createExpoIn(power) {\n  return function (p) {\n    return Math.pow(p, power);\n  };\n};\n\nvar createBackIn = function createBackIn(power) {\n  return function (p) {\n    return p * p * ((power + 1) * p - power);\n  };\n};\n\nvar createAnticipate = function createAnticipate(power) {\n  var backEasing = createBackIn(power);\n  return function (p) {\n    return (p *= 2) < 1 ? 0.5 * backEasing(p) : 0.5 * (2 - Math.pow(2, -10 * (p - 1)));\n  };\n};\n\nexport { createAnticipate, createBackIn, createExpoIn, mirrorEasing, reverseEasing };","import { createExpoIn, reverseEasing, mirrorEasing, createBackIn, createAnticipate } from './utils.js';\nvar DEFAULT_OVERSHOOT_STRENGTH = 1.525;\nvar BOUNCE_FIRST_THRESHOLD = 4.0 / 11.0;\nvar BOUNCE_SECOND_THRESHOLD = 8.0 / 11.0;\nvar BOUNCE_THIRD_THRESHOLD = 9.0 / 10.0;\n\nvar linear = function linear(p) {\n  return p;\n};\n\nvar easeIn = createExpoIn(2);\nvar easeOut = reverseEasing(easeIn);\nvar easeInOut = mirrorEasing(easeIn);\n\nvar circIn = function circIn(p) {\n  return 1 - Math.sin(Math.acos(p));\n};\n\nvar circOut = reverseEasing(circIn);\nvar circInOut = mirrorEasing(circOut);\nvar backIn = createBackIn(DEFAULT_OVERSHOOT_STRENGTH);\nvar backOut = reverseEasing(backIn);\nvar backInOut = mirrorEasing(backIn);\nvar anticipate = createAnticipate(DEFAULT_OVERSHOOT_STRENGTH);\nvar ca = 4356.0 / 361.0;\nvar cb = 35442.0 / 1805.0;\nvar cc = 16061.0 / 1805.0;\n\nvar bounceOut = function bounceOut(p) {\n  if (p === 1 || p === 0) return p;\n  var p2 = p * p;\n  return p < BOUNCE_FIRST_THRESHOLD ? 7.5625 * p2 : p < BOUNCE_SECOND_THRESHOLD ? 9.075 * p2 - 9.9 * p + 3.4 : p < BOUNCE_THIRD_THRESHOLD ? ca * p2 - cb * p + cc : 10.8 * p * p - 20.52 * p + 10.72;\n};\n\nvar bounceIn = reverseEasing(bounceOut);\n\nvar bounceInOut = function bounceInOut(p) {\n  return p < 0.5 ? 0.5 * (1.0 - bounceOut(1.0 - p * 2.0)) : 0.5 * bounceOut(p * 2.0 - 1.0) + 0.5;\n};\n\nexport { anticipate, backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, easeIn, easeInOut, easeOut, linear };","import { interpolate } from '../../utils/interpolate.js';\nimport { easeInOut } from '../../easing/index.js';\n\nfunction defaultEasing(values, easing) {\n  return values.map(function () {\n    return easing || easeInOut;\n  }).splice(0, values.length - 1);\n}\n\nfunction defaultOffset(values) {\n  var numValues = values.length;\n  return values.map(function (_value, i) {\n    return i !== 0 ? i / (numValues - 1) : 0;\n  });\n}\n\nfunction convertOffsetToTimes(offset, duration) {\n  return offset.map(function (o) {\n    return o * duration;\n  });\n}\n\nfunction keyframes(_a) {\n  var _b = _a.from,\n      from = _b === void 0 ? 0 : _b,\n      _c = _a.to,\n      to = _c === void 0 ? 1 : _c,\n      ease = _a.ease,\n      offset = _a.offset,\n      _d = _a.duration,\n      duration = _d === void 0 ? 300 : _d;\n  var state = {\n    done: false,\n    value: from\n  };\n  var values = Array.isArray(to) ? to : [from, to];\n  var times = convertOffsetToTimes(offset && offset.length === values.length ? offset : defaultOffset(values), duration);\n\n  function createInterpolator() {\n    return interpolate(times, values, {\n      ease: Array.isArray(ease) ? ease : defaultEasing(values, ease)\n    });\n  }\n\n  var interpolator = createInterpolator();\n  return {\n    next: function next(t) {\n      state.value = interpolator(t);\n      state.done = t >= duration;\n      return state;\n    },\n    flipTarget: function flipTarget() {\n      values.reverse();\n      interpolator = createInterpolator();\n    }\n  };\n}\n\nexport { convertOffsetToTimes, defaultEasing, defaultOffset, keyframes };","import { spring } from '../generators/spring.js';\nimport { keyframes } from '../generators/keyframes.js';\nimport { decay } from '../generators/decay.js';\nvar types = {\n  keyframes: keyframes,\n  spring: spring,\n  decay: decay\n};\n\nfunction detectAnimationFromOptions(config) {\n  if (Array.isArray(config.to)) {\n    return keyframes;\n  } else if (types[config.type]) {\n    return types[config.type];\n  }\n\n  var keys = new Set(Object.keys(config));\n\n  if (keys.has(\"ease\") || keys.has(\"duration\") && !keys.has(\"dampingRatio\")) {\n    return keyframes;\n  } else if (keys.has(\"dampingRatio\") || keys.has(\"stiffness\") || keys.has(\"mass\") || keys.has(\"damping\") || keys.has(\"restSpeed\") || keys.has(\"restDelta\")) {\n    return spring;\n  }\n\n  return keyframes;\n}\n\nexport { detectAnimationFromOptions };","function decay(_a) {\n  var _b = _a.velocity,\n      velocity = _b === void 0 ? 0 : _b,\n      _c = _a.from,\n      from = _c === void 0 ? 0 : _c,\n      _d = _a.power,\n      power = _d === void 0 ? 0.8 : _d,\n      _e = _a.timeConstant,\n      timeConstant = _e === void 0 ? 350 : _e,\n      _f = _a.restDelta,\n      restDelta = _f === void 0 ? 0.5 : _f,\n      modifyTarget = _a.modifyTarget;\n  var state = {\n    done: false,\n    value: from\n  };\n  var amplitude = power * velocity;\n  var ideal = from + amplitude;\n  var target = modifyTarget === undefined ? ideal : modifyTarget(ideal);\n  if (target !== ideal) amplitude = target - from;\n  return {\n    next: function next(t) {\n      var delta = -amplitude * Math.exp(-t / timeConstant);\n      state.done = !(delta > restDelta || delta < -restDelta);\n      state.value = state.done ? target : target + delta;\n      return state;\n    },\n    flipTarget: function flipTarget() {}\n  };\n}\n\nexport { decay };","function loopElapsed(elapsed, duration, delay) {\n  if (delay === void 0) {\n    delay = 0;\n  }\n\n  return elapsed - duration - delay;\n}\n\nfunction reverseElapsed(elapsed, duration, delay, isForwardPlayback) {\n  if (delay === void 0) {\n    delay = 0;\n  }\n\n  if (isForwardPlayback === void 0) {\n    isForwardPlayback = true;\n  }\n\n  return isForwardPlayback ? loopElapsed(duration + -elapsed, duration, delay) : duration - (elapsed - duration) + delay;\n}\n\nfunction hasRepeatDelayElapsed(elapsed, duration, delay, isForwardPlayback) {\n  return isForwardPlayback ? elapsed >= duration + delay : elapsed <= -delay;\n}\n\nexport { hasRepeatDelayElapsed, loopElapsed, reverseElapsed };","import { __rest, __assign } from 'tslib';\nimport { detectAnimationFromOptions } from './utils/detect-animation-from-options.js';\nimport sync, { cancelSync } from 'framesync';\nimport { interpolate } from '../utils/interpolate.js';\nimport { hasRepeatDelayElapsed, reverseElapsed, loopElapsed } from './utils/elapsed.js';\n\nvar framesync = function framesync(update) {\n  var passTimestamp = function passTimestamp(_a) {\n    var delta = _a.delta;\n    return update(delta);\n  };\n\n  return {\n    start: function start() {\n      return sync.update(passTimestamp, true);\n    },\n    stop: function stop() {\n      return cancelSync.update(passTimestamp);\n    }\n  };\n};\n\nfunction animate(_a) {\n  var _b, _c;\n\n  var from = _a.from,\n      _d = _a.autoplay,\n      autoplay = _d === void 0 ? true : _d,\n      _e = _a.driver,\n      driver = _e === void 0 ? framesync : _e,\n      _f = _a.elapsed,\n      elapsed = _f === void 0 ? 0 : _f,\n      _g = _a.repeat,\n      repeatMax = _g === void 0 ? 0 : _g,\n      _h = _a.repeatType,\n      repeatType = _h === void 0 ? \"loop\" : _h,\n      _j = _a.repeatDelay,\n      repeatDelay = _j === void 0 ? 0 : _j,\n      onPlay = _a.onPlay,\n      onStop = _a.onStop,\n      onComplete = _a.onComplete,\n      onRepeat = _a.onRepeat,\n      onUpdate = _a.onUpdate,\n      options = __rest(_a, [\"from\", \"autoplay\", \"driver\", \"elapsed\", \"repeat\", \"repeatType\", \"repeatDelay\", \"onPlay\", \"onStop\", \"onComplete\", \"onRepeat\", \"onUpdate\"]);\n\n  var to = options.to;\n  var driverControls;\n  var repeatCount = 0;\n  var computedDuration = options.duration;\n  var latest;\n  var isComplete = false;\n  var isForwardPlayback = true;\n  var interpolateFromNumber;\n  var animator = detectAnimationFromOptions(options);\n\n  if ((_c = (_b = animator).needsInterpolation) === null || _c === void 0 ? void 0 : _c.call(_b, from, to)) {\n    interpolateFromNumber = interpolate([0, 100], [from, to], {\n      clamp: false\n    });\n    from = 0;\n    to = 100;\n  }\n\n  var animation = animator(__assign(__assign({}, options), {\n    from: from,\n    to: to\n  }));\n\n  function repeat() {\n    repeatCount++;\n\n    if (repeatType === \"reverse\") {\n      isForwardPlayback = repeatCount % 2 === 0;\n      elapsed = reverseElapsed(elapsed, computedDuration, repeatDelay, isForwardPlayback);\n    } else {\n      elapsed = loopElapsed(elapsed, computedDuration, repeatDelay);\n      if (repeatType === \"mirror\") animation.flipTarget();\n    }\n\n    isComplete = false;\n    onRepeat && onRepeat();\n  }\n\n  function complete() {\n    driverControls.stop();\n    onComplete && onComplete();\n  }\n\n  function update(delta) {\n    if (!isForwardPlayback) delta = -delta;\n    elapsed += delta;\n\n    if (!isComplete) {\n      var state = animation.next(Math.max(0, elapsed));\n      latest = state.value;\n      if (interpolateFromNumber) latest = interpolateFromNumber(latest);\n      isComplete = isForwardPlayback ? state.done : elapsed <= 0;\n    }\n\n    onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(latest);\n\n    if (isComplete) {\n      if (repeatCount === 0) computedDuration !== null && computedDuration !== void 0 ? computedDuration : computedDuration = elapsed;\n\n      if (repeatCount < repeatMax) {\n        hasRepeatDelayElapsed(elapsed, computedDuration, repeatDelay, isForwardPlayback) && repeat();\n      } else {\n        complete();\n      }\n    }\n  }\n\n  function play() {\n    onPlay === null || onPlay === void 0 ? void 0 : onPlay();\n    driverControls = driver(update);\n    driverControls.start();\n  }\n\n  autoplay && play();\n  return {\n    stop: function stop() {\n      onStop === null || onStop === void 0 ? void 0 : onStop();\n      driverControls.stop();\n    }\n  };\n}\n\nexport { animate };","function velocityPerSecond(velocity, frameDuration) {\n  return frameDuration ? velocity * (1000 / frameDuration) : 0;\n}\n\nexport { velocityPerSecond };","/**\n * Converts seconds to milliseconds\n *\n * @param seconds - Time in seconds.\n * @return milliseconds - Converted time in milliseconds.\n */\nvar secondsToMilliseconds = function secondsToMilliseconds(seconds) {\n  return seconds * 1000;\n};\n\nexport { secondsToMilliseconds };","import { linear } from './index.js';\n\nvar a = function a(a1, a2) {\n  return 1.0 - 3.0 * a2 + 3.0 * a1;\n};\n\nvar b = function b(a1, a2) {\n  return 3.0 * a2 - 6.0 * a1;\n};\n\nvar c = function c(a1) {\n  return 3.0 * a1;\n};\n\nvar calcBezier = function calcBezier(t, a1, a2) {\n  return ((a(a1, a2) * t + b(a1, a2)) * t + c(a1)) * t;\n};\n\nvar getSlope = function getSlope(t, a1, a2) {\n  return 3.0 * a(a1, a2) * t * t + 2.0 * b(a1, a2) * t + c(a1);\n};\n\nvar subdivisionPrecision = 0.0000001;\nvar subdivisionMaxIterations = 10;\n\nfunction binarySubdivide(aX, aA, aB, mX1, mX2) {\n  var currentX;\n  var currentT;\n  var i = 0;\n\n  do {\n    currentT = aA + (aB - aA) / 2.0;\n    currentX = calcBezier(currentT, mX1, mX2) - aX;\n\n    if (currentX > 0.0) {\n      aB = currentT;\n    } else {\n      aA = currentT;\n    }\n  } while (Math.abs(currentX) > subdivisionPrecision && ++i < subdivisionMaxIterations);\n\n  return currentT;\n}\n\nvar newtonIterations = 8;\nvar newtonMinSlope = 0.001;\n\nfunction newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n  for (var i = 0; i < newtonIterations; ++i) {\n    var currentSlope = getSlope(aGuessT, mX1, mX2);\n\n    if (currentSlope === 0.0) {\n      return aGuessT;\n    }\n\n    var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n    aGuessT -= currentX / currentSlope;\n  }\n\n  return aGuessT;\n}\n\nvar kSplineTableSize = 11;\nvar kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\nfunction cubicBezier(mX1, mY1, mX2, mY2) {\n  if (mX1 === mY1 && mX2 === mY2) return linear;\n  var sampleValues = new Float32Array(kSplineTableSize);\n\n  for (var i = 0; i < kSplineTableSize; ++i) {\n    sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n  }\n\n  function getTForX(aX) {\n    var intervalStart = 0.0;\n    var currentSample = 1;\n    var lastSample = kSplineTableSize - 1;\n\n    for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n      intervalStart += kSampleStepSize;\n    }\n\n    --currentSample;\n    var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n    var guessForT = intervalStart + dist * kSampleStepSize;\n    var initialSlope = getSlope(guessForT, mX1, mX2);\n\n    if (initialSlope >= newtonMinSlope) {\n      return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n    } else if (initialSlope === 0.0) {\n      return guessForT;\n    } else {\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n    }\n  }\n\n  return function (t) {\n    return t === 0 || t === 1 ? t : calcBezier(getTForX(t), mY1, mY2);\n  };\n}\n\nexport { cubicBezier };","import { __read } from 'tslib';\nimport { invariant } from 'hey-listen';\nimport { cubicBezier, linear, easeIn, easeInOut, easeOut, circIn, circInOut, circOut, backIn, backInOut, backOut, anticipate, bounceIn, bounceInOut, bounceOut } from 'popmotion';\nvar easingLookup = {\n  linear: linear,\n  easeIn: easeIn,\n  easeInOut: easeInOut,\n  easeOut: easeOut,\n  circIn: circIn,\n  circInOut: circInOut,\n  circOut: circOut,\n  backIn: backIn,\n  backInOut: backInOut,\n  backOut: backOut,\n  anticipate: anticipate,\n  bounceIn: bounceIn,\n  bounceInOut: bounceInOut,\n  bounceOut: bounceOut\n};\n\nvar easingDefinitionToFunction = function easingDefinitionToFunction(definition) {\n  if (Array.isArray(definition)) {\n    // If cubic bezier definition, create bezier curve\n    invariant(definition.length === 4, \"Cubic bezier arrays must contain four numerical values.\");\n\n    var _a = __read(definition, 4),\n        x1 = _a[0],\n        y1 = _a[1],\n        x2 = _a[2],\n        y2 = _a[3];\n\n    return cubicBezier(x1, y1, x2, y2);\n  } else if (typeof definition === \"string\") {\n    // Else lookup from table\n    invariant(easingLookup[definition] !== undefined, \"Invalid easing type '\" + definition + \"'\");\n    return easingLookup[definition];\n  }\n\n  return definition;\n};\n\nvar isEasingArray = function isEasingArray(ease) {\n  return Array.isArray(ease) && typeof ease[0] !== \"number\";\n};\n\nexport { easingDefinitionToFunction, isEasingArray };","import { complex } from 'style-value-types';\n/**\n * Check if a value is animatable. Examples:\n *\n * ✅: 100, \"100px\", \"#fff\"\n * ❌: \"block\", \"url(2.jpg)\"\n * @param value\n *\n * @internal\n */\n\nvar isAnimatable = function isAnimatable(key, value) {\n  // If the list of keys tat might be non-animatable grows, replace with Set\n  if (key === \"zIndex\") return false; // If it's a number or a keyframes array, we can animate it. We might at some point\n  // need to do a deep isAnimatable check of keyframes, or let Popmotion handle this,\n  // but for now lets leave it like this for performance reasons\n\n  if (typeof value === \"number\" || Array.isArray(value)) return true;\n\n  if (typeof value === \"string\" && // It's animatable if we have a string\n  complex.test(value) && // And it contains numbers and/or colors\n  !value.startsWith(\"url(\") // Unless it starts with \"url(\"\n  ) {\n    return true;\n  }\n\n  return false;\n};\n\nexport { isAnimatable };","import { __assign } from 'tslib';\nimport { isKeyframesTarget } from './is-keyframes-target.js';\n\nvar underDampedSpring = function underDampedSpring() {\n  return {\n    type: \"spring\",\n    stiffness: 500,\n    damping: 25,\n    restDelta: 0.5,\n    restSpeed: 10\n  };\n};\n\nvar criticallyDampedSpring = function criticallyDampedSpring(to) {\n  return {\n    type: \"spring\",\n    stiffness: 550,\n    damping: to === 0 ? 2 * Math.sqrt(550) : 30,\n    restDelta: 0.01,\n    restSpeed: 10\n  };\n};\n\nvar linearTween = function linearTween() {\n  return {\n    type: \"keyframes\",\n    ease: \"linear\",\n    duration: 0.3\n  };\n};\n\nvar keyframes = function keyframes(values) {\n  return {\n    type: \"keyframes\",\n    duration: 0.8,\n    values: values\n  };\n};\n\nvar defaultTransitions = {\n  x: underDampedSpring,\n  y: underDampedSpring,\n  z: underDampedSpring,\n  rotate: underDampedSpring,\n  rotateX: underDampedSpring,\n  rotateY: underDampedSpring,\n  rotateZ: underDampedSpring,\n  scaleX: criticallyDampedSpring,\n  scaleY: criticallyDampedSpring,\n  scale: criticallyDampedSpring,\n  opacity: linearTween,\n  backgroundColor: linearTween,\n  color: linearTween,\n  default: criticallyDampedSpring\n};\n\nvar getDefaultTransition = function getDefaultTransition(valueKey, to) {\n  var transitionFactory;\n\n  if (isKeyframesTarget(to)) {\n    transitionFactory = keyframes;\n  } else {\n    transitionFactory = defaultTransitions[valueKey] || defaultTransitions.default;\n  }\n\n  return __assign({\n    to: to\n  }, transitionFactory(to));\n};\n\nexport { criticallyDampedSpring, getDefaultTransition, linearTween, underDampedSpring };","import { __assign } from 'tslib';\nimport { complex } from './index.js';\nimport { floatRegex } from '../utils.js';\nvar maxDefaults = new Set(['brightness', 'contrast', 'saturate', 'opacity']);\n\nfunction applyDefaultFilter(v) {\n  var _a = v.slice(0, -1).split('('),\n      name = _a[0],\n      value = _a[1];\n\n  if (name === 'drop-shadow') return v;\n  var number = (value.match(floatRegex) || [])[0];\n  if (!number) return v;\n  var unit = value.replace(number, '');\n  var defaultValue = maxDefaults.has(name) ? 1 : 0;\n  if (number !== value) defaultValue *= 100;\n  return name + '(' + defaultValue + unit + ')';\n}\n\nvar functionRegex = /([a-z-]*)\\(.*?\\)/g;\n\nvar filter = __assign(__assign({}, complex), {\n  getAnimatableNone: function getAnimatableNone(v) {\n    var functions = v.match(functionRegex);\n    return functions ? functions.map(applyDefaultFilter).join(' ') : v;\n  }\n});\n\nexport { filter };","import { __assign } from 'tslib';\nimport { color, filter } from 'style-value-types';\nimport { numberValueTypes } from './number.js';\n/**\n * A map of default value types for common values\n */\n\nvar defaultValueTypes = __assign(__assign({}, numberValueTypes), {\n  // Color props\n  color: color,\n  backgroundColor: color,\n  outlineColor: color,\n  fill: color,\n  stroke: color,\n  // Border props\n  borderColor: color,\n  borderTopColor: color,\n  borderRightColor: color,\n  borderBottomColor: color,\n  borderLeftColor: color,\n  filter: filter,\n  WebkitFilter: filter\n});\n/**\n * Gets the default ValueType for the provided value key\n */\n\n\nvar getDefaultValueType = function getDefaultValueType(key) {\n  return defaultValueTypes[key];\n};\n\nexport { defaultValueTypes, getDefaultValueType };","import { filter, complex } from 'style-value-types';\nimport { getDefaultValueType } from './defaults.js';\n\nfunction getAnimatableNone(key, value) {\n  var _a;\n\n  var defaultValueType = getDefaultValueType(key);\n  if (defaultValueType !== filter) defaultValueType = complex; // If value is not recognised as animatable, ie \"none\", create an animatable version origin based on the target\n\n  return (_a = defaultValueType.getAnimatableNone) === null || _a === void 0 ? void 0 : _a.call(defaultValueType, value);\n}\n\nexport { getAnimatableNone };","import { __assign, __rest, __spreadArray, __read } from 'tslib';\nimport { inertia, animate } from 'popmotion';\nimport { secondsToMilliseconds } from '../../utils/time-conversion.js';\nimport { isEasingArray, easingDefinitionToFunction } from './easing.js';\nimport { isAnimatable } from './is-animatable.js';\nimport { getDefaultTransition } from './default-transitions.js';\nimport { warning } from 'hey-listen';\nimport { getAnimatableNone } from '../../render/dom/value-types/animatable-none.js';\n/**\n * Decide whether a transition is defined on a given Transition.\n * This filters out orchestration options and returns true\n * if any options are left.\n */\n\nfunction isTransitionDefined(_a) {\n  _a.when;\n  _a.delay;\n  _a.delayChildren;\n  _a.staggerChildren;\n  _a.staggerDirection;\n  _a.repeat;\n  _a.repeatType;\n  _a.repeatDelay;\n  _a.from;\n\n  var transition = __rest(_a, [\"when\", \"delay\", \"delayChildren\", \"staggerChildren\", \"staggerDirection\", \"repeat\", \"repeatType\", \"repeatDelay\", \"from\"]);\n\n  return !!Object.keys(transition).length;\n}\n\nvar legacyRepeatWarning = false;\n/**\n * Convert Framer Motion's Transition type into Popmotion-compatible options.\n */\n\nfunction convertTransitionToAnimationOptions(_a) {\n  var ease = _a.ease,\n      times = _a.times,\n      yoyo = _a.yoyo,\n      flip = _a.flip,\n      loop = _a.loop,\n      transition = __rest(_a, [\"ease\", \"times\", \"yoyo\", \"flip\", \"loop\"]);\n\n  var options = __assign({}, transition);\n\n  if (times) options[\"offset\"] = times;\n  /**\n   * Convert any existing durations from seconds to milliseconds\n   */\n\n  if (transition.duration) options[\"duration\"] = secondsToMilliseconds(transition.duration);\n  if (transition.repeatDelay) options.repeatDelay = secondsToMilliseconds(transition.repeatDelay);\n  /**\n   * Map easing names to Popmotion's easing functions\n   */\n\n  if (ease) {\n    options[\"ease\"] = isEasingArray(ease) ? ease.map(easingDefinitionToFunction) : easingDefinitionToFunction(ease);\n  }\n  /**\n   * Support legacy transition API\n   */\n\n\n  if (transition.type === \"tween\") options.type = \"keyframes\";\n  /**\n   * TODO: These options are officially removed from the API.\n   */\n\n  if (yoyo || loop || flip) {\n    warning(!legacyRepeatWarning, \"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options.\");\n    legacyRepeatWarning = true;\n\n    if (yoyo) {\n      options.repeatType = \"reverse\";\n    } else if (loop) {\n      options.repeatType = \"loop\";\n    } else if (flip) {\n      options.repeatType = \"mirror\";\n    }\n\n    options.repeat = loop || yoyo || flip || transition.repeat;\n  }\n  /**\n   * TODO: Popmotion 9 has the ability to automatically detect whether to use\n   * a keyframes or spring animation, but does so by detecting velocity and other spring options.\n   * It'd be good to introduce a similar thing here.\n   */\n\n\n  if (transition.type !== \"spring\") options.type = \"keyframes\";\n  return options;\n}\n/**\n * Get the delay for a value by checking Transition with decreasing specificity.\n */\n\n\nfunction getDelayFromTransition(transition, key) {\n  var _a;\n\n  var valueTransition = getValueTransition(transition, key) || {};\n  return (_a = valueTransition.delay) !== null && _a !== void 0 ? _a : 0;\n}\n\nfunction hydrateKeyframes(options) {\n  if (Array.isArray(options.to) && options.to[0] === null) {\n    options.to = __spreadArray([], __read(options.to));\n    options.to[0] = options.from;\n  }\n\n  return options;\n}\n\nfunction getPopmotionAnimationOptions(transition, options, key) {\n  var _a;\n\n  if (Array.isArray(options.to)) {\n    (_a = transition.duration) !== null && _a !== void 0 ? _a : transition.duration = 0.8;\n  }\n\n  hydrateKeyframes(options);\n  /**\n   * Get a default transition if none is determined to be defined.\n   */\n\n  if (!isTransitionDefined(transition)) {\n    transition = __assign(__assign({}, transition), getDefaultTransition(key, options.to));\n  }\n\n  return __assign(__assign({}, options), convertTransitionToAnimationOptions(transition));\n}\n/**\n *\n */\n\n\nfunction getAnimation(key, value, target, transition, onComplete) {\n  var _a;\n\n  var valueTransition = getValueTransition(transition, key);\n  var origin = (_a = valueTransition.from) !== null && _a !== void 0 ? _a : value.get();\n  var isTargetAnimatable = isAnimatable(key, target);\n\n  if (origin === \"none\" && isTargetAnimatable && typeof target === \"string\") {\n    /**\n     * If we're trying to animate from \"none\", try and get an animatable version\n     * of the target. This could be improved to work both ways.\n     */\n    origin = getAnimatableNone(key, target);\n  } else if (isZero(origin) && typeof target === \"string\") {\n    origin = getZeroUnit(target);\n  } else if (!Array.isArray(target) && isZero(target) && typeof origin === \"string\") {\n    target = getZeroUnit(origin);\n  }\n\n  var isOriginAnimatable = isAnimatable(key, origin);\n  warning(isOriginAnimatable === isTargetAnimatable, \"You are trying to animate \" + key + \" from \\\"\" + origin + \"\\\" to \\\"\" + target + \"\\\". \" + origin + \" is not an animatable value - to enable this animation set \" + origin + \" to a value animatable to \" + target + \" via the `style` property.\");\n\n  function start() {\n    var options = {\n      from: origin,\n      to: target,\n      velocity: value.getVelocity(),\n      onComplete: onComplete,\n      onUpdate: function onUpdate(v) {\n        return value.set(v);\n      }\n    };\n    return valueTransition.type === \"inertia\" || valueTransition.type === \"decay\" ? inertia(__assign(__assign({}, options), valueTransition)) : animate(__assign(__assign({}, getPopmotionAnimationOptions(valueTransition, options, key)), {\n      onUpdate: function onUpdate(v) {\n        var _a;\n\n        options.onUpdate(v);\n        (_a = valueTransition.onUpdate) === null || _a === void 0 ? void 0 : _a.call(valueTransition, v);\n      },\n      onComplete: function onComplete() {\n        var _a;\n\n        options.onComplete();\n        (_a = valueTransition.onComplete) === null || _a === void 0 ? void 0 : _a.call(valueTransition);\n      }\n    }));\n  }\n\n  function set() {\n    var _a;\n\n    value.set(target);\n    onComplete();\n    (_a = valueTransition === null || valueTransition === void 0 ? void 0 : valueTransition.onComplete) === null || _a === void 0 ? void 0 : _a.call(valueTransition);\n    return {\n      stop: function stop() {}\n    };\n  }\n\n  return !isOriginAnimatable || !isTargetAnimatable || valueTransition.type === false ? set : start;\n}\n\nfunction isZero(value) {\n  return value === 0 || typeof value === \"string\" && parseFloat(value) === 0 && value.indexOf(\" \") === -1;\n}\n\nfunction getZeroUnit(potentialUnitType) {\n  return typeof potentialUnitType === \"number\" ? 0 : getAnimatableNone(\"\", potentialUnitType);\n}\n\nfunction getValueTransition(transition, key) {\n  return transition[key] || transition[\"default\"] || transition;\n}\n/**\n * Start animation on a MotionValue. This function is an interface between\n * Framer Motion and Popmotion\n *\n * @internal\n */\n\n\nfunction startAnimation(key, value, target, transition) {\n  if (transition === void 0) {\n    transition = {};\n  }\n\n  return value.start(function (onComplete) {\n    var delayTimer;\n    var controls;\n    var animation = getAnimation(key, value, target, transition, onComplete);\n    var delay = getDelayFromTransition(transition, key);\n\n    var start = function start() {\n      return controls = animation();\n    };\n\n    if (delay) {\n      delayTimer = setTimeout(start, secondsToMilliseconds(delay));\n    } else {\n      start();\n    }\n\n    return function () {\n      clearTimeout(delayTimer);\n      controls === null || controls === void 0 ? void 0 : controls.stop();\n    };\n  });\n}\n\nexport { convertTransitionToAnimationOptions, getDelayFromTransition, getPopmotionAnimationOptions, getValueTransition, getZeroUnit, hydrateKeyframes, isTransitionDefined, isZero, startAnimation };","import { __assign } from 'tslib';\nimport { animate } from './index.js';\nimport { velocityPerSecond } from '../utils/velocity-per-second.js';\nimport { getFrameData } from 'framesync';\n\nfunction inertia(_a) {\n  var _b = _a.from,\n      from = _b === void 0 ? 0 : _b,\n      _c = _a.velocity,\n      velocity = _c === void 0 ? 0 : _c,\n      min = _a.min,\n      max = _a.max,\n      _d = _a.power,\n      power = _d === void 0 ? 0.8 : _d,\n      _e = _a.timeConstant,\n      timeConstant = _e === void 0 ? 750 : _e,\n      _f = _a.bounceStiffness,\n      bounceStiffness = _f === void 0 ? 500 : _f,\n      _g = _a.bounceDamping,\n      bounceDamping = _g === void 0 ? 10 : _g,\n      _h = _a.restDelta,\n      restDelta = _h === void 0 ? 1 : _h,\n      modifyTarget = _a.modifyTarget,\n      driver = _a.driver,\n      _onUpdate = _a.onUpdate,\n      onComplete = _a.onComplete;\n  var currentAnimation;\n\n  function isOutOfBounds(v) {\n    return min !== undefined && v < min || max !== undefined && v > max;\n  }\n\n  function boundaryNearest(v) {\n    if (min === undefined) return max;\n    if (max === undefined) return min;\n    return Math.abs(min - v) < Math.abs(max - v) ? min : max;\n  }\n\n  function startAnimation(options) {\n    currentAnimation === null || currentAnimation === void 0 ? void 0 : currentAnimation.stop();\n    currentAnimation = animate(__assign(__assign({}, options), {\n      driver: driver,\n      onUpdate: function onUpdate(v) {\n        var _a;\n\n        _onUpdate === null || _onUpdate === void 0 ? void 0 : _onUpdate(v);\n        (_a = options.onUpdate) === null || _a === void 0 ? void 0 : _a.call(options, v);\n      },\n      onComplete: onComplete\n    }));\n  }\n\n  function startSpring(options) {\n    startAnimation(__assign({\n      type: \"spring\",\n      stiffness: bounceStiffness,\n      damping: bounceDamping,\n      restDelta: restDelta\n    }, options));\n  }\n\n  if (isOutOfBounds(from)) {\n    startSpring({\n      from: from,\n      velocity: velocity,\n      to: boundaryNearest(from)\n    });\n  } else {\n    var target = power * velocity + from;\n    if (typeof modifyTarget !== \"undefined\") target = modifyTarget(target);\n    var boundary_1 = boundaryNearest(target);\n    var heading_1 = boundary_1 === min ? -1 : 1;\n    var prev_1;\n    var current_1;\n\n    var checkBoundary = function checkBoundary(v) {\n      prev_1 = current_1;\n      current_1 = v;\n      velocity = velocityPerSecond(v - prev_1, getFrameData().delta);\n\n      if (heading_1 === 1 && v > boundary_1 || heading_1 === -1 && v < boundary_1) {\n        startSpring({\n          from: v,\n          to: boundary_1,\n          velocity: velocity\n        });\n      }\n    };\n\n    startAnimation({\n      type: \"decay\",\n      from: from,\n      velocity: velocity,\n      timeConstant: timeConstant,\n      power: power,\n      restDelta: restDelta,\n      modifyTarget: modifyTarget,\n      onUpdate: isOutOfBounds(target) ? checkBoundary : undefined\n    });\n  }\n\n  return {\n    stop: function stop() {\n      return currentAnimation === null || currentAnimation === void 0 ? void 0 : currentAnimation.stop();\n    }\n  };\n}\n\nexport { inertia };","function addUniqueItem(arr, item) {\n  arr.indexOf(item) === -1 && arr.push(item);\n}\n\nfunction removeItem(arr, item) {\n  var index = arr.indexOf(item);\n  index > -1 && arr.splice(index, 1);\n}\n\nexport { addUniqueItem, removeItem };","import { addUniqueItem, removeItem } from './array.js';\n\nvar SubscriptionManager = function () {\n  function SubscriptionManager() {\n    this.subscriptions = [];\n  }\n\n  SubscriptionManager.prototype.add = function (handler) {\n    var _this = this;\n\n    addUniqueItem(this.subscriptions, handler);\n    return function () {\n      return removeItem(_this.subscriptions, handler);\n    };\n  };\n\n  SubscriptionManager.prototype.notify = function (a, b, c) {\n    var numSubscriptions = this.subscriptions.length;\n    if (!numSubscriptions) return;\n\n    if (numSubscriptions === 1) {\n      /**\n       * If there's only a single handler we can just call it without invoking a loop.\n       */\n      this.subscriptions[0](a, b, c);\n    } else {\n      for (var i = 0; i < numSubscriptions; i++) {\n        /**\n         * Check whether the handler exists before firing as it's possible\n         * the subscriptions were modified during this loop running.\n         */\n        var handler = this.subscriptions[i];\n        handler && handler(a, b, c);\n      }\n    }\n  };\n\n  SubscriptionManager.prototype.getSize = function () {\n    return this.subscriptions.length;\n  };\n\n  SubscriptionManager.prototype.clear = function () {\n    this.subscriptions.length = 0;\n  };\n\n  return SubscriptionManager;\n}();\n\nexport { SubscriptionManager };","import sync, { getFrameData } from 'framesync';\nimport { velocityPerSecond } from 'popmotion';\nimport { SubscriptionManager } from '../utils/subscription-manager.js';\n\nvar isFloat = function isFloat(value) {\n  return !isNaN(parseFloat(value));\n};\n/**\n * `MotionValue` is used to track the state and velocity of motion values.\n *\n * @public\n */\n\n\nvar MotionValue = function () {\n  /**\n   * @param init - The initiating value\n   * @param config - Optional configuration options\n   *\n   * -  `transformer`: A function to transform incoming values with.\n   *\n   * @internal\n   */\n  function MotionValue(init) {\n    var _this = this;\n    /**\n     * Duration, in milliseconds, since last updating frame.\n     *\n     * @internal\n     */\n\n\n    this.timeDelta = 0;\n    /**\n     * Timestamp of the last time this `MotionValue` was updated.\n     *\n     * @internal\n     */\n\n    this.lastUpdated = 0;\n    /**\n     * Functions to notify when the `MotionValue` updates.\n     *\n     * @internal\n     */\n\n    this.updateSubscribers = new SubscriptionManager();\n    /**\n     * Functions to notify when the velocity updates.\n     *\n     * @internal\n     */\n\n    this.velocityUpdateSubscribers = new SubscriptionManager();\n    /**\n     * Functions to notify when the `MotionValue` updates and `render` is set to `true`.\n     *\n     * @internal\n     */\n\n    this.renderSubscribers = new SubscriptionManager();\n    /**\n     * Tracks whether this value can output a velocity. Currently this is only true\n     * if the value is numerical, but we might be able to widen the scope here and support\n     * other value types.\n     *\n     * @internal\n     */\n\n    this.canTrackVelocity = false;\n\n    this.updateAndNotify = function (v, render) {\n      if (render === void 0) {\n        render = true;\n      }\n\n      _this.prev = _this.current;\n      _this.current = v; // Update timestamp\n\n      var _a = getFrameData(),\n          delta = _a.delta,\n          timestamp = _a.timestamp;\n\n      if (_this.lastUpdated !== timestamp) {\n        _this.timeDelta = delta;\n        _this.lastUpdated = timestamp;\n        sync.postRender(_this.scheduleVelocityCheck);\n      } // Update update subscribers\n\n\n      if (_this.prev !== _this.current) {\n        _this.updateSubscribers.notify(_this.current);\n      } // Update velocity subscribers\n\n\n      if (_this.velocityUpdateSubscribers.getSize()) {\n        _this.velocityUpdateSubscribers.notify(_this.getVelocity());\n      } // Update render subscribers\n\n\n      if (render) {\n        _this.renderSubscribers.notify(_this.current);\n      }\n    };\n    /**\n     * Schedule a velocity check for the next frame.\n     *\n     * This is an instanced and bound function to prevent generating a new\n     * function once per frame.\n     *\n     * @internal\n     */\n\n\n    this.scheduleVelocityCheck = function () {\n      return sync.postRender(_this.velocityCheck);\n    };\n    /**\n     * Updates `prev` with `current` if the value hasn't been updated this frame.\n     * This ensures velocity calculations return `0`.\n     *\n     * This is an instanced and bound function to prevent generating a new\n     * function once per frame.\n     *\n     * @internal\n     */\n\n\n    this.velocityCheck = function (_a) {\n      var timestamp = _a.timestamp;\n\n      if (timestamp !== _this.lastUpdated) {\n        _this.prev = _this.current;\n\n        _this.velocityUpdateSubscribers.notify(_this.getVelocity());\n      }\n    };\n\n    this.hasAnimated = false;\n    this.prev = this.current = init;\n    this.canTrackVelocity = isFloat(this.current);\n  }\n  /**\n   * Adds a function that will be notified when the `MotionValue` is updated.\n   *\n   * It returns a function that, when called, will cancel the subscription.\n   *\n   * When calling `onChange` inside a React component, it should be wrapped with the\n   * `useEffect` hook. As it returns an unsubscribe function, this should be returned\n   * from the `useEffect` function to ensure you don't add duplicate subscribers..\n   *\n   * @library\n   *\n   * ```jsx\n   * function MyComponent() {\n   *   const x = useMotionValue(0)\n   *   const y = useMotionValue(0)\n   *   const opacity = useMotionValue(1)\n   *\n   *   useEffect(() => {\n   *     function updateOpacity() {\n   *       const maxXY = Math.max(x.get(), y.get())\n   *       const newOpacity = transform(maxXY, [0, 100], [1, 0])\n   *       opacity.set(newOpacity)\n   *     }\n   *\n   *     const unsubscribeX = x.onChange(updateOpacity)\n   *     const unsubscribeY = y.onChange(updateOpacity)\n   *\n   *     return () => {\n   *       unsubscribeX()\n   *       unsubscribeY()\n   *     }\n   *   }, [])\n   *\n   *   return <Frame x={x} />\n   * }\n   * ```\n   *\n   * @motion\n   *\n   * ```jsx\n   * export const MyComponent = () => {\n   *   const x = useMotionValue(0)\n   *   const y = useMotionValue(0)\n   *   const opacity = useMotionValue(1)\n   *\n   *   useEffect(() => {\n   *     function updateOpacity() {\n   *       const maxXY = Math.max(x.get(), y.get())\n   *       const newOpacity = transform(maxXY, [0, 100], [1, 0])\n   *       opacity.set(newOpacity)\n   *     }\n   *\n   *     const unsubscribeX = x.onChange(updateOpacity)\n   *     const unsubscribeY = y.onChange(updateOpacity)\n   *\n   *     return () => {\n   *       unsubscribeX()\n   *       unsubscribeY()\n   *     }\n   *   }, [])\n   *\n   *   return <motion.div style={{ x }} />\n   * }\n   * ```\n   *\n   * @internalremarks\n   *\n   * We could look into a `useOnChange` hook if the above lifecycle management proves confusing.\n   *\n   * ```jsx\n   * useOnChange(x, () => {})\n   * ```\n   *\n   * @param subscriber - A function that receives the latest value.\n   * @returns A function that, when called, will cancel this subscription.\n   *\n   * @public\n   */\n\n\n  MotionValue.prototype.onChange = function (subscription) {\n    return this.updateSubscribers.add(subscription);\n  };\n\n  MotionValue.prototype.clearListeners = function () {\n    this.updateSubscribers.clear();\n  };\n  /**\n   * Adds a function that will be notified when the `MotionValue` requests a render.\n   *\n   * @param subscriber - A function that's provided the latest value.\n   * @returns A function that, when called, will cancel this subscription.\n   *\n   * @internal\n   */\n\n\n  MotionValue.prototype.onRenderRequest = function (subscription) {\n    // Render immediately\n    subscription(this.get());\n    return this.renderSubscribers.add(subscription);\n  };\n  /**\n   * Attaches a passive effect to the `MotionValue`.\n   *\n   * @internal\n   */\n\n\n  MotionValue.prototype.attach = function (passiveEffect) {\n    this.passiveEffect = passiveEffect;\n  };\n  /**\n   * Sets the state of the `MotionValue`.\n   *\n   * @remarks\n   *\n   * ```jsx\n   * const x = useMotionValue(0)\n   * x.set(10)\n   * ```\n   *\n   * @param latest - Latest value to set.\n   * @param render - Whether to notify render subscribers. Defaults to `true`\n   *\n   * @public\n   */\n\n\n  MotionValue.prototype.set = function (v, render) {\n    if (render === void 0) {\n      render = true;\n    }\n\n    if (!render || !this.passiveEffect) {\n      this.updateAndNotify(v, render);\n    } else {\n      this.passiveEffect(v, this.updateAndNotify);\n    }\n  };\n  /**\n   * Returns the latest state of `MotionValue`\n   *\n   * @returns - The latest state of `MotionValue`\n   *\n   * @public\n   */\n\n\n  MotionValue.prototype.get = function () {\n    return this.current;\n  };\n  /**\n   * @public\n   */\n\n\n  MotionValue.prototype.getPrevious = function () {\n    return this.prev;\n  };\n  /**\n   * Returns the latest velocity of `MotionValue`\n   *\n   * @returns - The latest velocity of `MotionValue`. Returns `0` if the state is non-numerical.\n   *\n   * @public\n   */\n\n\n  MotionValue.prototype.getVelocity = function () {\n    // This could be isFloat(this.prev) && isFloat(this.current), but that would be wasteful\n    return this.canTrackVelocity ? // These casts could be avoided if parseFloat would be typed better\n    velocityPerSecond(parseFloat(this.current) - parseFloat(this.prev), this.timeDelta) : 0;\n  };\n  /**\n   * Registers a new animation to control this `MotionValue`. Only one\n   * animation can drive a `MotionValue` at one time.\n   *\n   * ```jsx\n   * value.start()\n   * ```\n   *\n   * @param animation - A function that starts the provided animation\n   *\n   * @internal\n   */\n\n\n  MotionValue.prototype.start = function (animation) {\n    var _this = this;\n\n    this.stop();\n    return new Promise(function (resolve) {\n      _this.hasAnimated = true;\n      _this.stopAnimation = animation(resolve);\n    }).then(function () {\n      return _this.clearAnimation();\n    });\n  };\n  /**\n   * Stop the currently active animation.\n   *\n   * @public\n   */\n\n\n  MotionValue.prototype.stop = function () {\n    if (this.stopAnimation) this.stopAnimation();\n    this.clearAnimation();\n  };\n  /**\n   * Returns `true` if this value is currently animating.\n   *\n   * @public\n   */\n\n\n  MotionValue.prototype.isAnimating = function () {\n    return !!this.stopAnimation;\n  };\n\n  MotionValue.prototype.clearAnimation = function () {\n    this.stopAnimation = null;\n  };\n  /**\n   * Destroy and clean up subscribers to this `MotionValue`.\n   *\n   * The `MotionValue` hooks like `useMotionValue` and `useTransform` automatically\n   * handle the lifecycle of the returned `MotionValue`, so this method is only necessary if you've manually\n   * created a `MotionValue` via the `motionValue` function.\n   *\n   * @public\n   */\n\n\n  MotionValue.prototype.destroy = function () {\n    this.updateSubscribers.clear();\n    this.renderSubscribers.clear();\n    this.stop();\n  };\n\n  return MotionValue;\n}();\n/**\n * @internal\n */\n\n\nfunction motionValue(init) {\n  return new MotionValue(init);\n}\n\nexport { MotionValue, motionValue };","/**\n * Tests a provided value against a ValueType\n */\nvar testValueType = function testValueType(v) {\n  return function (type) {\n    return type.test(v);\n  };\n};\n\nexport { testValueType };","import { number, px, percent, degrees, vw, vh } from 'style-value-types';\nimport { testValueType } from './test.js';\nimport { auto } from './type-auto.js';\n/**\n * A list of value types commonly used for dimensions\n */\n\nvar dimensionValueTypes = [number, px, percent, degrees, vw, vh, auto];\n/**\n * Tests a dimensional value against the list of dimension ValueTypes\n */\n\nvar findDimensionValueType = function findDimensionValueType(v) {\n  return dimensionValueTypes.find(testValueType(v));\n};\n\nexport { dimensionValueTypes, findDimensionValueType };","/**\n * ValueType for \"auto\"\n */\nvar auto = {\n  test: function test(v) {\n    return v === \"auto\";\n  },\n  parse: function parse(v) {\n    return v;\n  }\n};\nexport { auto };","import { __spreadArray, __read } from 'tslib';\nimport { color, complex } from 'style-value-types';\nimport { dimensionValueTypes } from './dimensions.js';\nimport { testValueType } from './test.js';\n/**\n * A list of all ValueTypes\n */\n\nvar valueTypes = __spreadArray(__spreadArray([], __read(dimensionValueTypes)), [color, complex]);\n/**\n * Tests a value against the list of ValueTypes\n */\n\n\nvar findValueType = function findValueType(v) {\n  return valueTypes.find(testValueType(v));\n};\n\nexport { findValueType };","import { __rest, __assign, __spreadArray, __read } from 'tslib';\nimport { complex } from 'style-value-types';\nimport { isNumericalString } from '../../utils/is-numerical-string.js';\nimport { resolveFinalValueInKeyframes } from '../../utils/resolve-value.js';\nimport { motionValue } from '../../value/index.js';\nimport { getAnimatableNone } from '../dom/value-types/animatable-none.js';\nimport { findValueType } from '../dom/value-types/find.js';\nimport { resolveVariant } from './variants.js';\n/**\n * Set VisualElement's MotionValue, creating a new MotionValue for it if\n * it doesn't exist.\n */\n\nfunction setMotionValue(visualElement, key, value) {\n  if (visualElement.hasValue(key)) {\n    visualElement.getValue(key).set(value);\n  } else {\n    visualElement.addValue(key, motionValue(value));\n  }\n}\n\nfunction setTarget(visualElement, definition) {\n  var resolved = resolveVariant(visualElement, definition);\n\n  var _a = resolved ? visualElement.makeTargetAnimatable(resolved, false) : {},\n      _b = _a.transitionEnd,\n      transitionEnd = _b === void 0 ? {} : _b;\n\n  _a.transition;\n\n  var target = __rest(_a, [\"transitionEnd\", \"transition\"]);\n\n  target = __assign(__assign({}, target), transitionEnd);\n\n  for (var key in target) {\n    var value = resolveFinalValueInKeyframes(target[key]);\n    setMotionValue(visualElement, key, value);\n  }\n}\n\nfunction setVariants(visualElement, variantLabels) {\n  var reversedLabels = __spreadArray([], __read(variantLabels)).reverse();\n\n  reversedLabels.forEach(function (key) {\n    var _a;\n\n    var variant = visualElement.getVariant(key);\n    variant && setTarget(visualElement, variant);\n    (_a = visualElement.variantChildren) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {\n      setVariants(child, variantLabels);\n    });\n  });\n}\n\nfunction setValues(visualElement, definition) {\n  if (Array.isArray(definition)) {\n    return setVariants(visualElement, definition);\n  } else if (typeof definition === \"string\") {\n    return setVariants(visualElement, [definition]);\n  } else {\n    setTarget(visualElement, definition);\n  }\n}\n\nfunction checkTargetForNewValues(visualElement, target, origin) {\n  var _a, _b, _c;\n\n  var _d;\n\n  var newValueKeys = Object.keys(target).filter(function (key) {\n    return !visualElement.hasValue(key);\n  });\n  var numNewValues = newValueKeys.length;\n  if (!numNewValues) return;\n\n  for (var i = 0; i < numNewValues; i++) {\n    var key = newValueKeys[i];\n    var targetValue = target[key];\n    var value = null;\n    /**\n     * If the target is a series of keyframes, we can use the first value\n     * in the array. If this first value is null, we'll still need to read from the DOM.\n     */\n\n    if (Array.isArray(targetValue)) {\n      value = targetValue[0];\n    }\n    /**\n     * If the target isn't keyframes, or the first keyframe was null, we need to\n     * first check if an origin value was explicitly defined in the transition as \"from\",\n     * if not read the value from the DOM. As an absolute fallback, take the defined target value.\n     */\n\n\n    if (value === null) {\n      value = (_b = (_a = origin[key]) !== null && _a !== void 0 ? _a : visualElement.readValue(key)) !== null && _b !== void 0 ? _b : target[key];\n    }\n    /**\n     * If value is still undefined or null, ignore it. Preferably this would throw,\n     * but this was causing issues in Framer.\n     */\n\n\n    if (value === undefined || value === null) continue;\n\n    if (typeof value === \"string\" && isNumericalString(value)) {\n      // If this is a number read as a string, ie \"0\" or \"200\", convert it to a number\n      value = parseFloat(value);\n    } else if (!findValueType(value) && complex.test(targetValue)) {\n      value = getAnimatableNone(key, targetValue);\n    }\n\n    visualElement.addValue(key, motionValue(value));\n    (_c = (_d = origin)[key]) !== null && _c !== void 0 ? _c : _d[key] = value;\n    visualElement.setBaseTarget(key, value);\n  }\n}\n\nfunction getOriginFromTransition(key, transition) {\n  if (!transition) return;\n  var valueTransition = transition[key] || transition[\"default\"] || transition;\n  return valueTransition.from;\n}\n\nfunction getOrigin(target, transition, visualElement) {\n  var _a, _b;\n\n  var origin = {};\n\n  for (var key in target) {\n    origin[key] = (_a = getOriginFromTransition(key, transition)) !== null && _a !== void 0 ? _a : (_b = visualElement.getValue(key)) === null || _b === void 0 ? void 0 : _b.get();\n  }\n\n  return origin;\n}\n\nexport { checkTargetForNewValues, getOrigin, getOriginFromTransition, setTarget, setValues };","import { __read, __rest, __assign } from 'tslib';\nimport { startAnimation } from '../../animation/utils/transitions.js';\nimport { setTarget } from './setters.js';\nimport { resolveVariant } from './variants.js';\n/**\n * @internal\n */\n\nfunction animateVisualElement(visualElement, definition, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  visualElement.notifyAnimationStart();\n  var animation;\n\n  if (Array.isArray(definition)) {\n    var animations = definition.map(function (variant) {\n      return animateVariant(visualElement, variant, options);\n    });\n    animation = Promise.all(animations);\n  } else if (typeof definition === \"string\") {\n    animation = animateVariant(visualElement, definition, options);\n  } else {\n    var resolvedDefinition = typeof definition === \"function\" ? resolveVariant(visualElement, definition, options.custom) : definition;\n    animation = animateTarget(visualElement, resolvedDefinition, options);\n  }\n\n  return animation.then(function () {\n    return visualElement.notifyAnimationComplete(definition);\n  });\n}\n\nfunction animateVariant(visualElement, variant, options) {\n  var _a;\n\n  if (options === void 0) {\n    options = {};\n  }\n\n  var resolved = resolveVariant(visualElement, variant, options.custom);\n  var _b = (resolved || {}).transition,\n      transition = _b === void 0 ? visualElement.getDefaultTransition() || {} : _b;\n\n  if (options.transitionOverride) {\n    transition = options.transitionOverride;\n  }\n  /**\n   * If we have a variant, create a callback that runs it as an animation.\n   * Otherwise, we resolve a Promise immediately for a composable no-op.\n   */\n\n\n  var getAnimation = resolved ? function () {\n    return animateTarget(visualElement, resolved, options);\n  } : function () {\n    return Promise.resolve();\n  };\n  /**\n   * If we have children, create a callback that runs all their animations.\n   * Otherwise, we resolve a Promise immediately for a composable no-op.\n   */\n\n  var getChildAnimations = ((_a = visualElement.variantChildren) === null || _a === void 0 ? void 0 : _a.size) ? function (forwardDelay) {\n    if (forwardDelay === void 0) {\n      forwardDelay = 0;\n    }\n\n    var _a = transition.delayChildren,\n        delayChildren = _a === void 0 ? 0 : _a,\n        staggerChildren = transition.staggerChildren,\n        staggerDirection = transition.staggerDirection;\n    return animateChildren(visualElement, variant, delayChildren + forwardDelay, staggerChildren, staggerDirection, options);\n  } : function () {\n    return Promise.resolve();\n  };\n  /**\n   * If the transition explicitly defines a \"when\" option, we need to resolve either\n   * this animation or all children animations before playing the other.\n   */\n\n  var when = transition.when;\n\n  if (when) {\n    var _c = __read(when === \"beforeChildren\" ? [getAnimation, getChildAnimations] : [getChildAnimations, getAnimation], 2),\n        first = _c[0],\n        last = _c[1];\n\n    return first().then(last);\n  } else {\n    return Promise.all([getAnimation(), getChildAnimations(options.delay)]);\n  }\n}\n/**\n * @internal\n */\n\n\nfunction animateTarget(visualElement, definition, _a) {\n  var _b;\n\n  var _c = _a === void 0 ? {} : _a,\n      _d = _c.delay,\n      delay = _d === void 0 ? 0 : _d,\n      transitionOverride = _c.transitionOverride,\n      type = _c.type;\n\n  var _e = visualElement.makeTargetAnimatable(definition),\n      _f = _e.transition,\n      transition = _f === void 0 ? visualElement.getDefaultTransition() : _f,\n      transitionEnd = _e.transitionEnd,\n      target = __rest(_e, [\"transition\", \"transitionEnd\"]);\n\n  if (transitionOverride) transition = transitionOverride;\n  var animations = [];\n  var animationTypeState = type && ((_b = visualElement.animationState) === null || _b === void 0 ? void 0 : _b.getState()[type]);\n\n  for (var key in target) {\n    var value = visualElement.getValue(key);\n    var valueTarget = target[key];\n\n    if (!value || valueTarget === undefined || animationTypeState && shouldBlockAnimation(animationTypeState, key)) {\n      continue;\n    }\n\n    var animation = startAnimation(key, value, valueTarget, __assign({\n      delay: delay\n    }, transition));\n    animations.push(animation);\n  }\n\n  return Promise.all(animations).then(function () {\n    transitionEnd && setTarget(visualElement, transitionEnd);\n  });\n}\n\nfunction animateChildren(visualElement, variant, delayChildren, staggerChildren, staggerDirection, options) {\n  if (delayChildren === void 0) {\n    delayChildren = 0;\n  }\n\n  if (staggerChildren === void 0) {\n    staggerChildren = 0;\n  }\n\n  if (staggerDirection === void 0) {\n    staggerDirection = 1;\n  }\n\n  var animations = [];\n  var maxStaggerDuration = (visualElement.variantChildren.size - 1) * staggerChildren;\n  var generateStaggerDuration = staggerDirection === 1 ? function (i) {\n    if (i === void 0) {\n      i = 0;\n    }\n\n    return i * staggerChildren;\n  } : function (i) {\n    if (i === void 0) {\n      i = 0;\n    }\n\n    return maxStaggerDuration - i * staggerChildren;\n  };\n  Array.from(visualElement.variantChildren).sort(sortByTreeOrder).forEach(function (child, i) {\n    animations.push(animateVariant(child, variant, __assign(__assign({}, options), {\n      delay: delayChildren + generateStaggerDuration(i)\n    })).then(function () {\n      return child.notifyAnimationComplete(variant);\n    }));\n  });\n  return Promise.all(animations);\n}\n\nfunction stopAnimation(visualElement) {\n  visualElement.forEachValue(function (value) {\n    return value.stop();\n  });\n}\n\nfunction sortByTreeOrder(a, b) {\n  return a.sortNodePosition(b);\n}\n/**\n * Decide whether we should block this animation. Previously, we achieved this\n * just by checking whether the key was listed in protectedKeys, but this\n * posed problems if an animation was triggered by afterChildren and protectedKeys\n * had been set to true in the meantime.\n */\n\n\nfunction shouldBlockAnimation(_a, key) {\n  var protectedKeys = _a.protectedKeys,\n      needsAnimating = _a.needsAnimating;\n  var shouldBlock = protectedKeys.hasOwnProperty(key) && needsAnimating[key] !== true;\n  needsAnimating[key] = false;\n  return shouldBlock;\n}\n\nexport { animateVisualElement, sortByTreeOrder, stopAnimation };","import { __spreadArray, __read, __assign, __rest } from 'tslib';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.js';\nimport { isKeyframesTarget } from '../../animation/utils/is-keyframes-target.js';\nimport { shallowCompare } from '../../utils/shallow-compare.js';\nimport { animateVisualElement } from './animation.js';\nimport { AnimationType } from './types.js';\nimport { isVariantLabels, resolveVariant, isVariantLabel } from './variants.js';\nvar variantPriorityOrder = [AnimationType.Animate, AnimationType.Hover, AnimationType.Tap, AnimationType.Drag, AnimationType.Focus, AnimationType.Exit];\n\nvar reversePriorityOrder = __spreadArray([], __read(variantPriorityOrder)).reverse();\n\nvar numAnimationTypes = variantPriorityOrder.length;\n\nfunction animateList(visualElement) {\n  return function (animations) {\n    return Promise.all(animations.map(function (_a) {\n      var animation = _a.animation,\n          options = _a.options;\n      return animateVisualElement(visualElement, animation, options);\n    }));\n  };\n}\n\nfunction createAnimationState(visualElement) {\n  var animate = animateList(visualElement);\n  var state = createState();\n  var allAnimatedKeys = {};\n  var isInitialRender = true;\n  /**\n   * This function will be used to reduce the animation definitions for\n   * each active animation type into an object of resolved values for it.\n   */\n\n  var buildResolvedTypeValues = function buildResolvedTypeValues(acc, definition) {\n    var resolved = resolveVariant(visualElement, definition);\n\n    if (resolved) {\n      resolved.transition;\n\n      var transitionEnd = resolved.transitionEnd,\n          target = __rest(resolved, [\"transition\", \"transitionEnd\"]);\n\n      acc = __assign(__assign(__assign({}, acc), target), transitionEnd);\n    }\n\n    return acc;\n  };\n\n  function isAnimated(key) {\n    return allAnimatedKeys[key] !== undefined;\n  }\n  /**\n   * This just allows us to inject mocked animation functions\n   * @internal\n   */\n\n\n  function setAnimateFunction(makeAnimator) {\n    animate = makeAnimator(visualElement);\n  }\n  /**\n   * When we receive new props, we need to:\n   * 1. Create a list of protected keys for each type. This is a directory of\n   *    value keys that are currently being \"handled\" by types of a higher priority\n   *    so that whenever an animation is played of a given type, these values are\n   *    protected from being animated.\n   * 2. Determine if an animation type needs animating.\n   * 3. Determine if any values have been removed from a type and figure out\n   *    what to animate those to.\n   */\n\n\n  function animateChanges(options, changedActiveType) {\n    var _a;\n\n    var props = visualElement.getProps();\n    var context = visualElement.getVariantContext(true) || {};\n    /**\n     * A list of animations that we'll build into as we iterate through the animation\n     * types. This will get executed at the end of the function.\n     */\n\n    var animations = [];\n    /**\n     * Keep track of which values have been removed. Then, as we hit lower priority\n     * animation types, we can check if they contain removed values and animate to that.\n     */\n\n    var removedKeys = new Set();\n    /**\n     * A dictionary of all encountered keys. This is an object to let us build into and\n     * copy it without iteration. Each time we hit an animation type we set its protected\n     * keys - the keys its not allowed to animate - to the latest version of this object.\n     */\n\n    var encounteredKeys = {};\n    /**\n     * If a variant has been removed at a given index, and this component is controlling\n     * variant animations, we want to ensure lower-priority variants are forced to animate.\n     */\n\n    var removedVariantIndex = Infinity;\n\n    var _loop_1 = function _loop_1(i) {\n      var type = reversePriorityOrder[i];\n      var typeState = state[type];\n      var prop = (_a = props[type]) !== null && _a !== void 0 ? _a : context[type];\n      var propIsVariant = isVariantLabel(prop);\n      /**\n       * If this type has *just* changed isActive status, set activeDelta\n       * to that status. Otherwise set to null.\n       */\n\n      var activeDelta = type === changedActiveType ? typeState.isActive : null;\n      if (activeDelta === false) removedVariantIndex = i;\n      /**\n       * If this prop is an inherited variant, rather than been set directly on the\n       * component itself, we want to make sure we allow the parent to trigger animations.\n       *\n       * TODO: Can probably change this to a !isControllingVariants check\n       */\n\n      var isInherited = prop === context[type] && prop !== props[type] && propIsVariant;\n      /**\n       *\n       */\n\n      if (isInherited && isInitialRender && visualElement.manuallyAnimateOnMount) {\n        isInherited = false;\n      }\n      /**\n       * Set all encountered keys so far as the protected keys for this type. This will\n       * be any key that has been animated or otherwise handled by active, higher-priortiy types.\n       */\n\n\n      typeState.protectedKeys = __assign({}, encounteredKeys); // Check if we can skip analysing this prop early\n\n      if ( // If it isn't active and hasn't *just* been set as inactive\n      !typeState.isActive && activeDelta === null || !prop && !typeState.prevProp || // Or if the prop doesn't define an animation\n      isAnimationControls(prop) || typeof prop === \"boolean\") {\n        return \"continue\";\n      }\n      /**\n       * As we go look through the values defined on this type, if we detect\n       * a changed value or a value that was removed in a higher priority, we set\n       * this to true and add this prop to the animation list.\n       */\n\n\n      var shouldAnimateType = variantsHaveChanged(typeState.prevProp, prop) || type === changedActiveType && typeState.isActive && !isInherited && propIsVariant || i > removedVariantIndex && propIsVariant;\n      /**\n       * As animations can be set as variant lists, variants or target objects, we\n       * coerce everything to an array if it isn't one already\n       */\n\n      var definitionList = Array.isArray(prop) ? prop : [prop];\n      /**\n       * Build an object of all the resolved values. We'll use this in the subsequent\n       * animateChanges calls to determine whether a value has changed.\n       */\n\n      var resolvedValues = definitionList.reduce(buildResolvedTypeValues, {});\n      if (activeDelta === false) resolvedValues = {};\n      /**\n       * Now we need to loop through all the keys in the prev prop and this prop,\n       * and decide:\n       * 1. If the value has changed, and needs animating\n       * 2. If it has been removed, and needs adding to the removedKeys set\n       * 3. If it has been removed in a higher priority type and needs animating\n       * 4. If it hasn't been removed in a higher priority but hasn't changed, and\n       *    needs adding to the type's protectedKeys list.\n       */\n\n      var _b = typeState.prevResolvedValues,\n          prevResolvedValues = _b === void 0 ? {} : _b;\n\n      var allKeys = __assign(__assign({}, prevResolvedValues), resolvedValues);\n\n      var markToAnimate = function markToAnimate(key) {\n        shouldAnimateType = true;\n        removedKeys.delete(key);\n        typeState.needsAnimating[key] = true;\n      };\n\n      for (var key in allKeys) {\n        var next = resolvedValues[key];\n        var prev = prevResolvedValues[key]; // If we've already handled this we can just skip ahead\n\n        if (encounteredKeys.hasOwnProperty(key)) continue;\n        /**\n         * If the value has changed, we probably want to animate it.\n         */\n\n        if (next !== prev) {\n          /**\n           * If both values are keyframes, we need to shallow compare them to\n           * detect whether any value has changed. If it has, we animate it.\n           */\n          if (isKeyframesTarget(next) && isKeyframesTarget(prev)) {\n            if (!shallowCompare(next, prev)) {\n              markToAnimate(key);\n            } else {\n              /**\n               * If it hasn't changed, we want to ensure it doesn't animate by\n               * adding it to the list of protected keys.\n               */\n              typeState.protectedKeys[key] = true;\n            }\n          } else if (next !== undefined) {\n            // If next is defined and doesn't equal prev, it needs animating\n            markToAnimate(key);\n          } else {\n            // If it's undefined, it's been removed.\n            removedKeys.add(key);\n          }\n        } else if (next !== undefined && removedKeys.has(key)) {\n          /**\n           * If next hasn't changed and it isn't undefined, we want to check if it's\n           * been removed by a higher priority\n           */\n          markToAnimate(key);\n        } else {\n          /**\n           * If it hasn't changed, we add it to the list of protected values\n           * to ensure it doesn't get animated.\n           */\n          typeState.protectedKeys[key] = true;\n        }\n      }\n      /**\n       * Update the typeState so next time animateChanges is called we can compare the\n       * latest prop and resolvedValues to these.\n       */\n\n\n      typeState.prevProp = prop;\n      typeState.prevResolvedValues = resolvedValues;\n      /**\n       *\n       */\n\n      if (typeState.isActive) {\n        encounteredKeys = __assign(__assign({}, encounteredKeys), resolvedValues);\n      }\n\n      if (isInitialRender && visualElement.blockInitialAnimation) {\n        shouldAnimateType = false;\n      }\n      /**\n       * If this is an inherited prop we want to hard-block animations\n       * TODO: Test as this should probably still handle animations triggered\n       * by removed values?\n       */\n\n\n      if (shouldAnimateType && !isInherited) {\n        animations.push.apply(animations, __spreadArray([], __read(definitionList.map(function (animation) {\n          return {\n            animation: animation,\n            options: __assign({\n              type: type\n            }, options)\n          };\n        }))));\n      }\n    };\n    /**\n     * Iterate through all animation types in reverse priority order. For each, we want to\n     * detect which values it's handling and whether or not they've changed (and therefore\n     * need to be animated). If any values have been removed, we want to detect those in\n     * lower priority props and flag for animation.\n     */\n\n\n    for (var i = 0; i < numAnimationTypes; i++) {\n      _loop_1(i);\n    }\n\n    allAnimatedKeys = __assign({}, encounteredKeys);\n    /**\n     * If there are some removed value that haven't been dealt with,\n     * we need to create a new animation that falls back either to the value\n     * defined in the style prop, or the last read value.\n     */\n\n    if (removedKeys.size) {\n      var fallbackAnimation_1 = {};\n      removedKeys.forEach(function (key) {\n        var fallbackTarget = visualElement.getBaseTarget(key);\n\n        if (fallbackTarget !== undefined) {\n          fallbackAnimation_1[key] = fallbackTarget;\n        }\n      });\n      animations.push({\n        animation: fallbackAnimation_1\n      });\n    }\n\n    var shouldAnimate = Boolean(animations.length);\n\n    if (isInitialRender && props.initial === false && !visualElement.manuallyAnimateOnMount) {\n      shouldAnimate = false;\n    }\n\n    isInitialRender = false;\n    return shouldAnimate ? animate(animations) : Promise.resolve();\n  }\n  /**\n   * Change whether a certain animation type is active.\n   */\n\n\n  function setActive(type, isActive, options) {\n    var _a; // If the active state hasn't changed, we can safely do nothing here\n\n\n    if (state[type].isActive === isActive) return Promise.resolve(); // Propagate active change to children\n\n    (_a = visualElement.variantChildren) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {\n      var _a;\n\n      return (_a = child.animationState) === null || _a === void 0 ? void 0 : _a.setActive(type, isActive);\n    });\n    state[type].isActive = isActive;\n    return animateChanges(options, type);\n  }\n\n  return {\n    isAnimated: isAnimated,\n    animateChanges: animateChanges,\n    setActive: setActive,\n    setAnimateFunction: setAnimateFunction,\n    getState: function getState() {\n      return state;\n    }\n  };\n}\n\nfunction variantsHaveChanged(prev, next) {\n  if (typeof next === \"string\") {\n    return next !== prev;\n  } else if (isVariantLabels(next)) {\n    return !shallowCompare(next, prev);\n  }\n\n  return false;\n}\n\nfunction createTypeState(isActive) {\n  if (isActive === void 0) {\n    isActive = false;\n  }\n\n  return {\n    isActive: isActive,\n    protectedKeys: {},\n    needsAnimating: {},\n    prevResolvedValues: {}\n  };\n}\n\nfunction createState() {\n  var _a;\n\n  return _a = {}, _a[AnimationType.Animate] = createTypeState(true), _a[AnimationType.Hover] = createTypeState(), _a[AnimationType.Tap] = createTypeState(), _a[AnimationType.Drag] = createTypeState(), _a[AnimationType.Focus] = createTypeState(), _a[AnimationType.Exit] = createTypeState(), _a;\n}\n\nexport { createAnimationState, variantPriorityOrder, variantsHaveChanged };","import { __read } from 'tslib';\nimport { useEffect, useContext } from 'react';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.js';\nimport { usePresence } from '../../components/AnimatePresence/use-presence.js';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { createAnimationState } from '../../render/utils/animation-state.js';\nimport { AnimationType } from '../../render/utils/types.js';\nimport { makeRenderlessComponent } from '../utils/make-renderless-component.js';\nvar animations = {\n  animation: makeRenderlessComponent(function (_a) {\n    var visualElement = _a.visualElement,\n        animate = _a.animate;\n    /**\n     * We dynamically generate the AnimationState manager as it contains a reference\n     * to the underlying animation library. We only want to load that if we load this,\n     * so people can optionally code split it out using the `m` component.\n     */\n\n    visualElement.animationState || (visualElement.animationState = createAnimationState(visualElement));\n    /**\n     * Subscribe any provided AnimationControls to the component's VisualElement\n     */\n\n    if (isAnimationControls(animate)) {\n      useEffect(function () {\n        return animate.subscribe(visualElement);\n      }, [animate]);\n    }\n  }),\n  exit: makeRenderlessComponent(function (props) {\n    var custom = props.custom,\n        visualElement = props.visualElement;\n\n    var _a = __read(usePresence(), 2),\n        isPresent = _a[0],\n        onExitComplete = _a[1];\n\n    var presenceContext = useContext(PresenceContext);\n    useEffect(function () {\n      var _a, _b;\n\n      var animation = (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Exit, !isPresent, {\n        custom: (_b = presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.custom) !== null && _b !== void 0 ? _b : custom\n      });\n      !isPresent && (animation === null || animation === void 0 ? void 0 : animation.then(onExitComplete));\n    }, [isPresent]);\n  })\n};\nexport { animations };","var isPoint = function isPoint(point) {\n  return point.hasOwnProperty('x') && point.hasOwnProperty('y');\n};\n\nexport { isPoint };","import { isPoint } from './is-point.js';\n\nvar isPoint3D = function isPoint3D(point) {\n  return isPoint(point) && point.hasOwnProperty('z');\n};\n\nexport { isPoint3D };","import { isPoint } from './is-point.js';\nimport { isPoint3D } from './is-point-3d.js';\nimport { isNum } from './inc.js';\n\nvar distance1D = function distance1D(a, b) {\n  return Math.abs(a - b);\n};\n\nfunction distance(a, b) {\n  if (isNum(a) && isNum(b)) {\n    return distance1D(a, b);\n  } else if (isPoint(a) && isPoint(b)) {\n    var xDelta = distance1D(a.x, b.x);\n    var yDelta = distance1D(a.y, b.y);\n    var zDelta = isPoint3D(a) && isPoint3D(b) ? distance1D(a.z, b.z) : 0;\n    return Math.sqrt(Math.pow(xDelta, 2) + Math.pow(yDelta, 2) + Math.pow(zDelta, 2));\n  }\n}\n\nexport { distance };","import { __assign } from 'tslib';\nimport { isMouseEvent, isTouchEvent } from './utils/event-type.js';\nimport { extractEventInfo } from '../events/event-info.js';\nimport sync, { getFrameData, cancelSync } from 'framesync';\nimport { secondsToMilliseconds } from '../utils/time-conversion.js';\nimport { addPointerEvent } from '../events/use-pointer-event.js';\nimport { distance, pipe } from 'popmotion';\n/**\n * @internal\n */\n\nvar PanSession = function () {\n  function PanSession(event, handlers, _a) {\n    var _this = this;\n\n    var _b = _a === void 0 ? {} : _a,\n        transformPagePoint = _b.transformPagePoint;\n    /**\n     * @internal\n     */\n\n\n    this.startEvent = null;\n    /**\n     * @internal\n     */\n\n    this.lastMoveEvent = null;\n    /**\n     * @internal\n     */\n\n    this.lastMoveEventInfo = null;\n    /**\n     * @internal\n     */\n\n    this.handlers = {};\n\n    this.updatePoint = function () {\n      if (!(_this.lastMoveEvent && _this.lastMoveEventInfo)) return;\n      var info = getPanInfo(_this.lastMoveEventInfo, _this.history);\n      var isPanStarted = _this.startEvent !== null; // Only start panning if the offset is larger than 3 pixels. If we make it\n      // any larger than this we'll want to reset the pointer history\n      // on the first update to avoid visual snapping to the cursoe.\n\n      var isDistancePastThreshold = distance(info.offset, {\n        x: 0,\n        y: 0\n      }) >= 3;\n      if (!isPanStarted && !isDistancePastThreshold) return;\n      var point = info.point;\n      var timestamp = getFrameData().timestamp;\n\n      _this.history.push(__assign(__assign({}, point), {\n        timestamp: timestamp\n      }));\n\n      var _a = _this.handlers,\n          onStart = _a.onStart,\n          onMove = _a.onMove;\n\n      if (!isPanStarted) {\n        onStart && onStart(_this.lastMoveEvent, info);\n        _this.startEvent = _this.lastMoveEvent;\n      }\n\n      onMove && onMove(_this.lastMoveEvent, info);\n    };\n\n    this.handlePointerMove = function (event, info) {\n      _this.lastMoveEvent = event;\n      _this.lastMoveEventInfo = transformPoint(info, _this.transformPagePoint); // Because Safari doesn't trigger mouseup events when it's above a `<select>`\n\n      if (isMouseEvent(event) && event.buttons === 0) {\n        _this.handlePointerUp(event, info);\n\n        return;\n      } // Throttle mouse move event to once per frame\n\n\n      sync.update(_this.updatePoint, true);\n    };\n\n    this.handlePointerUp = function (event, info) {\n      _this.end();\n\n      var _a = _this.handlers,\n          onEnd = _a.onEnd,\n          onSessionEnd = _a.onSessionEnd;\n      var panInfo = getPanInfo(transformPoint(info, _this.transformPagePoint), _this.history);\n\n      if (_this.startEvent && onEnd) {\n        onEnd(event, panInfo);\n      }\n\n      onSessionEnd && onSessionEnd(event, panInfo);\n    }; // If we have more than one touch, don't start detecting this gesture\n\n\n    if (isTouchEvent(event) && event.touches.length > 1) return;\n    this.handlers = handlers;\n    this.transformPagePoint = transformPagePoint;\n    var info = extractEventInfo(event);\n    var initialInfo = transformPoint(info, this.transformPagePoint);\n    var point = initialInfo.point;\n    var timestamp = getFrameData().timestamp;\n    this.history = [__assign(__assign({}, point), {\n      timestamp: timestamp\n    })];\n    var onSessionStart = handlers.onSessionStart;\n    onSessionStart && onSessionStart(event, getPanInfo(initialInfo, this.history));\n    this.removeListeners = pipe(addPointerEvent(window, \"pointermove\", this.handlePointerMove), addPointerEvent(window, \"pointerup\", this.handlePointerUp), addPointerEvent(window, \"pointercancel\", this.handlePointerUp));\n  }\n\n  PanSession.prototype.updateHandlers = function (handlers) {\n    this.handlers = handlers;\n  };\n\n  PanSession.prototype.end = function () {\n    this.removeListeners && this.removeListeners();\n    cancelSync.update(this.updatePoint);\n  };\n\n  return PanSession;\n}();\n\nfunction transformPoint(info, transformPagePoint) {\n  return transformPagePoint ? {\n    point: transformPagePoint(info.point)\n  } : info;\n}\n\nfunction subtractPoint(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}\n\nfunction getPanInfo(_a, history) {\n  var point = _a.point;\n  return {\n    point: point,\n    delta: subtractPoint(point, lastDevicePoint(history)),\n    offset: subtractPoint(point, startDevicePoint(history)),\n    velocity: getVelocity(history, 0.1)\n  };\n}\n\nfunction startDevicePoint(history) {\n  return history[0];\n}\n\nfunction lastDevicePoint(history) {\n  return history[history.length - 1];\n}\n\nfunction getVelocity(history, timeDelta) {\n  if (history.length < 2) {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n\n  var i = history.length - 1;\n  var timestampedPoint = null;\n  var lastPoint = lastDevicePoint(history);\n\n  while (i >= 0) {\n    timestampedPoint = history[i];\n\n    if (lastPoint.timestamp - timestampedPoint.timestamp > secondsToMilliseconds(timeDelta)) {\n      break;\n    }\n\n    i--;\n  }\n\n  if (!timestampedPoint) {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n\n  var time = (lastPoint.timestamp - timestampedPoint.timestamp) / 1000;\n\n  if (time === 0) {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n\n  var currentVelocity = {\n    x: (lastPoint.x - timestampedPoint.x) / time,\n    y: (lastPoint.y - timestampedPoint.y) / time\n  };\n\n  if (currentVelocity.x === Infinity) {\n    currentVelocity.x = 0;\n  }\n\n  if (currentVelocity.y === Infinity) {\n    currentVelocity.y = 0;\n  }\n\n  return currentVelocity;\n}\n\nexport { PanSession };","// Call a handler once for each axis\nfunction eachAxis(handler) {\n  return [handler(\"x\"), handler(\"y\")];\n}\n\nexport { eachAxis };","import { __read } from 'tslib';\nimport { mix } from 'popmotion';\n/**\n * Apply constraints to a point. These constraints are both physical along an\n * axis, and an elastic factor that determines how much to constrain the point\n * by if it does lie outside the defined parameters.\n */\n\nfunction applyConstraints(point, _a, elastic) {\n  var min = _a.min,\n      max = _a.max;\n\n  if (min !== undefined && point < min) {\n    // If we have a min point defined, and this is outside of that, constrain\n    point = elastic ? mix(min, point, elastic.min) : Math.max(point, min);\n  } else if (max !== undefined && point > max) {\n    // If we have a max point defined, and this is outside of that, constrain\n    point = elastic ? mix(max, point, elastic.max) : Math.min(point, max);\n  }\n\n  return point;\n}\n/**\n * Calculates a min projection point based on a pointer, pointer progress\n * within the drag target, and constraints.\n *\n * For instance if an element was 100px width, we were dragging from 0.25\n * along this axis, the pointer is at 200px, and there were no constraints,\n * we would calculate a min projection point of 175px.\n */\n\n\nfunction calcConstrainedMinPoint(point, length, progress, constraints, elastic) {\n  // Calculate a min point for this axis and apply it to the current pointer\n  var min = point - length * progress;\n  return constraints ? applyConstraints(min, constraints, elastic) : min;\n}\n/**\n * Calculate constraints in terms of the viewport when defined relatively to the\n * measured axis. This is measured from the nearest edge, so a max constraint of 200\n * on an axis with a max value of 300 would return a constraint of 500 - axis length\n */\n\n\nfunction calcRelativeAxisConstraints(axis, min, max) {\n  return {\n    min: min !== undefined ? axis.min + min : undefined,\n    max: max !== undefined ? axis.max + max - (axis.max - axis.min) : undefined\n  };\n}\n/**\n * Calculate constraints in terms of the viewport when\n * defined relatively to the measured bounding box.\n */\n\n\nfunction calcRelativeConstraints(layoutBox, _a) {\n  var top = _a.top,\n      left = _a.left,\n      bottom = _a.bottom,\n      right = _a.right;\n  return {\n    x: calcRelativeAxisConstraints(layoutBox.x, left, right),\n    y: calcRelativeAxisConstraints(layoutBox.y, top, bottom)\n  };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative axis\n */\n\n\nfunction calcViewportAxisConstraints(layoutAxis, constraintsAxis) {\n  var _a;\n\n  var min = constraintsAxis.min - layoutAxis.min;\n  var max = constraintsAxis.max - layoutAxis.max; // If the constraints axis is actually smaller than the layout axis then we can\n  // flip the constraints\n\n  if (constraintsAxis.max - constraintsAxis.min < layoutAxis.max - layoutAxis.min) {\n    _a = __read([max, min], 2), min = _a[0], max = _a[1];\n  }\n\n  return {\n    min: layoutAxis.min + min,\n    max: layoutAxis.min + max\n  };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative box\n */\n\n\nfunction calcViewportConstraints(layoutBox, constraintsBox) {\n  return {\n    x: calcViewportAxisConstraints(layoutBox.x, constraintsBox.x),\n    y: calcViewportAxisConstraints(layoutBox.y, constraintsBox.y)\n  };\n}\n/**\n * Calculate the an axis position based on two axes and a progress value.\n */\n\n\nfunction calcPositionFromProgress(axis, constraints, progress) {\n  var axisLength = axis.max - axis.min;\n  var min = mix(constraints.min, constraints.max - axisLength, progress);\n  return {\n    min: min,\n    max: min + axisLength\n  };\n}\n/**\n * Rebase the calculated viewport constraints relative to the layout.min point.\n */\n\n\nfunction rebaseAxisConstraints(layout, constraints) {\n  var relativeConstraints = {};\n\n  if (constraints.min !== undefined) {\n    relativeConstraints.min = constraints.min - layout.min;\n  }\n\n  if (constraints.max !== undefined) {\n    relativeConstraints.max = constraints.max - layout.min;\n  }\n\n  return relativeConstraints;\n}\n\nvar defaultElastic = 0.35;\n/**\n * Accepts a dragElastic prop and returns resolved elastic values for each axis.\n */\n\nfunction resolveDragElastic(dragElastic) {\n  if (dragElastic === false) {\n    dragElastic = 0;\n  } else if (dragElastic === true) {\n    dragElastic = defaultElastic;\n  }\n\n  return {\n    x: resolveAxisElastic(dragElastic, \"left\", \"right\"),\n    y: resolveAxisElastic(dragElastic, \"top\", \"bottom\")\n  };\n}\n\nfunction resolveAxisElastic(dragElastic, minLabel, maxLabel) {\n  return {\n    min: resolvePointElastic(dragElastic, minLabel),\n    max: resolvePointElastic(dragElastic, maxLabel)\n  };\n}\n\nfunction resolvePointElastic(dragElastic, label) {\n  var _a;\n\n  return typeof dragElastic === \"number\" ? dragElastic : (_a = dragElastic[label]) !== null && _a !== void 0 ? _a : 0;\n}\n\nexport { applyConstraints, calcConstrainedMinPoint, calcPositionFromProgress, calcRelativeAxisConstraints, calcRelativeConstraints, calcViewportAxisConstraints, calcViewportConstraints, defaultElastic, rebaseAxisConstraints, resolveAxisElastic, resolveDragElastic, resolvePointElastic };","import { convertBoundingBoxToAxisBox, transformBoundingBox } from '../../../utils/geometry/index.js';\n/**\n * Measure and return the element bounding box.\n *\n * We convert the box into an AxisBox2D to make it easier to work with each axis\n * individually and programmatically.\n *\n * This function optionally accepts a transformPagePoint function which allows us to compensate\n * for, for instance, measuring the element within a scaled plane like a Framer devivce preview component.\n */\n\nfunction getBoundingBox(element, transformPagePoint) {\n  var box = element.getBoundingClientRect();\n  return convertBoundingBoxToAxisBox(transformBoundingBox(box, transformPagePoint));\n}\n\nexport { getBoundingBox };","import { mix, distance, clamp, progress } from 'popmotion';\n\nvar clampProgress = function clampProgress(v) {\n  return clamp(0, 1, v);\n};\n/**\n * Returns true if the provided value is within maxDistance of the provided target\n */\n\n\nfunction isNear(value, target, maxDistance) {\n  if (target === void 0) {\n    target = 0;\n  }\n\n  if (maxDistance === void 0) {\n    maxDistance = 0.01;\n  }\n\n  return distance(value, target) < maxDistance;\n}\n\nfunction calcLength(axis) {\n  return axis.max - axis.min;\n}\n/**\n * Calculate a transform origin relative to the source axis, between 0-1, that results\n * in an asthetically pleasing scale/transform needed to project from source to target.\n */\n\n\nfunction calcOrigin(source, target) {\n  var origin = 0.5;\n  var sourceLength = calcLength(source);\n  var targetLength = calcLength(target);\n\n  if (targetLength > sourceLength) {\n    origin = progress(target.min, target.max - sourceLength, source.min);\n  } else if (sourceLength > targetLength) {\n    origin = progress(source.min, source.max - targetLength, target.min);\n  }\n\n  return clampProgress(origin);\n}\n/**\n * Update the AxisDelta with a transform that projects source into target.\n *\n * The transform `origin` is optional. If not provided, it'll be automatically\n * calculated based on the relative positions of the two bounding boxes.\n */\n\n\nfunction updateAxisDelta(delta, source, target, origin) {\n  if (origin === void 0) {\n    origin = 0.5;\n  }\n\n  delta.origin = origin;\n  delta.originPoint = mix(source.min, source.max, delta.origin);\n  delta.scale = calcLength(target) / calcLength(source);\n  if (isNear(delta.scale, 1, 0.0001)) delta.scale = 1;\n  delta.translate = mix(target.min, target.max, delta.origin) - delta.originPoint;\n  if (isNear(delta.translate)) delta.translate = 0;\n}\n/**\n * Update the BoxDelta with a transform that projects the source into the target.\n *\n * The transform `origin` is optional. If not provided, it'll be automatically\n * calculated based on the relative positions of the two bounding boxes.\n */\n\n\nfunction updateBoxDelta(delta, source, target, origin) {\n  updateAxisDelta(delta.x, source.x, target.x, defaultOrigin(origin.originX));\n  updateAxisDelta(delta.y, source.y, target.y, defaultOrigin(origin.originY));\n}\n/**\n * Currently this only accepts numerical origins, measured as 0-1, but could\n * accept pixel values by comparing to the target axis.\n */\n\n\nfunction defaultOrigin(origin) {\n  return typeof origin === \"number\" ? origin : 0.5;\n}\n\nfunction calcRelativeAxis(target, relative, parent) {\n  target.min = parent.min + relative.min;\n  target.max = target.min + calcLength(relative);\n}\n\nfunction calcRelativeBox(projection, parentProjection) {\n  calcRelativeAxis(projection.target.x, projection.relativeTarget.x, parentProjection.target.x);\n  calcRelativeAxis(projection.target.y, projection.relativeTarget.y, parentProjection.target.y);\n}\n\nexport { calcOrigin, calcRelativeAxis, calcRelativeBox, isNear, updateAxisDelta, updateBoxDelta };","import { mix } from 'popmotion';\n\nfunction tweenAxis(target, prev, next, p) {\n  target.min = mix(prev.min, next.min, p);\n  target.max = mix(prev.max, next.max, p);\n}\n\nfunction calcRelativeOffsetAxis(parent, child) {\n  return {\n    min: child.min - parent.min,\n    max: child.max - parent.min\n  };\n}\n\nfunction calcRelativeOffset(parent, child) {\n  return {\n    x: calcRelativeOffsetAxis(parent.x, child.x),\n    y: calcRelativeOffsetAxis(parent.y, child.y)\n  };\n}\n\nfunction checkIfParentHasChanged(prev, next) {\n  var prevId = prev.getLayoutId();\n  var nextId = next.getLayoutId();\n  return prevId !== nextId || nextId === undefined && prev !== next;\n}\n\nexport { calcRelativeOffset, calcRelativeOffsetAxis, checkIfParentHasChanged, tweenAxis };","function isDraggable(visualElement) {\n  var _a = visualElement.getProps(),\n      drag = _a.drag,\n      _dragX = _a._dragX;\n\n  return drag && !_dragX;\n}\n\nexport { isDraggable };","import { __read } from 'tslib';\nimport { mix } from 'popmotion';\nimport { isDraggable } from '../../render/utils/is-draggable.js';\n/**\n * Reset an axis to the provided origin box.\n *\n * This is a mutative operation.\n */\n\nfunction resetAxis(axis, originAxis) {\n  axis.min = originAxis.min;\n  axis.max = originAxis.max;\n}\n/**\n * Reset a box to the provided origin box.\n *\n * This is a mutative operation.\n */\n\n\nfunction resetBox(box, originBox) {\n  resetAxis(box.x, originBox.x);\n  resetAxis(box.y, originBox.y);\n}\n/**\n * Scales a point based on a factor and an originPoint\n */\n\n\nfunction scalePoint(point, scale, originPoint) {\n  var distanceFromOrigin = point - originPoint;\n  var scaled = scale * distanceFromOrigin;\n  return originPoint + scaled;\n}\n/**\n * Applies a translate/scale delta to a point\n */\n\n\nfunction applyPointDelta(point, translate, scale, originPoint, boxScale) {\n  if (boxScale !== undefined) {\n    point = scalePoint(point, boxScale, originPoint);\n  }\n\n  return scalePoint(point, scale, originPoint) + translate;\n}\n/**\n * Applies a translate/scale delta to an axis\n */\n\n\nfunction applyAxisDelta(axis, translate, scale, originPoint, boxScale) {\n  if (translate === void 0) {\n    translate = 0;\n  }\n\n  if (scale === void 0) {\n    scale = 1;\n  }\n\n  axis.min = applyPointDelta(axis.min, translate, scale, originPoint, boxScale);\n  axis.max = applyPointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Applies a translate/scale delta to a box\n */\n\n\nfunction applyBoxDelta(box, _a) {\n  var x = _a.x,\n      y = _a.y;\n  applyAxisDelta(box.x, x.translate, x.scale, x.originPoint);\n  applyAxisDelta(box.y, y.translate, y.scale, y.originPoint);\n}\n/**\n * Apply a transform to an axis from the latest resolved motion values.\n * This function basically acts as a bridge between a flat motion value map\n * and applyAxisDelta\n */\n\n\nfunction applyAxisTransforms(final, axis, transforms, _a) {\n  var _b = __read(_a, 3),\n      key = _b[0],\n      scaleKey = _b[1],\n      originKey = _b[2]; // Copy the current axis to the final axis before mutation\n\n\n  final.min = axis.min;\n  final.max = axis.max;\n  var axisOrigin = transforms[originKey] !== undefined ? transforms[originKey] : 0.5;\n  var originPoint = mix(axis.min, axis.max, axisOrigin); // Apply the axis delta to the final axis\n\n  applyAxisDelta(final, transforms[key], transforms[scaleKey], originPoint, transforms.scale);\n}\n/**\n * The names of the motion values we want to apply as translation, scale and origin.\n */\n\n\nvar xKeys = [\"x\", \"scaleX\", \"originX\"];\nvar yKeys = [\"y\", \"scaleY\", \"originY\"];\n/**\n * Apply a transform to a box from the latest resolved motion values.\n */\n\nfunction applyBoxTransforms(finalBox, box, transforms) {\n  applyAxisTransforms(finalBox.x, box.x, transforms, xKeys);\n  applyAxisTransforms(finalBox.y, box.y, transforms, yKeys);\n}\n/**\n * Remove a delta from a point. This is essentially the steps of applyPointDelta in reverse\n */\n\n\nfunction removePointDelta(point, translate, scale, originPoint, boxScale) {\n  point -= translate;\n  point = scalePoint(point, 1 / scale, originPoint);\n\n  if (boxScale !== undefined) {\n    point = scalePoint(point, 1 / boxScale, originPoint);\n  }\n\n  return point;\n}\n/**\n * Remove a delta from an axis. This is essentially the steps of applyAxisDelta in reverse\n */\n\n\nfunction removeAxisDelta(axis, translate, scale, origin, boxScale) {\n  if (translate === void 0) {\n    translate = 0;\n  }\n\n  if (scale === void 0) {\n    scale = 1;\n  }\n\n  if (origin === void 0) {\n    origin = 0.5;\n  }\n\n  var originPoint = mix(axis.min, axis.max, origin) - translate;\n  axis.min = removePointDelta(axis.min, translate, scale, originPoint, boxScale);\n  axis.max = removePointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Remove a transforms from an axis. This is essentially the steps of applyAxisTransforms in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\n\n\nfunction removeAxisTransforms(axis, transforms, _a) {\n  var _b = __read(_a, 3),\n      key = _b[0],\n      scaleKey = _b[1],\n      originKey = _b[2];\n\n  removeAxisDelta(axis, transforms[key], transforms[scaleKey], transforms[originKey], transforms.scale);\n}\n/**\n * Remove a transforms from an box. This is essentially the steps of applyAxisBox in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\n\n\nfunction removeBoxTransforms(box, transforms) {\n  removeAxisTransforms(box.x, transforms, xKeys);\n  removeAxisTransforms(box.y, transforms, yKeys);\n}\n/**\n * Apply a tree of deltas to a box. We do this to calculate the effect of all the transforms\n * in a tree upon our box before then calculating how to project it into our desired viewport-relative box\n *\n * This is the final nested loop within updateLayoutDelta for future refactoring\n */\n\n\nfunction applyTreeDeltas(box, treeScale, treePath) {\n  var treeLength = treePath.length;\n  if (!treeLength) return; // Reset the treeScale\n\n  treeScale.x = treeScale.y = 1;\n  var node;\n  var delta;\n\n  for (var i = 0; i < treeLength; i++) {\n    node = treePath[i];\n    delta = node.getLayoutState().delta; // Incoporate each ancestor's scale into a culmulative treeScale for this component\n\n    treeScale.x *= delta.x.scale;\n    treeScale.y *= delta.y.scale; // Apply each ancestor's calculated delta into this component's recorded layout box\n\n    applyBoxDelta(box, delta); // If this is a draggable ancestor, also incorporate the node's transform to the layout box\n\n    if (isDraggable(node)) {\n      applyBoxTransforms(box, box, node.getLatestValues());\n    }\n  }\n}\n\nexport { applyAxisDelta, applyAxisTransforms, applyBoxDelta, applyBoxTransforms, applyPointDelta, applyTreeDeltas, removeAxisDelta, removeAxisTransforms, removeBoxTransforms, removePointDelta, resetAxis, resetBox, scalePoint };","import { __rest, __assign, __spreadArray, __read } from 'tslib';\nimport { invariant } from 'hey-listen';\nimport { PanSession } from '../PanSession.js';\nimport { getGlobalLock } from './utils/lock.js';\nimport { isRefObject } from '../../utils/is-ref-object.js';\nimport { addPointerEvent } from '../../events/use-pointer-event.js';\nimport { addDomEvent } from '../../events/use-dom-event.js';\nimport { getViewportPointFromEvent } from '../../events/event-info.js';\nimport { axisBox, convertAxisBoxToBoundingBox, convertBoundingBoxToAxisBox } from '../../utils/geometry/index.js';\nimport { eachAxis } from '../../utils/each-axis.js';\nimport { calcRelativeConstraints, resolveDragElastic, rebaseAxisConstraints, calcViewportConstraints, applyConstraints, calcConstrainedMinPoint, calcPositionFromProgress, defaultElastic } from './utils/constraints.js';\nimport { getBoundingBox } from '../../render/dom/projection/measure.js';\nimport { calcOrigin } from '../../utils/geometry/delta-calc.js';\nimport { startAnimation } from '../../animation/utils/transitions.js';\nimport { AnimationType } from '../../render/utils/types.js';\nimport { collectProjectingAncestors, updateLayoutMeasurement, collectProjectingChildren } from '../../render/dom/projection/utils.js';\nimport { progress } from 'popmotion';\nimport { convertToRelativeProjection } from '../../render/dom/projection/convert-to-relative.js';\nimport { calcRelativeOffset } from '../../motion/features/layout/utils.js';\nimport { flushLayout, batchLayout } from '../../render/dom/utils/batch-layout.js';\nimport { flushSync } from 'framesync';\nvar elementDragControls = new WeakMap();\n/**\n *\n */\n\nvar lastPointerEvent;\n\nvar VisualElementDragControls = function () {\n  function VisualElementDragControls(_a) {\n    var visualElement = _a.visualElement;\n    /**\n     * Track whether we're currently dragging.\n     *\n     * @internal\n     */\n\n    this.isDragging = false;\n    /**\n     * The current direction of drag, or `null` if both.\n     *\n     * @internal\n     */\n\n    this.currentDirection = null;\n    /**\n     * The permitted boundaries of travel, in pixels.\n     *\n     * @internal\n     */\n\n    this.constraints = false;\n    /**\n     * The per-axis resolved elastic values.\n     *\n     * @internal\n     */\n\n    this.elastic = axisBox();\n    /**\n     * A reference to the host component's latest props.\n     *\n     * @internal\n     */\n\n    this.props = {};\n    /**\n     * @internal\n     */\n\n    this.hasMutatedConstraints = false;\n    /**\n     * Track the initial position of the cursor relative to the dragging element\n     * when dragging starts as a value of 0-1 on each axis. We then use this to calculate\n     * an ideal bounding box for the VisualElement renderer to project into every frame.\n     *\n     * @internal\n     */\n\n    this.cursorProgress = {\n      x: 0.5,\n      y: 0.5\n    }; // When updating _dragX, or _dragY instead of the VisualElement,\n    // persist their values between drag gestures.\n\n    this.originPoint = {}; // This is a reference to the global drag gesture lock, ensuring only one component\n    // can \"capture\" the drag of one or both axes.\n    // TODO: Look into moving this into pansession?\n\n    this.openGlobalLock = null;\n    /**\n     * @internal\n     */\n\n    this.panSession = null;\n    this.visualElement = visualElement;\n    this.visualElement.enableLayoutProjection();\n    elementDragControls.set(visualElement, this);\n  }\n  /**\n   * Instantiate a PanSession for the drag gesture\n   *\n   * @public\n   */\n\n\n  VisualElementDragControls.prototype.start = function (originEvent, _a) {\n    var _this = this;\n\n    var _b = _a === void 0 ? {} : _a,\n        _c = _b.snapToCursor,\n        snapToCursor = _c === void 0 ? false : _c,\n        cursorProgress = _b.cursorProgress;\n\n    var onSessionStart = function onSessionStart(event) {\n      var _a; // Stop any animations on both axis values immediately. This allows the user to throw and catch\n      // the component.\n\n\n      _this.stopMotion();\n      /**\n       * Save the initial point. We'll use this to calculate the pointer's position rather\n       * than the one we receive when the gesture actually starts. By then, the pointer will\n       * have already moved, and the perception will be of the pointer \"slipping\" across the element\n       */\n\n\n      var initialPoint = getViewportPointFromEvent(event).point;\n      (_a = _this.cancelLayout) === null || _a === void 0 ? void 0 : _a.call(_this);\n      _this.cancelLayout = batchLayout(function (read, write) {\n        var ancestors = collectProjectingAncestors(_this.visualElement);\n        var children = collectProjectingChildren(_this.visualElement);\n\n        var tree = __spreadArray(__spreadArray([], __read(ancestors)), __read(children));\n\n        var hasManuallySetCursorOrigin = false;\n        /**\n         * Apply a simple lock to the projection target. This ensures no animations\n         * can run on the projection box while this lock is active.\n         */\n\n        _this.isLayoutDrag() && _this.visualElement.lockProjectionTarget();\n        write(function () {\n          tree.forEach(function (element) {\n            return element.resetTransform();\n          });\n        });\n        read(function () {\n          updateLayoutMeasurement(_this.visualElement);\n          children.forEach(updateLayoutMeasurement);\n        });\n        write(function () {\n          tree.forEach(function (element) {\n            return element.restoreTransform();\n          });\n\n          if (snapToCursor) {\n            hasManuallySetCursorOrigin = _this.snapToCursor(initialPoint);\n          }\n        });\n        read(function () {\n          var isRelativeDrag = Boolean(_this.getAxisMotionValue(\"x\") && !_this.isExternalDrag());\n\n          if (!isRelativeDrag) {\n            _this.visualElement.rebaseProjectionTarget(true, _this.visualElement.measureViewportBox(false));\n          }\n\n          _this.visualElement.scheduleUpdateLayoutProjection();\n          /**\n           * When dragging starts, we want to find where the cursor is relative to the bounding box\n           * of the element. Every frame, we calculate a new bounding box using this relative position\n           * and let the visualElement renderer figure out how to reproject the element into this bounding\n           * box.\n           *\n           * By doing it this way, rather than applying an x/y transform directly to the element,\n           * we can ensure the component always visually sticks to the cursor as we'd expect, even\n           * if the DOM element itself changes layout as a result of React updates the user might\n           * make based on the drag position.\n           */\n\n\n          var projection = _this.visualElement.projection;\n          eachAxis(function (axis) {\n            if (!hasManuallySetCursorOrigin) {\n              var _a = projection.target[axis],\n                  min = _a.min,\n                  max = _a.max;\n              _this.cursorProgress[axis] = cursorProgress ? cursorProgress[axis] : progress(min, max, initialPoint[axis]);\n            }\n            /**\n             * If we have external drag MotionValues, record their origin point. On pointermove\n             * we'll apply the pan gesture offset directly to this value.\n             */\n\n\n            var axisValue = _this.getAxisMotionValue(axis);\n\n            if (axisValue) {\n              _this.originPoint[axis] = axisValue.get();\n            }\n          });\n        });\n        write(function () {\n          flushSync.update();\n          flushSync.preRender();\n          flushSync.render();\n          flushSync.postRender();\n        });\n        read(function () {\n          return _this.resolveDragConstraints();\n        });\n      });\n    };\n\n    var onStart = function onStart(event, info) {\n      var _a, _b, _c; // Attempt to grab the global drag gesture lock - maybe make this part of PanSession\n\n\n      var _d = _this.props,\n          drag = _d.drag,\n          dragPropagation = _d.dragPropagation;\n\n      if (drag && !dragPropagation) {\n        if (_this.openGlobalLock) _this.openGlobalLock();\n        _this.openGlobalLock = getGlobalLock(drag); // If we don 't have the lock, don't start dragging\n\n        if (!_this.openGlobalLock) return;\n      }\n\n      flushLayout(); // Set current drag status\n\n      _this.isDragging = true;\n      _this.currentDirection = null; // Fire onDragStart event\n\n      (_b = (_a = _this.props).onDragStart) === null || _b === void 0 ? void 0 : _b.call(_a, event, info);\n      (_c = _this.visualElement.animationState) === null || _c === void 0 ? void 0 : _c.setActive(AnimationType.Drag, true);\n    };\n\n    var onMove = function onMove(event, info) {\n      var _a, _b, _c, _d;\n\n      var _e = _this.props,\n          dragPropagation = _e.dragPropagation,\n          dragDirectionLock = _e.dragDirectionLock; // If we didn't successfully receive the gesture lock, early return.\n\n      if (!dragPropagation && !_this.openGlobalLock) return;\n      var offset = info.offset; // Attempt to detect drag direction if directionLock is true\n\n      if (dragDirectionLock && _this.currentDirection === null) {\n        _this.currentDirection = getCurrentDirection(offset); // If we've successfully set a direction, notify listener\n\n        if (_this.currentDirection !== null) {\n          (_b = (_a = _this.props).onDirectionLock) === null || _b === void 0 ? void 0 : _b.call(_a, _this.currentDirection);\n        }\n\n        return;\n      } // Update each point with the latest position\n\n\n      _this.updateAxis(\"x\", info.point, offset);\n\n      _this.updateAxis(\"y\", info.point, offset); // Fire onDrag event\n\n\n      (_d = (_c = _this.props).onDrag) === null || _d === void 0 ? void 0 : _d.call(_c, event, info); // Update the last pointer event\n\n      lastPointerEvent = event;\n    };\n\n    var onSessionEnd = function onSessionEnd(event, info) {\n      return _this.stop(event, info);\n    };\n\n    var transformPagePoint = this.props.transformPagePoint;\n    this.panSession = new PanSession(originEvent, {\n      onSessionStart: onSessionStart,\n      onStart: onStart,\n      onMove: onMove,\n      onSessionEnd: onSessionEnd\n    }, {\n      transformPagePoint: transformPagePoint\n    });\n  };\n\n  VisualElementDragControls.prototype.resolveDragConstraints = function () {\n    var _this = this;\n\n    var _a = this.props,\n        dragConstraints = _a.dragConstraints,\n        dragElastic = _a.dragElastic;\n    var layout = this.visualElement.getLayoutState().layoutCorrected;\n\n    if (dragConstraints) {\n      this.constraints = isRefObject(dragConstraints) ? this.resolveRefConstraints(layout, dragConstraints) : calcRelativeConstraints(layout, dragConstraints);\n    } else {\n      this.constraints = false;\n    }\n\n    this.elastic = resolveDragElastic(dragElastic);\n    /**\n     * If we're outputting to external MotionValues, we want to rebase the measured constraints\n     * from viewport-relative to component-relative.\n     */\n\n    if (this.constraints && !this.hasMutatedConstraints) {\n      eachAxis(function (axis) {\n        if (_this.getAxisMotionValue(axis)) {\n          _this.constraints[axis] = rebaseAxisConstraints(layout[axis], _this.constraints[axis]);\n        }\n      });\n    }\n  };\n\n  VisualElementDragControls.prototype.resolveRefConstraints = function (layoutBox, constraints) {\n    var _a = this.props,\n        onMeasureDragConstraints = _a.onMeasureDragConstraints,\n        transformPagePoint = _a.transformPagePoint;\n    var constraintsElement = constraints.current;\n    invariant(constraintsElement !== null, \"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.\");\n    this.constraintsBox = getBoundingBox(constraintsElement, transformPagePoint);\n    var measuredConstraints = calcViewportConstraints(layoutBox, this.constraintsBox);\n    /**\n     * If there's an onMeasureDragConstraints listener we call it and\n     * if different constraints are returned, set constraints to that\n     */\n\n    if (onMeasureDragConstraints) {\n      var userConstraints = onMeasureDragConstraints(convertAxisBoxToBoundingBox(measuredConstraints));\n      this.hasMutatedConstraints = !!userConstraints;\n\n      if (userConstraints) {\n        measuredConstraints = convertBoundingBoxToAxisBox(userConstraints);\n      }\n    }\n\n    return measuredConstraints;\n  };\n\n  VisualElementDragControls.prototype.cancelDrag = function () {\n    var _a, _b;\n\n    this.visualElement.unlockProjectionTarget();\n    (_a = this.cancelLayout) === null || _a === void 0 ? void 0 : _a.call(this);\n    this.isDragging = false;\n    this.panSession && this.panSession.end();\n    this.panSession = null;\n\n    if (!this.props.dragPropagation && this.openGlobalLock) {\n      this.openGlobalLock();\n      this.openGlobalLock = null;\n    }\n\n    (_b = this.visualElement.animationState) === null || _b === void 0 ? void 0 : _b.setActive(AnimationType.Drag, false);\n  };\n\n  VisualElementDragControls.prototype.stop = function (event, info) {\n    var _a, _b, _c;\n\n    (_a = this.panSession) === null || _a === void 0 ? void 0 : _a.end();\n    this.panSession = null;\n    var isDragging = this.isDragging;\n    this.cancelDrag();\n    if (!isDragging) return;\n    var velocity = info.velocity;\n    this.animateDragEnd(velocity);\n    (_c = (_b = this.props).onDragEnd) === null || _c === void 0 ? void 0 : _c.call(_b, event, info);\n  };\n\n  VisualElementDragControls.prototype.snapToCursor = function (point) {\n    var _this = this;\n\n    return eachAxis(function (axis) {\n      var drag = _this.props.drag; // If we're not dragging this axis, do an early return.\n\n      if (!shouldDrag(axis, drag, _this.currentDirection)) return;\n\n      var axisValue = _this.getAxisMotionValue(axis);\n\n      if (axisValue) {\n        var box = _this.visualElement.getLayoutState().layout;\n\n        var length_1 = box[axis].max - box[axis].min;\n        var center = box[axis].min + length_1 / 2;\n        var offset = point[axis] - center;\n        _this.originPoint[axis] = point[axis];\n        axisValue.set(offset);\n      } else {\n        _this.cursorProgress[axis] = 0.5;\n        return true;\n      }\n    }).includes(true);\n  };\n  /**\n   * Update the specified axis with the latest pointer information.\n   */\n\n\n  VisualElementDragControls.prototype.updateAxis = function (axis, point, offset) {\n    var drag = this.props.drag; // If we're not dragging this axis, do an early return.\n\n    if (!shouldDrag(axis, drag, this.currentDirection)) return;\n    return this.getAxisMotionValue(axis) ? this.updateAxisMotionValue(axis, offset) : this.updateVisualElementAxis(axis, point);\n  };\n\n  VisualElementDragControls.prototype.updateAxisMotionValue = function (axis, offset) {\n    var axisValue = this.getAxisMotionValue(axis);\n    if (!offset || !axisValue) return;\n    var nextValue = this.originPoint[axis] + offset[axis];\n    var update = this.constraints ? applyConstraints(nextValue, this.constraints[axis], this.elastic[axis]) : nextValue;\n    axisValue.set(update);\n  };\n\n  VisualElementDragControls.prototype.updateVisualElementAxis = function (axis, point) {\n    var _a; // Get the actual layout bounding box of the element\n\n\n    var axisLayout = this.visualElement.getLayoutState().layout[axis]; // Calculate its current length. In the future we might want to lerp this to animate\n    // between lengths if the layout changes as we change the DOM\n\n    var axisLength = axisLayout.max - axisLayout.min; // Get the initial progress that the pointer sat on this axis on gesture start.\n\n    var axisProgress = this.cursorProgress[axis]; // Calculate a new min point based on the latest pointer position, constraints and elastic\n\n    var min = calcConstrainedMinPoint(point[axis], axisLength, axisProgress, (_a = this.constraints) === null || _a === void 0 ? void 0 : _a[axis], this.elastic[axis]); // Update the axis viewport target with this new min and the length\n\n    this.visualElement.setProjectionTargetAxis(axis, min, min + axisLength);\n  };\n\n  VisualElementDragControls.prototype.setProps = function (_a) {\n    var _b = _a.drag,\n        drag = _b === void 0 ? false : _b,\n        _c = _a.dragDirectionLock,\n        dragDirectionLock = _c === void 0 ? false : _c,\n        _d = _a.dragPropagation,\n        dragPropagation = _d === void 0 ? false : _d,\n        _e = _a.dragConstraints,\n        dragConstraints = _e === void 0 ? false : _e,\n        _f = _a.dragElastic,\n        dragElastic = _f === void 0 ? defaultElastic : _f,\n        _g = _a.dragMomentum,\n        dragMomentum = _g === void 0 ? true : _g,\n        remainingProps = __rest(_a, [\"drag\", \"dragDirectionLock\", \"dragPropagation\", \"dragConstraints\", \"dragElastic\", \"dragMomentum\"]);\n\n    this.props = __assign({\n      drag: drag,\n      dragDirectionLock: dragDirectionLock,\n      dragPropagation: dragPropagation,\n      dragConstraints: dragConstraints,\n      dragElastic: dragElastic,\n      dragMomentum: dragMomentum\n    }, remainingProps);\n  };\n  /**\n   * Drag works differently depending on which props are provided.\n   *\n   * - If _dragX and _dragY are provided, we output the gesture delta directly to those motion values.\n   * - If the component will perform layout animations, we output the gesture to the component's\n   *      visual bounding box\n   * - Otherwise, we apply the delta to the x/y motion values.\n   */\n\n\n  VisualElementDragControls.prototype.getAxisMotionValue = function (axis) {\n    var _a = this.props,\n        layout = _a.layout,\n        layoutId = _a.layoutId;\n    var dragKey = \"_drag\" + axis.toUpperCase();\n\n    if (this.props[dragKey]) {\n      return this.props[dragKey];\n    } else if (!layout && layoutId === undefined) {\n      return this.visualElement.getValue(axis, 0);\n    }\n  };\n\n  VisualElementDragControls.prototype.isLayoutDrag = function () {\n    return !this.getAxisMotionValue(\"x\");\n  };\n\n  VisualElementDragControls.prototype.isExternalDrag = function () {\n    var _a = this.props,\n        _dragX = _a._dragX,\n        _dragY = _a._dragY;\n    return _dragX || _dragY;\n  };\n\n  VisualElementDragControls.prototype.animateDragEnd = function (velocity) {\n    var _this = this;\n\n    var _a = this.props,\n        drag = _a.drag,\n        dragMomentum = _a.dragMomentum,\n        dragElastic = _a.dragElastic,\n        dragTransition = _a.dragTransition;\n    /**\n     * Everything beyond the drag gesture should be performed with\n     * relative projection so children stay in sync with their parent element.\n     */\n\n    var isRelative = convertToRelativeProjection(this.visualElement, this.isLayoutDrag() && !this.isExternalDrag());\n    /**\n     * If we had previously resolved constraints relative to the viewport,\n     * we need to also convert those to a relative coordinate space for the animation\n     */\n\n    var constraints = this.constraints || {};\n\n    if (isRelative && Object.keys(constraints).length && this.isLayoutDrag()) {\n      var projectionParent = this.visualElement.getProjectionParent();\n\n      if (projectionParent) {\n        var relativeConstraints_1 = calcRelativeOffset(projectionParent.projection.targetFinal, constraints);\n        eachAxis(function (axis) {\n          var _a = relativeConstraints_1[axis],\n              min = _a.min,\n              max = _a.max;\n          constraints[axis] = {\n            min: isNaN(min) ? undefined : min,\n            max: isNaN(max) ? undefined : max\n          };\n        });\n      }\n    }\n\n    var momentumAnimations = eachAxis(function (axis) {\n      var _a;\n\n      if (!shouldDrag(axis, drag, _this.currentDirection)) {\n        return;\n      }\n\n      var transition = (_a = constraints === null || constraints === void 0 ? void 0 : constraints[axis]) !== null && _a !== void 0 ? _a : {};\n      /**\n       * Overdamp the boundary spring if `dragElastic` is disabled. There's still a frame\n       * of spring animations so we should look into adding a disable spring option to `inertia`.\n       * We could do something here where we affect the `bounceStiffness` and `bounceDamping`\n       * using the value of `dragElastic`.\n       */\n\n      var bounceStiffness = dragElastic ? 200 : 1000000;\n      var bounceDamping = dragElastic ? 40 : 10000000;\n\n      var inertia = __assign(__assign({\n        type: \"inertia\",\n        velocity: dragMomentum ? velocity[axis] : 0,\n        bounceStiffness: bounceStiffness,\n        bounceDamping: bounceDamping,\n        timeConstant: 750,\n        restDelta: 1,\n        restSpeed: 10\n      }, dragTransition), transition); // If we're not animating on an externally-provided `MotionValue` we can use the\n      // component's animation controls which will handle interactions with whileHover (etc),\n      // otherwise we just have to animate the `MotionValue` itself.\n\n\n      return _this.getAxisMotionValue(axis) ? _this.startAxisValueAnimation(axis, inertia) : _this.visualElement.startLayoutAnimation(axis, inertia, isRelative);\n    }); // Run all animations and then resolve the new drag constraints.\n\n    return Promise.all(momentumAnimations).then(function () {\n      var _a, _b;\n\n      (_b = (_a = _this.props).onDragTransitionEnd) === null || _b === void 0 ? void 0 : _b.call(_a);\n    });\n  };\n\n  VisualElementDragControls.prototype.stopMotion = function () {\n    var _this = this;\n\n    eachAxis(function (axis) {\n      var axisValue = _this.getAxisMotionValue(axis);\n\n      axisValue ? axisValue.stop() : _this.visualElement.stopLayoutAnimation();\n    });\n  };\n\n  VisualElementDragControls.prototype.startAxisValueAnimation = function (axis, transition) {\n    var axisValue = this.getAxisMotionValue(axis);\n    if (!axisValue) return;\n    var currentValue = axisValue.get();\n    axisValue.set(currentValue);\n    axisValue.set(currentValue); // Set twice to hard-reset velocity\n\n    return startAnimation(axis, axisValue, 0, transition);\n  };\n\n  VisualElementDragControls.prototype.scalePoint = function () {\n    var _this = this;\n\n    var _a = this.props,\n        drag = _a.drag,\n        dragConstraints = _a.dragConstraints;\n    if (!isRefObject(dragConstraints) || !this.constraintsBox) return; // Stop any current animations as there can be some visual glitching if we resize mid animation\n\n    this.stopMotion(); // Record the relative progress of the targetBox relative to the constraintsBox\n\n    var boxProgress = {\n      x: 0,\n      y: 0\n    };\n    eachAxis(function (axis) {\n      boxProgress[axis] = calcOrigin(_this.visualElement.projection.target[axis], _this.constraintsBox[axis]);\n    });\n    /**\n     * For each axis, calculate the current progress of the layout axis within the constraints.\n     * Then, using the latest layout and constraints measurements, reposition the new layout axis\n     * proportionally within the constraints.\n     */\n\n    this.updateConstraints(function () {\n      eachAxis(function (axis) {\n        if (!shouldDrag(axis, drag, null)) return; // Calculate the position of the targetBox relative to the constraintsBox using the\n        // previously calculated progress\n\n        var _a = calcPositionFromProgress(_this.visualElement.projection.target[axis], _this.constraintsBox[axis], boxProgress[axis]),\n            min = _a.min,\n            max = _a.max;\n\n        _this.visualElement.setProjectionTargetAxis(axis, min, max);\n      });\n    });\n    /**\n     * If any other draggable components are queuing the same tasks synchronously\n     * this will wait until they've all been scheduled before flushing.\n     */\n\n    setTimeout(flushLayout, 1);\n  };\n\n  VisualElementDragControls.prototype.updateConstraints = function (onReady) {\n    var _this = this;\n\n    this.cancelLayout = batchLayout(function (read, write) {\n      var ancestors = collectProjectingAncestors(_this.visualElement);\n      write(function () {\n        return ancestors.forEach(function (element) {\n          return element.resetTransform();\n        });\n      });\n      read(function () {\n        return updateLayoutMeasurement(_this.visualElement);\n      });\n      write(function () {\n        return ancestors.forEach(function (element) {\n          return element.restoreTransform();\n        });\n      });\n      read(function () {\n        _this.resolveDragConstraints();\n      });\n      if (onReady) write(onReady);\n    });\n  };\n\n  VisualElementDragControls.prototype.mount = function (visualElement) {\n    var _this = this;\n\n    var element = visualElement.getInstance();\n    /**\n     * Attach a pointerdown event listener on this DOM element to initiate drag tracking.\n     */\n\n    var stopPointerListener = addPointerEvent(element, \"pointerdown\", function (event) {\n      var _a = _this.props,\n          drag = _a.drag,\n          _b = _a.dragListener,\n          dragListener = _b === void 0 ? true : _b;\n      drag && dragListener && _this.start(event);\n    });\n    /**\n     * Attach a window resize listener to scale the draggable target within its defined\n     * constraints as the window resizes.\n     */\n\n    var stopResizeListener = addDomEvent(window, \"resize\", function () {\n      _this.scalePoint();\n    });\n    /**\n     * Ensure drag constraints are resolved correctly relative to the dragging element\n     * whenever its layout changes.\n     */\n\n    var stopLayoutUpdateListener = visualElement.onLayoutUpdate(function () {\n      if (_this.isDragging) {\n        _this.resolveDragConstraints();\n      }\n    });\n    /**\n     * If the previous component with this same layoutId was dragging at the time\n     * it was unmounted, we want to continue the same gesture on this component.\n     */\n\n    var prevDragCursor = visualElement.prevDragCursor;\n\n    if (prevDragCursor) {\n      this.start(lastPointerEvent, {\n        cursorProgress: prevDragCursor\n      });\n    }\n    /**\n     * Return a function that will teardown the drag gesture\n     */\n\n\n    return function () {\n      stopPointerListener === null || stopPointerListener === void 0 ? void 0 : stopPointerListener();\n      stopResizeListener === null || stopResizeListener === void 0 ? void 0 : stopResizeListener();\n      stopLayoutUpdateListener === null || stopLayoutUpdateListener === void 0 ? void 0 : stopLayoutUpdateListener();\n\n      _this.cancelDrag();\n    };\n  };\n\n  return VisualElementDragControls;\n}();\n\nfunction shouldDrag(direction, drag, currentDirection) {\n  return (drag === true || drag === direction) && (currentDirection === null || currentDirection === direction);\n}\n/**\n * Based on an x/y offset determine the current drag direction. If both axis' offsets are lower\n * than the provided threshold, return `null`.\n *\n * @param offset - The x/y offset from origin.\n * @param lockThreshold - (Optional) - the minimum absolute offset before we can determine a drag direction.\n */\n\n\nfunction getCurrentDirection(offset, lockThreshold) {\n  if (lockThreshold === void 0) {\n    lockThreshold = 10;\n  }\n\n  var direction = null;\n\n  if (Math.abs(offset.y) > lockThreshold) {\n    direction = \"y\";\n  } else if (Math.abs(offset.x) > lockThreshold) {\n    direction = \"x\";\n  }\n\n  return direction;\n}\n\nexport { VisualElementDragControls, elementDragControls };","import { calcRelativeOffset } from '../../../motion/features/layout/utils.js';\nimport { eachAxis } from '../../../utils/each-axis.js';\nimport { removeBoxTransforms } from '../../../utils/geometry/delta-apply.js';\n/**\n * Returns a boolean stating whether or not we converted the projection\n * to relative projection.\n */\n\nfunction convertToRelativeProjection(visualElement, isLayoutDrag) {\n  if (isLayoutDrag === void 0) {\n    isLayoutDrag = true;\n  }\n\n  var projectionParent = visualElement.getProjectionParent();\n  if (!projectionParent) return false;\n  var offset;\n\n  if (isLayoutDrag) {\n    offset = calcRelativeOffset(projectionParent.projection.target, visualElement.projection.target);\n    removeBoxTransforms(offset, projectionParent.getLatestValues());\n  } else {\n    offset = calcRelativeOffset(projectionParent.getLayoutState().layout, visualElement.getLayoutState().layout);\n  }\n\n  eachAxis(function (axis) {\n    return visualElement.setProjectionTargetAxis(axis, offset[axis].min, offset[axis].max, true);\n  });\n  return true;\n}\n\nexport { convertToRelativeProjection };","import { useDrag } from '../../gestures/drag/use-drag.js';\nimport { usePanGesture } from '../../gestures/use-pan-gesture.js';\nimport { makeRenderlessComponent } from '../utils/make-renderless-component.js';\nvar drag = {\n  pan: makeRenderlessComponent(usePanGesture),\n  drag: makeRenderlessComponent(useDrag)\n};\nexport { drag };","import { useRef, useContext, useEffect } from 'react';\nimport { MotionConfigContext } from '../context/MotionConfigContext.js';\nimport { useUnmountEffect } from '../utils/use-unmount-effect.js';\nimport { usePointerEvent } from '../events/use-pointer-event.js';\nimport { PanSession } from './PanSession.js';\n/**\n *\n * @param handlers -\n * @param ref -\n *\n * @internalremarks\n * Currently this sets new pan gesture functions every render. The memo route has been explored\n * in the past but ultimately we're still creating new functions every render. An optimisation\n * to explore is creating the pan gestures and loading them into a `ref`.\n *\n * @internal\n */\n\nfunction usePanGesture(_a) {\n  var onPan = _a.onPan,\n      onPanStart = _a.onPanStart,\n      onPanEnd = _a.onPanEnd,\n      onPanSessionStart = _a.onPanSessionStart,\n      visualElement = _a.visualElement;\n  var hasPanEvents = onPan || onPanStart || onPanEnd || onPanSessionStart;\n  var panSession = useRef(null);\n  var transformPagePoint = useContext(MotionConfigContext).transformPagePoint;\n  var handlers = {\n    onSessionStart: onPanSessionStart,\n    onStart: onPanStart,\n    onMove: onPan,\n    onEnd: function onEnd(event, info) {\n      panSession.current = null;\n      onPanEnd && onPanEnd(event, info);\n    }\n  };\n  useEffect(function () {\n    if (panSession.current !== null) {\n      panSession.current.updateHandlers(handlers);\n    }\n  });\n\n  function onPointerDown(event) {\n    panSession.current = new PanSession(event, handlers, {\n      transformPagePoint: transformPagePoint\n    });\n  }\n\n  usePointerEvent(visualElement, \"pointerdown\", hasPanEvents && onPointerDown);\n  useUnmountEffect(function () {\n    return panSession.current && panSession.current.end();\n  });\n}\n\nexport { usePanGesture };","import { __assign } from 'tslib';\nimport { useContext, useEffect } from 'react';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.js';\nimport { VisualElementDragControls } from './VisualElementDragControls.js';\nimport { useConstant } from '../../utils/use-constant.js';\n/**\n * A hook that allows an element to be dragged.\n *\n * @internal\n */\n\nfunction useDrag(props) {\n  var groupDragControls = props.dragControls,\n      visualElement = props.visualElement;\n  var transformPagePoint = useContext(MotionConfigContext).transformPagePoint;\n  var dragControls = useConstant(function () {\n    return new VisualElementDragControls({\n      visualElement: visualElement\n    });\n  });\n  dragControls.setProps(__assign(__assign({}, props), {\n    transformPagePoint: transformPagePoint\n  })); // If we've been provided a DragControls for manual control over the drag gesture,\n  // subscribe this component to it on mount.\n\n  useEffect(function () {\n    return groupDragControls && groupDragControls.subscribe(dragControls);\n  }, [dragControls]); // Mount the drag controls with the visualElement\n\n  useEffect(function () {\n    return dragControls.mount(visualElement);\n  }, []);\n}\n\nexport { useDrag };","import { __rest, __assign, __read } from 'tslib';\nimport { invariant } from 'hey-listen';\n\nfunction isCSSVariable(value) {\n  return typeof value === \"string\" && value.startsWith(\"var(--\");\n}\n/**\n * Parse Framer's special CSS variable format into a CSS token and a fallback.\n *\n * ```\n * `var(--foo, #fff)` => [`--foo`, '#fff']\n * ```\n *\n * @param current\n */\n\n\nvar cssVariableRegex = /var\\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\\)/;\n\nfunction parseCSSVariable(current) {\n  var match = cssVariableRegex.exec(current);\n  if (!match) return [,];\n\n  var _a = __read(match, 3),\n      token = _a[1],\n      fallback = _a[2];\n\n  return [token, fallback];\n}\n\nvar maxDepth = 4;\n\nfunction getVariableValue(current, element, depth) {\n  if (depth === void 0) {\n    depth = 1;\n  }\n\n  invariant(depth <= maxDepth, \"Max CSS variable fallback depth detected in property \\\"\" + current + \"\\\". This may indicate a circular fallback dependency.\");\n\n  var _a = __read(parseCSSVariable(current), 2),\n      token = _a[0],\n      fallback = _a[1]; // No CSS variable detected\n\n\n  if (!token) return; // Attempt to read this CSS variable off the element\n\n  var resolved = window.getComputedStyle(element).getPropertyValue(token);\n\n  if (resolved) {\n    return resolved.trim();\n  } else if (isCSSVariable(fallback)) {\n    // The fallback might itself be a CSS variable, in which case we attempt to resolve it too.\n    return getVariableValue(fallback, element, depth + 1);\n  } else {\n    return fallback;\n  }\n}\n/**\n * Resolve CSS variables from\n *\n * @internal\n */\n\n\nfunction resolveCSSVariables(visualElement, _a, transitionEnd) {\n  var _b;\n\n  var target = __rest(_a, []);\n\n  var element = visualElement.getInstance();\n  if (!(element instanceof HTMLElement)) return {\n    target: target,\n    transitionEnd: transitionEnd\n  }; // If `transitionEnd` isn't `undefined`, clone it. We could clone `target` and `transitionEnd`\n  // only if they change but I think this reads clearer and this isn't a performance-critical path.\n\n  if (transitionEnd) {\n    transitionEnd = __assign({}, transitionEnd);\n  } // Go through existing `MotionValue`s and ensure any existing CSS variables are resolved\n\n\n  visualElement.forEachValue(function (value) {\n    var current = value.get();\n    if (!isCSSVariable(current)) return;\n    var resolved = getVariableValue(current, element);\n    if (resolved) value.set(resolved);\n  }); // Cycle through every target property and resolve CSS variables. Currently\n  // we only read single-var properties like `var(--foo)`, not `calc(var(--foo) + 20px)`\n\n  for (var key in target) {\n    var current = target[key];\n    if (!isCSSVariable(current)) continue;\n    var resolved = getVariableValue(current, element);\n    if (!resolved) continue; // Clone target if it hasn't already been\n\n    target[key] = resolved; // If the user hasn't already set this key on `transitionEnd`, set it to the unresolved\n    // CSS variable. This will ensure that after the animation the component will reflect\n    // changes in the value of the CSS variable.\n\n    if (transitionEnd) (_b = transitionEnd[key]) !== null && _b !== void 0 ? _b : transitionEnd[key] = current;\n  }\n\n  return {\n    target: target,\n    transitionEnd: transitionEnd\n  };\n}\n\nexport { cssVariableRegex, parseCSSVariable, resolveCSSVariables };","import { __assign } from 'tslib';\nimport { complex, px } from 'style-value-types';\nimport { mix } from 'popmotion';\nimport { cssVariableRegex } from '../utils/css-variables-conversion.js';\n\nfunction pixelsToPercent(pixels, axis) {\n  return pixels / (axis.max - axis.min) * 100;\n}\n/**\n * We always correct borderRadius as a percentage rather than pixels to reduce paints.\n * For example, if you are projecting a box that is 100px wide with a 10px borderRadius\n * into a box that is 200px wide with a 20px borderRadius, that is actually a 10%\n * borderRadius in both states. If we animate between the two in pixels that will trigger\n * a paint each time. If we animate between the two in percentage we'll avoid a paint.\n */\n\n\nfunction correctBorderRadius(latest, _layoutState, _a) {\n  var target = _a.target;\n  /**\n   * If latest is a string, if it's a percentage we can return immediately as it's\n   * going to be stretched appropriately. Otherwise, if it's a pixel, convert it to a number.\n   */\n\n  if (typeof latest === \"string\") {\n    if (px.test(latest)) {\n      latest = parseFloat(latest);\n    } else {\n      return latest;\n    }\n  }\n  /**\n   * If latest is a number, it's a pixel value. We use the current viewportBox to calculate that\n   * pixel value as a percentage of each axis\n   */\n\n\n  var x = pixelsToPercent(latest, target.x);\n  var y = pixelsToPercent(latest, target.y);\n  return x + \"% \" + y + \"%\";\n}\n\nvar varToken = \"_$css\";\n\nfunction correctBoxShadow(latest, _a) {\n  var delta = _a.delta,\n      treeScale = _a.treeScale;\n  var original = latest;\n  /**\n   * We need to first strip and store CSS variables from the string.\n   */\n\n  var containsCSSVariables = latest.includes(\"var(\");\n  var cssVariables = [];\n\n  if (containsCSSVariables) {\n    latest = latest.replace(cssVariableRegex, function (match) {\n      cssVariables.push(match);\n      return varToken;\n    });\n  }\n\n  var shadow = complex.parse(latest); // TODO: Doesn't support multiple shadows\n\n  if (shadow.length > 5) return original;\n  var template = complex.createTransformer(latest);\n  var offset = typeof shadow[0] !== \"number\" ? 1 : 0; // Calculate the overall context scale\n\n  var xScale = delta.x.scale * treeScale.x;\n  var yScale = delta.y.scale * treeScale.y;\n  shadow[0 + offset] /= xScale;\n  shadow[1 + offset] /= yScale;\n  /**\n   * Ideally we'd correct x and y scales individually, but because blur and\n   * spread apply to both we have to take a scale average and apply that instead.\n   * We could potentially improve the outcome of this by incorporating the ratio between\n   * the two scales.\n   */\n\n  var averageScale = mix(xScale, yScale, 0.5); // Blur\n\n  if (typeof shadow[2 + offset] === \"number\") shadow[2 + offset] /= averageScale; // Spread\n\n  if (typeof shadow[3 + offset] === \"number\") shadow[3 + offset] /= averageScale;\n  var output = template(shadow);\n\n  if (containsCSSVariables) {\n    var i_1 = 0;\n    output = output.replace(varToken, function () {\n      var cssVariable = cssVariables[i_1];\n      i_1++;\n      return cssVariable;\n    });\n  }\n\n  return output;\n}\n\nvar borderCorrectionDefinition = {\n  process: correctBorderRadius\n};\nvar defaultScaleCorrectors = {\n  borderRadius: __assign(__assign({}, borderCorrectionDefinition), {\n    applyTo: [\"borderTopLeftRadius\", \"borderTopRightRadius\", \"borderBottomLeftRadius\", \"borderBottomRightRadius\"]\n  }),\n  borderTopLeftRadius: borderCorrectionDefinition,\n  borderTopRightRadius: borderCorrectionDefinition,\n  borderBottomLeftRadius: borderCorrectionDefinition,\n  borderBottomRightRadius: borderCorrectionDefinition,\n  boxShadow: {\n    process: correctBoxShadow\n  }\n};\nexport { correctBorderRadius, correctBoxShadow, defaultScaleCorrectors, pixelsToPercent };","import { __extends, __rest, __assign, __read } from 'tslib';\nimport * as React from 'react';\nimport { eachAxis } from '../../../utils/each-axis.js';\nimport { startAnimation, getValueTransition } from '../../../animation/utils/transitions.js';\nimport { checkIfParentHasChanged, calcRelativeOffset, tweenAxis } from './utils.js';\nimport { VisibilityAction } from '../../../components/AnimateSharedLayout/types.js';\nimport { usePresence } from '../../../components/AnimatePresence/use-presence.js';\nimport { axisBox } from '../../../utils/geometry/index.js';\nimport { addScaleCorrection } from '../../../render/dom/projection/scale-correction.js';\nimport { defaultScaleCorrectors } from '../../../render/dom/projection/default-scale-correctors.js';\nvar progressTarget = 1000;\n\nvar Animate = function (_super) {\n  __extends(Animate, _super);\n\n  function Animate() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    /**\n     * A mutable object that tracks the target viewport box\n     * for the current animation frame.\n     */\n\n\n    _this.frameTarget = axisBox();\n    /**\n     * The current animation target, we use this to check whether to start\n     * a new animation or continue the existing one.\n     */\n\n    _this.currentAnimationTarget = axisBox();\n    /**\n     * Track whether we're animating this axis.\n     */\n\n    _this.isAnimating = {\n      x: false,\n      y: false\n    };\n    _this.stopAxisAnimation = {\n      x: undefined,\n      y: undefined\n    };\n    _this.isAnimatingTree = false;\n\n    _this.animate = function (target, origin, _a) {\n      if (_a === void 0) {\n        _a = {};\n      }\n\n      var originBox = _a.originBox,\n          targetBox = _a.targetBox,\n          visibilityAction = _a.visibilityAction,\n          shouldStackAnimate = _a.shouldStackAnimate,\n          onComplete = _a.onComplete,\n          prevParent = _a.prevParent,\n          config = __rest(_a, [\"originBox\", \"targetBox\", \"visibilityAction\", \"shouldStackAnimate\", \"onComplete\", \"prevParent\"]);\n\n      var _b = _this.props,\n          visualElement = _b.visualElement,\n          layout = _b.layout;\n      /**\n       * Early return if we've been instructed not to animate this render.\n       */\n\n      if (shouldStackAnimate === false) {\n        _this.isAnimatingTree = false;\n        return _this.safeToRemove();\n      }\n      /**\n       * Prioritise tree animations\n       */\n\n\n      if (_this.isAnimatingTree && shouldStackAnimate !== true) {\n        return;\n      } else if (shouldStackAnimate) {\n        _this.isAnimatingTree = true;\n      }\n      /**\n       * Allow the measured origin (prev bounding box) and target (actual layout) to be\n       * overridden by the provided config.\n       */\n\n\n      origin = originBox || origin;\n      target = targetBox || target;\n      /**\n       * If this element has a projecting parent, there's an opportunity to animate\n       * it relatively to that parent rather than relatively to the viewport. This\n       * allows us to add orchestrated animations.\n       */\n\n      var isRelative = false;\n      var projectionParent = visualElement.getProjectionParent();\n\n      if (projectionParent) {\n        var prevParentViewportBox = projectionParent.prevViewportBox;\n        var parentLayout = projectionParent.getLayoutState().layout;\n        /**\n         * If we're being provided a previous parent VisualElement by AnimateSharedLayout\n         */\n\n        if (prevParent) {\n          /**\n           * If we've been provided an explicit target box it means we're animating back\n           * to this previous parent. So we can make a relative box by comparing to the previous\n           * parent's layout\n           */\n          if (targetBox) {\n            parentLayout = prevParent.getLayoutState().layout;\n          }\n          /**\n           * Likewise if we've been provided an explicit origin box it means we're\n           * animating out from a different element. So we should figure out where that was\n           * on screen relative to the new parent element.\n           */\n\n\n          if (originBox && !checkIfParentHasChanged(prevParent, projectionParent) && prevParent.prevViewportBox) {\n            prevParentViewportBox = prevParent.prevViewportBox;\n          }\n        }\n\n        if (prevParentViewportBox && isProvidedCorrectDataForRelativeSharedLayout(prevParent, originBox, targetBox)) {\n          isRelative = true;\n          origin = calcRelativeOffset(prevParentViewportBox, origin);\n          target = calcRelativeOffset(parentLayout, target);\n        }\n      }\n\n      var boxHasMoved = hasMoved(origin, target);\n      var animations = eachAxis(function (axis) {\n        var _a, _b;\n        /**\n         * If layout is set to \"position\", we can resize the origin box based on the target\n         * box and only animate its position.\n         */\n\n\n        if (layout === \"position\") {\n          var targetLength = target[axis].max - target[axis].min;\n          origin[axis].max = origin[axis].min + targetLength;\n        }\n\n        if (visualElement.projection.isTargetLocked) {\n          return;\n        } else if (visibilityAction !== undefined) {\n          visualElement.setVisibility(visibilityAction === VisibilityAction.Show);\n        } else if (boxHasMoved) {\n          // If the box has moved, animate between it's current visual state and its\n          // final state\n          return _this.animateAxis(axis, target[axis], origin[axis], __assign(__assign({}, config), {\n            isRelative: isRelative\n          }));\n        } else {\n          (_b = (_a = _this.stopAxisAnimation)[axis]) === null || _b === void 0 ? void 0 : _b.call(_a); // If the box has remained in the same place, immediately set the axis target\n          // to the final desired state\n\n          return visualElement.setProjectionTargetAxis(axis, target[axis].min, target[axis].max, isRelative);\n        }\n      }); // Force a render to ensure there's no flash of uncorrected bounding box.\n\n      visualElement.syncRender();\n      /**\n       * If this visualElement isn't present (ie it's been removed from the tree by the user but\n       * kept in by the tree by AnimatePresence) then call safeToRemove when all axis animations\n       * have successfully finished.\n       */\n\n      return Promise.all(animations).then(function () {\n        _this.isAnimatingTree = false;\n        onComplete && onComplete();\n        visualElement.notifyLayoutAnimationComplete();\n      });\n    };\n\n    return _this;\n  }\n\n  Animate.prototype.componentDidMount = function () {\n    var _this = this;\n\n    var visualElement = this.props.visualElement;\n    visualElement.animateMotionValue = startAnimation;\n    visualElement.enableLayoutProjection();\n    this.unsubLayoutReady = visualElement.onLayoutUpdate(this.animate);\n\n    visualElement.layoutSafeToRemove = function () {\n      return _this.safeToRemove();\n    };\n\n    addScaleCorrection(defaultScaleCorrectors);\n  };\n\n  Animate.prototype.componentWillUnmount = function () {\n    var _this = this;\n\n    this.unsubLayoutReady();\n    eachAxis(function (axis) {\n      var _a, _b;\n\n      return (_b = (_a = _this.stopAxisAnimation)[axis]) === null || _b === void 0 ? void 0 : _b.call(_a);\n    });\n  };\n  /**\n   * TODO: This manually performs animations on the visualElement's layout progress\n   * values. It'd be preferable to amend the startLayoutAxisAnimation\n   * API to accept more custom animations like this.\n   */\n\n\n  Animate.prototype.animateAxis = function (axis, target, origin, _a) {\n    var _this = this;\n\n    var _b, _c;\n\n    var _d = _a === void 0 ? {} : _a,\n        transition = _d.transition,\n        isRelative = _d.isRelative;\n    /**\n     * If we're not animating to a new target, don't run this animation\n     */\n\n\n    if (this.isAnimating[axis] && axisIsEqual(target, this.currentAnimationTarget[axis])) {\n      return;\n    }\n\n    (_c = (_b = this.stopAxisAnimation)[axis]) === null || _c === void 0 ? void 0 : _c.call(_b);\n    this.isAnimating[axis] = true;\n    var visualElement = this.props.visualElement;\n    var frameTarget = this.frameTarget[axis];\n    var layoutProgress = visualElement.getProjectionAnimationProgress()[axis];\n    /**\n     * Set layout progress back to 0. We set it twice to hard-reset any velocity that might\n     * be re-incoporated into a subsequent spring animation.\n     */\n\n    layoutProgress.clearListeners();\n    layoutProgress.set(0);\n    layoutProgress.set(0);\n    /**\n     * Create an animation function to run once per frame. This will tween the visual bounding box from\n     * origin to target using the latest progress value.\n     */\n\n    var frame = function frame() {\n      // Convert the latest layoutProgress, which is a value from 0-1000, into a 0-1 progress\n      var p = layoutProgress.get() / progressTarget; // Tween the axis and update the visualElement with the latest values\n\n      tweenAxis(frameTarget, origin, target, p);\n      visualElement.setProjectionTargetAxis(axis, frameTarget.min, frameTarget.max, isRelative);\n    }; // Synchronously run a frame to ensure there's no flash of the uncorrected bounding box.\n\n\n    frame(); // Create a function to stop animation on this specific axis\n\n    var unsubscribeProgress = layoutProgress.onChange(frame);\n\n    this.stopAxisAnimation[axis] = function () {\n      _this.isAnimating[axis] = false;\n      layoutProgress.stop();\n      unsubscribeProgress();\n    };\n\n    this.currentAnimationTarget[axis] = target;\n    var layoutTransition = transition || visualElement.getDefaultTransition() || defaultLayoutTransition; // Start the animation on this axis\n\n    var animation = startAnimation(axis === \"x\" ? \"layoutX\" : \"layoutY\", layoutProgress, progressTarget, layoutTransition && getValueTransition(layoutTransition, \"layout\")).then(this.stopAxisAnimation[axis]);\n    return animation;\n  };\n\n  Animate.prototype.safeToRemove = function () {\n    var _a, _b;\n\n    (_b = (_a = this.props).safeToRemove) === null || _b === void 0 ? void 0 : _b.call(_a);\n  };\n\n  Animate.prototype.render = function () {\n    return null;\n  };\n\n  return Animate;\n}(React.Component);\n\nfunction AnimateLayoutContextProvider(props) {\n  var _a = __read(usePresence(), 2),\n      safeToRemove = _a[1];\n\n  return React.createElement(Animate, __assign({}, props, {\n    safeToRemove: safeToRemove\n  }));\n}\n\nfunction hasMoved(a, b) {\n  return !isZeroBox(a) && !isZeroBox(b) && (!axisIsEqual(a.x, b.x) || !axisIsEqual(a.y, b.y));\n}\n\nvar zeroAxis = {\n  min: 0,\n  max: 0\n};\n\nfunction isZeroBox(a) {\n  return axisIsEqual(a.x, zeroAxis) && axisIsEqual(a.y, zeroAxis);\n}\n\nfunction axisIsEqual(a, b) {\n  return a.min === b.min && a.max === b.max;\n}\n\nvar defaultLayoutTransition = {\n  duration: 0.45,\n  ease: [0.4, 0, 0.1, 1]\n};\n\nfunction isProvidedCorrectDataForRelativeSharedLayout(prevParent, originBox, targetBox) {\n  return prevParent || !prevParent && !(originBox || targetBox);\n}\n\nexport { AnimateLayoutContextProvider };","import { __extends, __assign } from 'tslib';\nimport React__default, { useContext } from 'react';\nimport { isSharedLayout, SharedLayoutContext, FramerTreeLayoutContext } from '../../../context/SharedLayoutContext.js';\nimport { snapshotViewportBox } from '../../../render/dom/projection/utils.js';\n/**\n * This component is responsible for scheduling the measuring of the motion component\n */\n\nvar Measure = function (_super) {\n  __extends(Measure, _super);\n\n  function Measure() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * If this is a child of a SyncContext, register the VisualElement with it on mount.\n   */\n\n\n  Measure.prototype.componentDidMount = function () {\n    var _a = this.props,\n        syncLayout = _a.syncLayout,\n        framerSyncLayout = _a.framerSyncLayout,\n        visualElement = _a.visualElement;\n    isSharedLayout(syncLayout) && syncLayout.register(visualElement);\n    isSharedLayout(framerSyncLayout) && framerSyncLayout.register(visualElement);\n    visualElement.onUnmount(function () {\n      if (isSharedLayout(syncLayout)) {\n        syncLayout.remove(visualElement);\n      }\n\n      if (isSharedLayout(framerSyncLayout)) {\n        framerSyncLayout.remove(visualElement);\n      }\n    });\n  };\n  /**\n   * If this is a child of a SyncContext, notify it that it needs to re-render. It will then\n   * handle the snapshotting.\n   *\n   * If it is stand-alone component, add it to the batcher.\n   */\n\n\n  Measure.prototype.getSnapshotBeforeUpdate = function () {\n    var _a = this.props,\n        syncLayout = _a.syncLayout,\n        visualElement = _a.visualElement;\n\n    if (isSharedLayout(syncLayout)) {\n      syncLayout.syncUpdate();\n    } else {\n      snapshotViewportBox(visualElement);\n      syncLayout.add(visualElement);\n    }\n\n    return null;\n  };\n\n  Measure.prototype.componentDidUpdate = function () {\n    var syncLayout = this.props.syncLayout;\n    if (!isSharedLayout(syncLayout)) syncLayout.flush();\n  };\n\n  Measure.prototype.render = function () {\n    return null;\n  };\n\n  return Measure;\n}(React__default.Component);\n\nfunction MeasureContextProvider(props) {\n  var syncLayout = useContext(SharedLayoutContext);\n  var framerSyncLayout = useContext(FramerTreeLayoutContext);\n  return React__default.createElement(Measure, __assign({}, props, {\n    syncLayout: syncLayout,\n    framerSyncLayout: framerSyncLayout\n  }));\n}\n\nexport { MeasureContextProvider };","import { AnimateLayoutContextProvider } from './Animate.js';\nimport { MeasureContextProvider } from './Measure.js';\nvar layoutAnimations = {\n  measureLayout: MeasureContextProvider,\n  layoutAnimation: AnimateLayoutContextProvider\n};\nexport { layoutAnimations };","import { axisBox, delta } from '../../utils/geometry/index.js';\n\nvar createProjectionState = function createProjectionState() {\n  return {\n    isEnabled: false,\n    isHydrated: false,\n    isTargetLocked: false,\n    target: axisBox(),\n    targetFinal: axisBox()\n  };\n};\n\nfunction createLayoutState() {\n  return {\n    isHydrated: false,\n    layout: axisBox(),\n    layoutCorrected: axisBox(),\n    treeScale: {\n      x: 1,\n      y: 1\n    },\n    delta: delta(),\n    deltaFinal: delta(),\n    deltaTransform: \"\"\n  };\n}\n\nvar zeroLayout = createLayoutState();\nexport { createLayoutState, createProjectionState, zeroLayout };","import { zeroLayout } from '../../utils/state.js';\n/**\n * Build a transform style that takes a calculated delta between the element's current\n * space on screen and projects it into the desired space.\n */\n\nfunction buildLayoutProjectionTransform(_a, treeScale, latestTransform) {\n  var x = _a.x,\n      y = _a.y;\n  /**\n   * The translations we use to calculate are always relative to the viewport coordinate space.\n   * But when we apply scales, we also scale the coordinate space of an element and its children.\n   * For instance if we have a treeScale (the culmination of all parent scales) of 0.5 and we need\n   * to move an element 100 pixels, we actually need to move it 200 in within that scaled space.\n   */\n\n  var xTranslate = x.translate / treeScale.x;\n  var yTranslate = y.translate / treeScale.y;\n  var transform = \"translate3d(\" + xTranslate + \"px, \" + yTranslate + \"px, 0) \";\n\n  if (latestTransform) {\n    var rotate = latestTransform.rotate,\n        rotateX = latestTransform.rotateX,\n        rotateY = latestTransform.rotateY;\n    if (rotate) transform += \"rotate(\" + rotate + \") \";\n    if (rotateX) transform += \"rotateX(\" + rotateX + \") \";\n    if (rotateY) transform += \"rotateY(\" + rotateY + \") \";\n  }\n\n  transform += \"scale(\" + x.scale + \", \" + y.scale + \")\";\n  return !latestTransform && transform === identityProjection ? \"\" : transform;\n}\n/**\n * Take the calculated delta origin and apply it as a transform string.\n */\n\n\nfunction buildLayoutProjectionTransformOrigin(_a) {\n  var deltaFinal = _a.deltaFinal;\n  return deltaFinal.x.origin * 100 + \"% \" + deltaFinal.y.origin * 100 + \"% 0\";\n}\n\nvar identityProjection = buildLayoutProjectionTransform(zeroLayout.delta, zeroLayout.treeScale, {\n  x: 1,\n  y: 1\n});\nexport { buildLayoutProjectionTransform, buildLayoutProjectionTransformOrigin, identityProjection };","import { __spreadArray, __read } from 'tslib';\nimport { SubscriptionManager } from '../../utils/subscription-manager.js';\nvar names = [\"LayoutMeasure\", \"BeforeLayoutMeasure\", \"LayoutUpdate\", \"ViewportBoxUpdate\", \"Update\", \"Render\", \"AnimationComplete\", \"LayoutAnimationComplete\", \"AnimationStart\", \"SetAxisTarget\", \"Unmount\"];\n\nfunction createLifecycles() {\n  var managers = names.map(function () {\n    return new SubscriptionManager();\n  });\n  var propSubscriptions = {};\n  var lifecycles = {\n    clearAllListeners: function clearAllListeners() {\n      return managers.forEach(function (manager) {\n        return manager.clear();\n      });\n    },\n    updatePropListeners: function updatePropListeners(props) {\n      return names.forEach(function (name) {\n        var _a;\n\n        (_a = propSubscriptions[name]) === null || _a === void 0 ? void 0 : _a.call(propSubscriptions);\n        var on = \"on\" + name;\n        var propListener = props[on];\n\n        if (propListener) {\n          propSubscriptions[name] = lifecycles[on](propListener);\n        }\n      });\n    }\n  };\n  managers.forEach(function (manager, i) {\n    lifecycles[\"on\" + names[i]] = function (handler) {\n      return manager.add(handler);\n    };\n\n    lifecycles[\"notify\" + names[i]] = function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      return manager.notify.apply(manager, __spreadArray([], __read(args)));\n    };\n  });\n  return lifecycles;\n}\n\nexport { createLifecycles };","import { resetBox, applyTreeDeltas } from '../../utils/geometry/delta-apply.js';\nimport { updateBoxDelta } from '../../utils/geometry/delta-calc.js';\n\nfunction updateLayoutDeltas(_a, _b, treePath, transformOrigin) {\n  var delta = _a.delta,\n      layout = _a.layout,\n      layoutCorrected = _a.layoutCorrected,\n      treeScale = _a.treeScale;\n  var target = _b.target;\n  /**\n   * Reset the corrected box with the latest values from box, as we're then going\n   * to perform mutative operations on it.\n   */\n\n  resetBox(layoutCorrected, layout);\n  /**\n   * Apply all the parent deltas to this box to produce the corrected box. This\n   * is the layout box, as it will appear on screen as a result of the transforms of its parents.\n   */\n\n  applyTreeDeltas(layoutCorrected, treeScale, treePath);\n  /**\n   * Update the delta between the corrected box and the target box before user-set transforms were applied.\n   * This will allow us to calculate the corrected borderRadius and boxShadow to compensate\n   * for our layout reprojection, but still allow them to be scaled correctly by the user.\n   * It might be that to simplify this we may want to accept that user-set scale is also corrected\n   * and we wouldn't have to keep and calc both deltas, OR we could support a user setting\n   * to allow people to choose whether these styles are corrected based on just the\n   * layout reprojection or the final bounding box.\n   */\n\n  updateBoxDelta(delta, layoutCorrected, target, transformOrigin);\n}\n\nexport { updateLayoutDeltas };","import { addUniqueItem, removeItem } from '../../utils/array.js';\nimport { compareByDepth } from './compare-by-depth.js';\n\nvar FlatTree = function () {\n  function FlatTree() {\n    this.children = [];\n    this.isDirty = false;\n  }\n\n  FlatTree.prototype.add = function (child) {\n    addUniqueItem(this.children, child);\n    this.isDirty = true;\n  };\n\n  FlatTree.prototype.remove = function (child) {\n    removeItem(this.children, child);\n    this.isDirty = true;\n  };\n\n  FlatTree.prototype.forEach = function (callback) {\n    this.isDirty && this.children.sort(compareByDepth);\n    this.isDirty = false;\n    this.children.forEach(callback);\n  };\n\n  return FlatTree;\n}();\n\nexport { FlatTree };","import { __assign, __spreadArray, __read } from 'tslib';\nimport sync, { cancelSync } from 'framesync';\nimport { pipe } from 'popmotion';\nimport { Presence } from '../components/AnimateSharedLayout/types.js';\nimport { eachAxis } from '../utils/each-axis.js';\nimport { axisBox } from '../utils/geometry/index.js';\nimport { removeBoxTransforms, applyBoxTransforms } from '../utils/geometry/delta-apply.js';\nimport { calcRelativeBox, updateBoxDelta } from '../utils/geometry/delta-calc.js';\nimport { motionValue } from '../value/index.js';\nimport { isMotionValue } from '../value/utils/is-motion-value.js';\nimport { buildLayoutProjectionTransform } from './html/utils/build-projection-transform.js';\nimport { variantPriorityOrder } from './utils/animation-state.js';\nimport { createLifecycles } from './utils/lifecycles.js';\nimport { updateMotionValuesFromProps } from './utils/motion-values.js';\nimport { updateLayoutDeltas } from './utils/projection.js';\nimport { createLayoutState, createProjectionState } from './utils/state.js';\nimport { FlatTree } from './utils/flat-tree.js';\nimport { checkIfControllingVariants, checkIfVariantNode, isVariantLabel } from './utils/variants.js';\nimport { setCurrentViewportBox } from './dom/projection/relative-set.js';\nimport { isDraggable } from './utils/is-draggable.js';\n\nvar visualElement = function visualElement(_a) {\n  var _b = _a.treeType,\n      treeType = _b === void 0 ? \"\" : _b,\n      build = _a.build,\n      _getBaseTarget = _a.getBaseTarget,\n      _makeTargetAnimatable = _a.makeTargetAnimatable,\n      _measureViewportBox = _a.measureViewportBox,\n      renderInstance = _a.render,\n      readValueFromInstance = _a.readValueFromInstance,\n      _resetTransform = _a.resetTransform,\n      _restoreTransform = _a.restoreTransform,\n      removeValueFromRenderState = _a.removeValueFromRenderState,\n      _sortNodePosition = _a.sortNodePosition,\n      scrapeMotionValuesFromProps = _a.scrapeMotionValuesFromProps;\n  return function (_a, options) {\n    var parent = _a.parent,\n        props = _a.props,\n        presenceId = _a.presenceId,\n        blockInitialAnimation = _a.blockInitialAnimation,\n        visualState = _a.visualState;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    var latestValues = visualState.latestValues,\n        renderState = visualState.renderState;\n    /**\n     * The instance of the render-specific node that will be hydrated by the\n     * exposed React ref. So for example, this visual element can host a\n     * HTMLElement, plain object, or Three.js object. The functions provided\n     * in VisualElementConfig allow us to interface with this instance.\n     */\n\n    var instance;\n    /**\n     * Manages the subscriptions for a visual element's lifecycle, for instance\n     * onRender and onViewportBoxUpdate.\n     */\n\n    var lifecycles = createLifecycles();\n    /**\n     *\n     */\n\n    var projection = createProjectionState();\n    /**\n     * A reference to the nearest projecting parent. This is either\n     * undefined if we haven't looked for the nearest projecting parent,\n     * false if there is no parent performing layout projection, or a reference\n     * to the projecting parent.\n     */\n\n    var projectionParent;\n    /**\n     * This is a reference to the visual state of the \"lead\" visual element.\n     * Usually, this will be this visual element. But if it shares a layoutId\n     * with other visual elements, only one of them will be designated lead by\n     * AnimateSharedLayout. All the other visual elements will take on the visual\n     * appearance of the lead while they crossfade to it.\n     */\n\n    var leadProjection = projection;\n    var leadLatestValues = latestValues;\n    var unsubscribeFromLeadVisualElement;\n    /**\n     * The latest layout measurements and calculated projections. This\n     * is seperate from the target projection data in visualState as\n     * many visual elements might point to the same piece of visualState as\n     * a target, whereas they might each have different layouts and thus\n     * projection calculations needed to project into the same viewport box.\n     */\n\n    var layoutState = createLayoutState();\n    /**\n     *\n     */\n\n    var crossfader;\n    /**\n     * Keep track of whether the viewport box has been updated since the\n     * last time the layout projection was re-calculated.\n     */\n\n    var hasViewportBoxUpdated = false;\n    /**\n     * A map of all motion values attached to this visual element. Motion\n     * values are source of truth for any given animated value. A motion\n     * value might be provided externally by the component via props.\n     */\n\n    var values = new Map();\n    /**\n     * A map of every subscription that binds the provided or generated\n     * motion values onChange listeners to this visual element.\n     */\n\n    var valueSubscriptions = new Map();\n    /**\n     * A reference to the previously-provided motion values as returned\n     * from scrapeMotionValuesFromProps. We use the keys in here to determine\n     * if any motion values need to be removed after props are updated.\n     */\n\n    var prevMotionValues = {};\n    /**\n     * x/y motion values that track the progress of initiated layout\n     * animations.\n     *\n     * TODO: Target for removal\n     */\n\n    var projectionTargetProgress;\n    /**\n     * When values are removed from all animation props we need to search\n     * for a fallback value to animate to. These values are tracked in baseTarget.\n     */\n\n    var baseTarget = __assign({}, latestValues); // Internal methods ========================\n\n    /**\n     * On mount, this will be hydrated with a callback to disconnect\n     * this visual element from its parent on unmount.\n     */\n\n\n    var removeFromVariantTree;\n    /**\n     *\n     */\n\n    function render() {\n      if (!instance) return;\n\n      if (element.isProjectionReady()) {\n        /**\n         * Apply the latest user-set transforms to the targetBox to produce the targetBoxFinal.\n         * This is the final box that we will then project into by calculating a transform delta and\n         * applying it to the corrected box.\n         */\n        applyBoxTransforms(leadProjection.targetFinal, leadProjection.target, leadLatestValues);\n        /**\n         * Update the delta between the corrected box and the final target box, after\n         * user-set transforms are applied to it. This will be used by the renderer to\n         * create a transform style that will reproject the element from its actual layout\n         * into the desired bounding box.\n         */\n\n        updateBoxDelta(layoutState.deltaFinal, layoutState.layoutCorrected, leadProjection.targetFinal, latestValues);\n      }\n\n      triggerBuild();\n      renderInstance(instance, renderState);\n    }\n\n    function triggerBuild() {\n      var valuesToRender = latestValues;\n\n      if (crossfader && crossfader.isActive()) {\n        var crossfadedValues = crossfader.getCrossfadeState(element);\n        if (crossfadedValues) valuesToRender = crossfadedValues;\n      }\n\n      build(element, renderState, valuesToRender, leadProjection, layoutState, options, props);\n    }\n\n    function update() {\n      lifecycles.notifyUpdate(latestValues);\n    }\n\n    function updateLayoutProjection() {\n      if (!element.isProjectionReady()) return;\n      var delta = layoutState.delta,\n          treeScale = layoutState.treeScale;\n      var prevTreeScaleX = treeScale.x;\n      var prevTreeScaleY = treeScale.y;\n      var prevDeltaTransform = layoutState.deltaTransform;\n      updateLayoutDeltas(layoutState, leadProjection, element.path, latestValues);\n      hasViewportBoxUpdated && element.notifyViewportBoxUpdate(leadProjection.target, delta);\n      hasViewportBoxUpdated = false;\n      var deltaTransform = buildLayoutProjectionTransform(delta, treeScale);\n\n      if (deltaTransform !== prevDeltaTransform || // Also compare calculated treeScale, for values that rely on this only for scale correction\n      prevTreeScaleX !== treeScale.x || prevTreeScaleY !== treeScale.y) {\n        element.scheduleRender();\n      }\n\n      layoutState.deltaTransform = deltaTransform;\n    }\n\n    function _updateTreeLayoutProjection() {\n      element.layoutTree.forEach(fireUpdateLayoutProjection);\n    }\n    /**\n     *\n     */\n\n\n    function bindToMotionValue(key, value) {\n      var removeOnChange = value.onChange(function (latestValue) {\n        latestValues[key] = latestValue;\n        props.onUpdate && sync.update(update, false, true);\n      });\n      var removeOnRenderRequest = value.onRenderRequest(element.scheduleRender);\n      valueSubscriptions.set(key, function () {\n        removeOnChange();\n        removeOnRenderRequest();\n      });\n    }\n    /**\n     * Any motion values that are provided to the element when created\n     * aren't yet bound to the element, as this would technically be impure.\n     * However, we iterate through the motion values and set them to the\n     * initial values for this component.\n     *\n     * TODO: This is impure and we should look at changing this to run on mount.\n     * Doing so will break some tests but this isn't neccessarily a breaking change,\n     * more a reflection of the test.\n     */\n\n\n    var initialMotionValues = scrapeMotionValuesFromProps(props);\n\n    for (var key in initialMotionValues) {\n      var value = initialMotionValues[key];\n\n      if (latestValues[key] !== undefined && isMotionValue(value)) {\n        value.set(latestValues[key], false);\n      }\n    }\n    /**\n     * Determine what role this visual element should take in the variant tree.\n     */\n\n\n    var isControllingVariants = checkIfControllingVariants(props);\n    var isVariantNode = checkIfVariantNode(props);\n\n    var element = __assign(__assign({\n      treeType: treeType,\n\n      /**\n       * This is a mirror of the internal instance prop, which keeps\n       * VisualElement type-compatible with React's RefObject.\n       */\n      current: null,\n\n      /**\n       * The depth of this visual element within the visual element tree.\n       */\n      depth: parent ? parent.depth + 1 : 0,\n      parent: parent,\n      children: new Set(),\n\n      /**\n       * An ancestor path back to the root visual element. This is used\n       * by layout projection to quickly recurse back up the tree.\n       */\n      path: parent ? __spreadArray(__spreadArray([], __read(parent.path)), [parent]) : [],\n      layoutTree: parent ? parent.layoutTree : new FlatTree(),\n\n      /**\n       *\n       */\n      presenceId: presenceId,\n      projection: projection,\n\n      /**\n       * If this component is part of the variant tree, it should track\n       * any children that are also part of the tree. This is essentially\n       * a shadow tree to simplify logic around how to stagger over children.\n       */\n      variantChildren: isVariantNode ? new Set() : undefined,\n\n      /**\n       * Whether this instance is visible. This can be changed imperatively\n       * by AnimateSharedLayout, is analogous to CSS's visibility in that\n       * hidden elements should take up layout, and needs enacting by the configured\n       * render function.\n       */\n      isVisible: undefined,\n\n      /**\n       * Normally, if a component is controlled by a parent's variants, it can\n       * rely on that ancestor to trigger animations further down the tree.\n       * However, if a component is created after its parent is mounted, the parent\n       * won't trigger that mount animation so the child needs to.\n       *\n       * TODO: This might be better replaced with a method isParentMounted\n       */\n      manuallyAnimateOnMount: Boolean(parent === null || parent === void 0 ? void 0 : parent.isMounted()),\n\n      /**\n       * This can be set by AnimatePresence to force components that mount\n       * at the same time as it to mount as if they have initial={false} set.\n       */\n      blockInitialAnimation: blockInitialAnimation,\n\n      /**\n       * Determine whether this component has mounted yet. This is mostly used\n       * by variant children to determine whether they need to trigger their\n       * own animations on mount.\n       */\n      isMounted: function isMounted() {\n        return Boolean(instance);\n      },\n      mount: function mount(newInstance) {\n        instance = element.current = newInstance;\n        element.pointTo(element);\n\n        if (isVariantNode && parent && !isControllingVariants) {\n          removeFromVariantTree = parent === null || parent === void 0 ? void 0 : parent.addVariantChild(element);\n        }\n\n        parent === null || parent === void 0 ? void 0 : parent.children.add(element);\n      },\n\n      /**\n       *\n       */\n      unmount: function unmount() {\n        cancelSync.update(update);\n        cancelSync.render(render);\n        cancelSync.preRender(element.updateLayoutProjection);\n        valueSubscriptions.forEach(function (remove) {\n          return remove();\n        });\n        element.stopLayoutAnimation();\n        element.layoutTree.remove(element);\n        removeFromVariantTree === null || removeFromVariantTree === void 0 ? void 0 : removeFromVariantTree();\n        parent === null || parent === void 0 ? void 0 : parent.children.delete(element);\n        unsubscribeFromLeadVisualElement === null || unsubscribeFromLeadVisualElement === void 0 ? void 0 : unsubscribeFromLeadVisualElement();\n        lifecycles.clearAllListeners();\n      },\n\n      /**\n       * Add a child visual element to our set of children.\n       */\n      addVariantChild: function addVariantChild(child) {\n        var _a;\n\n        var closestVariantNode = element.getClosestVariantNode();\n\n        if (closestVariantNode) {\n          (_a = closestVariantNode.variantChildren) === null || _a === void 0 ? void 0 : _a.add(child);\n          return function () {\n            return closestVariantNode.variantChildren.delete(child);\n          };\n        }\n      },\n      sortNodePosition: function sortNodePosition(other) {\n        /**\n         * If these nodes aren't even of the same type we can't compare their depth.\n         */\n        if (!_sortNodePosition || treeType !== other.treeType) return 0;\n        return _sortNodePosition(element.getInstance(), other.getInstance());\n      },\n\n      /**\n       * Returns the closest variant node in the tree starting from\n       * this visual element.\n       */\n      getClosestVariantNode: function getClosestVariantNode() {\n        return isVariantNode ? element : parent === null || parent === void 0 ? void 0 : parent.getClosestVariantNode();\n      },\n\n      /**\n       * A method that schedules an update to layout projections throughout\n       * the tree. We inherit from the parent so there's only ever one\n       * job scheduled on the next frame - that of the root visual element.\n       */\n      scheduleUpdateLayoutProjection: parent ? parent.scheduleUpdateLayoutProjection : function () {\n        return sync.preRender(element.updateTreeLayoutProjection, false, true);\n      },\n\n      /**\n       * Expose the latest layoutId prop.\n       */\n      getLayoutId: function getLayoutId() {\n        return props.layoutId;\n      },\n\n      /**\n       * Returns the current instance.\n       */\n      getInstance: function getInstance() {\n        return instance;\n      },\n\n      /**\n       * Get/set the latest static values.\n       */\n      getStaticValue: function getStaticValue(key) {\n        return latestValues[key];\n      },\n      setStaticValue: function setStaticValue(key, value) {\n        return latestValues[key] = value;\n      },\n\n      /**\n       * Returns the latest motion value state. Currently only used to take\n       * a snapshot of the visual element - perhaps this can return the whole\n       * visual state\n       */\n      getLatestValues: function getLatestValues() {\n        return latestValues;\n      },\n\n      /**\n       * Set the visiblity of the visual element. If it's changed, schedule\n       * a render to reflect these changes.\n       */\n      setVisibility: function setVisibility(visibility) {\n        if (element.isVisible === visibility) return;\n        element.isVisible = visibility;\n        element.scheduleRender();\n      },\n\n      /**\n       * Make a target animatable by Popmotion. For instance, if we're\n       * trying to animate width from 100px to 100vw we need to measure 100vw\n       * in pixels to determine what we really need to animate to. This is also\n       * pluggable to support Framer's custom value types like Color,\n       * and CSS variables.\n       */\n      makeTargetAnimatable: function makeTargetAnimatable(target, canMutate) {\n        if (canMutate === void 0) {\n          canMutate = true;\n        }\n\n        return _makeTargetAnimatable(element, target, props, canMutate);\n      },\n      // Motion values ========================\n\n      /**\n       * Add a motion value and bind it to this visual element.\n       */\n      addValue: function addValue(key, value) {\n        // Remove existing value if it exists\n        if (element.hasValue(key)) element.removeValue(key);\n        values.set(key, value);\n        latestValues[key] = value.get();\n        bindToMotionValue(key, value);\n      },\n\n      /**\n       * Remove a motion value and unbind any active subscriptions.\n       */\n      removeValue: function removeValue(key) {\n        var _a;\n\n        values.delete(key);\n        (_a = valueSubscriptions.get(key)) === null || _a === void 0 ? void 0 : _a();\n        valueSubscriptions.delete(key);\n        delete latestValues[key];\n        removeValueFromRenderState(key, renderState);\n      },\n\n      /**\n       * Check whether we have a motion value for this key\n       */\n      hasValue: function hasValue(key) {\n        return values.has(key);\n      },\n\n      /**\n       * Get a motion value for this key. If called with a default\n       * value, we'll create one if none exists.\n       */\n      getValue: function getValue(key, defaultValue) {\n        var value = values.get(key);\n\n        if (value === undefined && defaultValue !== undefined) {\n          value = motionValue(defaultValue);\n          element.addValue(key, value);\n        }\n\n        return value;\n      },\n\n      /**\n       * Iterate over our motion values.\n       */\n      forEachValue: function forEachValue(callback) {\n        return values.forEach(callback);\n      },\n\n      /**\n       * If we're trying to animate to a previously unencountered value,\n       * we need to check for it in our state and as a last resort read it\n       * directly from the instance (which might have performance implications).\n       */\n      readValue: function readValue(key) {\n        var _a;\n\n        return (_a = latestValues[key]) !== null && _a !== void 0 ? _a : readValueFromInstance(instance, key, options);\n      },\n\n      /**\n       * Set the base target to later animate back to. This is currently\n       * only hydrated on creation and when we first read a value.\n       */\n      setBaseTarget: function setBaseTarget(key, value) {\n        baseTarget[key] = value;\n      },\n\n      /**\n       * Find the base target for a value thats been removed from all animation\n       * props.\n       */\n      getBaseTarget: function getBaseTarget(key) {\n        if (_getBaseTarget) {\n          var target = _getBaseTarget(props, key);\n\n          if (target !== undefined && !isMotionValue(target)) return target;\n        }\n\n        return baseTarget[key];\n      }\n    }, lifecycles), {\n      /**\n       * Build the renderer state based on the latest visual state.\n       */\n      build: function build() {\n        triggerBuild();\n        return renderState;\n      },\n\n      /**\n       * Schedule a render on the next animation frame.\n       */\n      scheduleRender: function scheduleRender() {\n        sync.render(render, false, true);\n      },\n\n      /**\n       * Synchronously fire render. It's prefered that we batch renders but\n       * in many circumstances, like layout measurement, we need to run this\n       * synchronously. However in those instances other measures should be taken\n       * to batch reads/writes.\n       */\n      syncRender: render,\n\n      /**\n       * Update the provided props. Ensure any newly-added motion values are\n       * added to our map, old ones removed, and listeners updated.\n       */\n      setProps: function setProps(newProps) {\n        props = newProps;\n        lifecycles.updatePropListeners(newProps);\n        prevMotionValues = updateMotionValuesFromProps(element, scrapeMotionValuesFromProps(props), prevMotionValues);\n      },\n      getProps: function getProps() {\n        return props;\n      },\n      // Variants ==============================\n\n      /**\n       * Returns the variant definition with a given name.\n       */\n      getVariant: function getVariant(name) {\n        var _a;\n\n        return (_a = props.variants) === null || _a === void 0 ? void 0 : _a[name];\n      },\n\n      /**\n       * Returns the defined default transition on this component.\n       */\n      getDefaultTransition: function getDefaultTransition() {\n        return props.transition;\n      },\n\n      /**\n       * Used by child variant nodes to get the closest ancestor variant props.\n       */\n      getVariantContext: function getVariantContext(startAtParent) {\n        if (startAtParent === void 0) {\n          startAtParent = false;\n        }\n\n        if (startAtParent) return parent === null || parent === void 0 ? void 0 : parent.getVariantContext();\n\n        if (!isControllingVariants) {\n          var context_1 = (parent === null || parent === void 0 ? void 0 : parent.getVariantContext()) || {};\n\n          if (props.initial !== undefined) {\n            context_1.initial = props.initial;\n          }\n\n          return context_1;\n        }\n\n        var context = {};\n\n        for (var i = 0; i < numVariantProps; i++) {\n          var name_1 = variantProps[i];\n          var prop = props[name_1];\n\n          if (isVariantLabel(prop) || prop === false) {\n            context[name_1] = prop;\n          }\n        }\n\n        return context;\n      },\n      // Layout projection ==============================\n\n      /**\n       * Enable layout projection for this visual element. Won't actually\n       * occur until we also have hydrated layout measurements.\n       */\n      enableLayoutProjection: function enableLayoutProjection() {\n        projection.isEnabled = true;\n        element.layoutTree.add(element);\n      },\n\n      /**\n       * Lock the projection target, for instance when dragging, so\n       * nothing else can try and animate it.\n       */\n      lockProjectionTarget: function lockProjectionTarget() {\n        projection.isTargetLocked = true;\n      },\n      unlockProjectionTarget: function unlockProjectionTarget() {\n        element.stopLayoutAnimation();\n        projection.isTargetLocked = false;\n      },\n      getLayoutState: function getLayoutState() {\n        return layoutState;\n      },\n      setCrossfader: function setCrossfader(newCrossfader) {\n        crossfader = newCrossfader;\n      },\n      isProjectionReady: function isProjectionReady() {\n        return projection.isEnabled && projection.isHydrated && layoutState.isHydrated;\n      },\n\n      /**\n       * Start a layout animation on a given axis.\n       */\n      startLayoutAnimation: function startLayoutAnimation(axis, transition, isRelative) {\n        if (isRelative === void 0) {\n          isRelative = false;\n        }\n\n        var progress = element.getProjectionAnimationProgress()[axis];\n\n        var _a = isRelative ? projection.relativeTarget[axis] : projection.target[axis],\n            min = _a.min,\n            max = _a.max;\n\n        var length = max - min;\n        progress.clearListeners();\n        progress.set(min);\n        progress.set(min); // Set twice to hard-reset velocity\n\n        progress.onChange(function (v) {\n          element.setProjectionTargetAxis(axis, v, v + length, isRelative);\n        });\n        return element.animateMotionValue(axis, progress, 0, transition);\n      },\n\n      /**\n       * Stop layout animations.\n       */\n      stopLayoutAnimation: function stopLayoutAnimation() {\n        eachAxis(function (axis) {\n          return element.getProjectionAnimationProgress()[axis].stop();\n        });\n      },\n\n      /**\n       * Measure the current viewport box with or without transforms.\n       * Only measures axis-aligned boxes, rotate and skew must be manually\n       * removed with a re-render to work.\n       */\n      measureViewportBox: function measureViewportBox(withTransform) {\n        if (withTransform === void 0) {\n          withTransform = true;\n        }\n\n        var viewportBox = _measureViewportBox(instance, options);\n\n        if (!withTransform) removeBoxTransforms(viewportBox, latestValues);\n        return viewportBox;\n      },\n\n      /**\n       * Get the motion values tracking the layout animations on each\n       * axis. Lazy init if not already created.\n       */\n      getProjectionAnimationProgress: function getProjectionAnimationProgress() {\n        projectionTargetProgress || (projectionTargetProgress = {\n          x: motionValue(0),\n          y: motionValue(0)\n        });\n        return projectionTargetProgress;\n      },\n\n      /**\n       * Update the projection of a single axis. Schedule an update to\n       * the tree layout projection.\n       */\n      setProjectionTargetAxis: function setProjectionTargetAxis(axis, min, max, isRelative) {\n        if (isRelative === void 0) {\n          isRelative = false;\n        }\n\n        var target;\n\n        if (isRelative) {\n          if (!projection.relativeTarget) {\n            projection.relativeTarget = axisBox();\n          }\n\n          target = projection.relativeTarget[axis];\n        } else {\n          projection.relativeTarget = undefined;\n          target = projection.target[axis];\n        }\n\n        projection.isHydrated = true;\n        target.min = min;\n        target.max = max; // Flag that we want to fire the onViewportBoxUpdate event handler\n\n        hasViewportBoxUpdated = true;\n        lifecycles.notifySetAxisTarget();\n      },\n\n      /**\n       * Rebase the projection target on top of the provided viewport box\n       * or the measured layout. This ensures that non-animating elements\n       * don't fall out of sync differences in measurements vs projections\n       * after a page scroll or other relayout.\n       */\n      rebaseProjectionTarget: function rebaseProjectionTarget(force, box) {\n        if (box === void 0) {\n          box = layoutState.layout;\n        }\n\n        var _a = element.getProjectionAnimationProgress(),\n            x = _a.x,\n            y = _a.y;\n\n        var shouldRebase = !projection.relativeTarget && !projection.isTargetLocked && !x.isAnimating() && !y.isAnimating();\n\n        if (force || shouldRebase) {\n          eachAxis(function (axis) {\n            var _a = box[axis],\n                min = _a.min,\n                max = _a.max;\n            element.setProjectionTargetAxis(axis, min, max);\n          });\n        }\n      },\n\n      /**\n       * Notify the visual element that its layout is up-to-date.\n       * Currently Animate.tsx uses this to check whether a layout animation\n       * needs to be performed.\n       */\n      notifyLayoutReady: function notifyLayoutReady(config) {\n        setCurrentViewportBox(element);\n        element.notifyLayoutUpdate(layoutState.layout, element.prevViewportBox || layoutState.layout, config);\n      },\n\n      /**\n       * Temporarily reset the transform of the instance.\n       */\n      resetTransform: function resetTransform() {\n        return _resetTransform(element, instance, props);\n      },\n      restoreTransform: function restoreTransform() {\n        return _restoreTransform(instance, renderState);\n      },\n      updateLayoutProjection: updateLayoutProjection,\n      updateTreeLayoutProjection: function updateTreeLayoutProjection() {\n        element.layoutTree.forEach(fireResolveRelativeTargetBox);\n        /**\n         * Schedule the projection updates at the end of the current preRender\n         * step. This will ensure that all layout trees will first resolve\n         * relative projection boxes into viewport boxes, and *then*\n         * update projections.\n         */\n\n        sync.preRender(_updateTreeLayoutProjection, false, true); // sync.postRender(() => element.scheduleUpdateLayoutProjection())\n      },\n      getProjectionParent: function getProjectionParent() {\n        if (projectionParent === undefined) {\n          var foundParent = false; // Search backwards through the tree path\n\n          for (var i = element.path.length - 1; i >= 0; i--) {\n            var ancestor = element.path[i];\n\n            if (ancestor.projection.isEnabled) {\n              foundParent = ancestor;\n              break;\n            }\n          }\n\n          projectionParent = foundParent;\n        }\n\n        return projectionParent;\n      },\n      resolveRelativeTargetBox: function resolveRelativeTargetBox() {\n        var relativeParent = element.getProjectionParent();\n        if (!projection.relativeTarget || !relativeParent) return;\n        calcRelativeBox(projection, relativeParent.projection);\n\n        if (isDraggable(relativeParent)) {\n          var target = projection.target;\n          applyBoxTransforms(target, target, relativeParent.getLatestValues());\n        }\n      },\n      shouldResetTransform: function shouldResetTransform() {\n        return Boolean(props._layoutResetTransform);\n      },\n\n      /**\n       *\n       */\n      pointTo: function pointTo(newLead) {\n        leadProjection = newLead.projection;\n        leadLatestValues = newLead.getLatestValues();\n        /**\n         * Subscribe to lead component's layout animations\n         */\n\n        unsubscribeFromLeadVisualElement === null || unsubscribeFromLeadVisualElement === void 0 ? void 0 : unsubscribeFromLeadVisualElement();\n        unsubscribeFromLeadVisualElement = pipe(newLead.onSetAxisTarget(element.scheduleUpdateLayoutProjection), newLead.onLayoutAnimationComplete(function () {\n          var _a;\n\n          if (element.isPresent) {\n            element.presence = Presence.Present;\n          } else {\n            (_a = element.layoutSafeToRemove) === null || _a === void 0 ? void 0 : _a.call(element);\n          }\n        }));\n      },\n      // TODO: Clean this up\n      isPresent: true,\n      presence: Presence.Entering\n    });\n\n    return element;\n  };\n};\n\nfunction fireResolveRelativeTargetBox(child) {\n  child.resolveRelativeTargetBox();\n}\n\nfunction fireUpdateLayoutProjection(child) {\n  child.updateLayoutProjection();\n}\n\nvar variantProps = __spreadArray([\"initial\"], __read(variantPriorityOrder));\n\nvar numVariantProps = variantProps.length;\nexport { visualElement };","import { motionValue } from '../../value/index.js';\nimport { isMotionValue } from '../../value/utils/is-motion-value.js';\n\nfunction updateMotionValuesFromProps(element, next, prev) {\n  var _a;\n\n  for (var key in next) {\n    var nextValue = next[key];\n    var prevValue = prev[key];\n\n    if (isMotionValue(nextValue)) {\n      /**\n       * If this is a motion value found in props or style, we want to add it\n       * to our visual element's motion value map.\n       */\n      element.addValue(key, nextValue);\n    } else if (isMotionValue(prevValue)) {\n      /**\n       * If we're swapping to a new motion value, create a new motion value\n       * from that\n       */\n      element.addValue(key, motionValue(nextValue));\n    } else if (prevValue !== nextValue) {\n      /**\n       * If this is a flat value that has changed, update the motion value\n       * or create one if it doesn't exist. We only want to do this if we're\n       * not handling the value with our animation state.\n       */\n      if (element.hasValue(key)) {\n        var existingValue = element.getValue(key); // TODO: Only update values that aren't being animated or even looked at\n\n        !existingValue.hasAnimated && existingValue.set(nextValue);\n      } else {\n        element.addValue(key, motionValue((_a = element.getStaticValue(key)) !== null && _a !== void 0 ? _a : nextValue));\n      }\n    }\n  } // Handle removed values\n\n\n  for (var key in prev) {\n    if (next[key] === undefined) element.removeValue(key);\n  }\n\n  return next;\n}\n\nexport { updateMotionValuesFromProps };","import { calcRelativeOffset } from '../../../motion/features/layout/utils.js';\nimport { eachAxis } from '../../../utils/each-axis.js';\n\nfunction setCurrentViewportBox(visualElement) {\n  var projectionParent = visualElement.getProjectionParent();\n\n  if (!projectionParent) {\n    visualElement.rebaseProjectionTarget();\n    return;\n  }\n\n  var relativeOffset = calcRelativeOffset(projectionParent.getLayoutState().layout, visualElement.getLayoutState().layout);\n  eachAxis(function (axis) {\n    visualElement.setProjectionTargetAxis(axis, relativeOffset[axis].min, relativeOffset[axis].max, true);\n  });\n}\n\nexport { setCurrentViewportBox };","import { __assign, __read } from 'tslib';\nimport { number, px } from 'style-value-types';\nimport { isKeyframesTarget } from '../../../animation/utils/is-keyframes-target.js';\nimport { invariant } from 'hey-listen';\nimport { transformProps } from '../../html/utils/transform.js';\nimport { findDimensionValueType } from '../value-types/dimensions.js';\nvar positionalKeys = new Set([\"width\", \"height\", \"top\", \"left\", \"right\", \"bottom\", \"x\", \"y\"]);\n\nvar isPositionalKey = function isPositionalKey(key) {\n  return positionalKeys.has(key);\n};\n\nvar hasPositionalKey = function hasPositionalKey(target) {\n  return Object.keys(target).some(isPositionalKey);\n};\n\nvar setAndResetVelocity = function setAndResetVelocity(value, to) {\n  // Looks odd but setting it twice doesn't render, it'll just\n  // set both prev and current to the latest value\n  value.set(to, false);\n  value.set(to);\n};\n\nvar isNumOrPxType = function isNumOrPxType(v) {\n  return v === number || v === px;\n};\n\nvar BoundingBoxDimension;\n\n(function (BoundingBoxDimension) {\n  BoundingBoxDimension[\"width\"] = \"width\";\n  BoundingBoxDimension[\"height\"] = \"height\";\n  BoundingBoxDimension[\"left\"] = \"left\";\n  BoundingBoxDimension[\"right\"] = \"right\";\n  BoundingBoxDimension[\"top\"] = \"top\";\n  BoundingBoxDimension[\"bottom\"] = \"bottom\";\n})(BoundingBoxDimension || (BoundingBoxDimension = {}));\n\nvar getPosFromMatrix = function getPosFromMatrix(matrix, pos) {\n  return parseFloat(matrix.split(\", \")[pos]);\n};\n\nvar getTranslateFromMatrix = function getTranslateFromMatrix(pos2, pos3) {\n  return function (_bbox, _a) {\n    var transform = _a.transform;\n    if (transform === \"none\" || !transform) return 0;\n    var matrix3d = transform.match(/^matrix3d\\((.+)\\)$/);\n\n    if (matrix3d) {\n      return getPosFromMatrix(matrix3d[1], pos3);\n    } else {\n      var matrix = transform.match(/^matrix\\((.+)\\)$/);\n\n      if (matrix) {\n        return getPosFromMatrix(matrix[1], pos2);\n      } else {\n        return 0;\n      }\n    }\n  };\n};\n\nvar transformKeys = new Set([\"x\", \"y\", \"z\"]);\nvar nonTranslationalTransformKeys = transformProps.filter(function (key) {\n  return !transformKeys.has(key);\n});\n\nfunction removeNonTranslationalTransform(visualElement) {\n  var removedTransforms = [];\n  nonTranslationalTransformKeys.forEach(function (key) {\n    var value = visualElement.getValue(key);\n\n    if (value !== undefined) {\n      removedTransforms.push([key, value.get()]);\n      value.set(key.startsWith(\"scale\") ? 1 : 0);\n    }\n  }); // Apply changes to element before measurement\n\n  if (removedTransforms.length) visualElement.syncRender();\n  return removedTransforms;\n}\n\nvar positionalValues = {\n  // Dimensions\n  width: function width(_a) {\n    var x = _a.x;\n    return x.max - x.min;\n  },\n  height: function height(_a) {\n    var y = _a.y;\n    return y.max - y.min;\n  },\n  top: function top(_bbox, _a) {\n    var top = _a.top;\n    return parseFloat(top);\n  },\n  left: function left(_bbox, _a) {\n    var left = _a.left;\n    return parseFloat(left);\n  },\n  bottom: function bottom(_a, _b) {\n    var y = _a.y;\n    var top = _b.top;\n    return parseFloat(top) + (y.max - y.min);\n  },\n  right: function right(_a, _b) {\n    var x = _a.x;\n    var left = _b.left;\n    return parseFloat(left) + (x.max - x.min);\n  },\n  // Transform\n  x: getTranslateFromMatrix(4, 13),\n  y: getTranslateFromMatrix(5, 14)\n};\n\nvar convertChangedValueTypes = function convertChangedValueTypes(target, visualElement, changedKeys) {\n  var originBbox = visualElement.measureViewportBox();\n  var element = visualElement.getInstance();\n  var elementComputedStyle = getComputedStyle(element);\n  var display = elementComputedStyle.display,\n      top = elementComputedStyle.top,\n      left = elementComputedStyle.left,\n      bottom = elementComputedStyle.bottom,\n      right = elementComputedStyle.right,\n      transform = elementComputedStyle.transform;\n  var originComputedStyle = {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    transform: transform\n  }; // If the element is currently set to display: \"none\", make it visible before\n  // measuring the target bounding box\n\n  if (display === \"none\") {\n    visualElement.setStaticValue(\"display\", target.display || \"block\");\n  } // Apply the latest values (as set in checkAndConvertChangedValueTypes)\n\n\n  visualElement.syncRender();\n  var targetBbox = visualElement.measureViewportBox();\n  changedKeys.forEach(function (key) {\n    // Restore styles to their **calculated computed style**, not their actual\n    // originally set style. This allows us to animate between equivalent pixel units.\n    var value = visualElement.getValue(key);\n    setAndResetVelocity(value, positionalValues[key](originBbox, originComputedStyle));\n    target[key] = positionalValues[key](targetBbox, elementComputedStyle);\n  });\n  return target;\n};\n\nvar checkAndConvertChangedValueTypes = function checkAndConvertChangedValueTypes(visualElement, target, origin, transitionEnd) {\n  if (origin === void 0) {\n    origin = {};\n  }\n\n  if (transitionEnd === void 0) {\n    transitionEnd = {};\n  }\n\n  target = __assign({}, target);\n  transitionEnd = __assign({}, transitionEnd);\n  var targetPositionalKeys = Object.keys(target).filter(isPositionalKey); // We want to remove any transform values that could affect the element's bounding box before\n  // it's measured. We'll reapply these later.\n\n  var removedTransformValues = [];\n  var hasAttemptedToRemoveTransformValues = false;\n  var changedValueTypeKeys = [];\n  targetPositionalKeys.forEach(function (key) {\n    var value = visualElement.getValue(key);\n    if (!visualElement.hasValue(key)) return;\n    var from = origin[key];\n    var to = target[key];\n    var fromType = findDimensionValueType(from);\n    var toType; // TODO: The current implementation of this basically throws an error\n    // if you try and do value conversion via keyframes. There's probably\n    // a way of doing this but the performance implications would need greater scrutiny,\n    // as it'd be doing multiple resize-remeasure operations.\n\n    if (isKeyframesTarget(to)) {\n      var numKeyframes = to.length;\n\n      for (var i = to[0] === null ? 1 : 0; i < numKeyframes; i++) {\n        if (!toType) {\n          toType = findDimensionValueType(to[i]);\n          invariant(toType === fromType || isNumOrPxType(fromType) && isNumOrPxType(toType), \"Keyframes must be of the same dimension as the current value\");\n        } else {\n          invariant(findDimensionValueType(to[i]) === toType, \"All keyframes must be of the same type\");\n        }\n      }\n    } else {\n      toType = findDimensionValueType(to);\n    }\n\n    if (fromType !== toType) {\n      // If they're both just number or px, convert them both to numbers rather than\n      // relying on resize/remeasure to convert (which is wasteful in this situation)\n      if (isNumOrPxType(fromType) && isNumOrPxType(toType)) {\n        var current = value.get();\n\n        if (typeof current === \"string\") {\n          value.set(parseFloat(current));\n        }\n\n        if (typeof to === \"string\") {\n          target[key] = parseFloat(to);\n        } else if (Array.isArray(to) && toType === px) {\n          target[key] = to.map(parseFloat);\n        }\n      } else if ((fromType === null || fromType === void 0 ? void 0 : fromType.transform) && (toType === null || toType === void 0 ? void 0 : toType.transform) && (from === 0 || to === 0)) {\n        // If one or the other value is 0, it's safe to coerce it to the\n        // type of the other without measurement\n        if (from === 0) {\n          value.set(toType.transform(from));\n        } else {\n          target[key] = fromType.transform(to);\n        }\n      } else {\n        // If we're going to do value conversion via DOM measurements, we first\n        // need to remove non-positional transform values that could affect the bbox measurements.\n        if (!hasAttemptedToRemoveTransformValues) {\n          removedTransformValues = removeNonTranslationalTransform(visualElement);\n          hasAttemptedToRemoveTransformValues = true;\n        }\n\n        changedValueTypeKeys.push(key);\n        transitionEnd[key] = transitionEnd[key] !== undefined ? transitionEnd[key] : target[key];\n        setAndResetVelocity(value, to);\n      }\n    }\n  });\n\n  if (changedValueTypeKeys.length) {\n    var convertedTarget = convertChangedValueTypes(target, visualElement, changedValueTypeKeys); // If we removed transform values, reapply them before the next render\n\n    if (removedTransformValues.length) {\n      removedTransformValues.forEach(function (_a) {\n        var _b = __read(_a, 2),\n            key = _b[0],\n            value = _b[1];\n\n        visualElement.getValue(key).set(value);\n      });\n    } // Reapply original values\n\n\n    visualElement.syncRender();\n    return {\n      target: convertedTarget,\n      transitionEnd: transitionEnd\n    };\n  } else {\n    return {\n      target: target,\n      transitionEnd: transitionEnd\n    };\n  }\n};\n/**\n * Convert value types for x/y/width/height/top/left/bottom/right\n *\n * Allows animation between `'auto'` -> `'100%'` or `0` -> `'calc(50% - 10vw)'`\n *\n * @internal\n */\n\n\nfunction unitConversion(visualElement, target, origin, transitionEnd) {\n  return hasPositionalKey(target) ? checkAndConvertChangedValueTypes(visualElement, target, origin, transitionEnd) : {\n    target: target,\n    transitionEnd: transitionEnd\n  };\n}\n\nexport { BoundingBoxDimension, unitConversion };","import { resolveCSSVariables } from './css-variables-conversion.js';\nimport { unitConversion } from './unit-conversion.js';\n/**\n * Parse a DOM variant to make it animatable. This involves resolving CSS variables\n * and ensuring animations like \"20%\" => \"calc(50vw)\" are performed in pixels.\n */\n\nvar parseDomVariant = function parseDomVariant(visualElement, target, origin, transitionEnd) {\n  var resolved = resolveCSSVariables(visualElement, target, transitionEnd);\n  target = resolved.target;\n  transitionEnd = resolved.transitionEnd;\n  return unitConversion(visualElement, target, origin, transitionEnd);\n};\n\nexport { parseDomVariant };","import { __rest, __assign } from 'tslib';\nimport { visualElement } from '../index.js';\nimport { getOrigin, checkTargetForNewValues } from '../utils/setters.js';\nimport { getBoundingBox } from '../dom/projection/measure.js';\nimport { buildHTMLStyles } from './utils/build-styles.js';\nimport { isCSSVariable } from '../dom/utils/is-css-variable.js';\nimport { parseDomVariant } from '../dom/utils/parse-dom-variant.js';\nimport { isTransformProp } from './utils/transform.js';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.js';\nimport { renderHTML } from './utils/render.js';\nimport { getDefaultValueType } from '../dom/value-types/defaults.js';\nimport { buildLayoutProjectionTransformOrigin, buildLayoutProjectionTransform } from './utils/build-projection-transform.js';\n\nfunction getComputedStyle(element) {\n  return window.getComputedStyle(element);\n}\n\nvar htmlConfig = {\n  treeType: \"dom\",\n  readValueFromInstance: function readValueFromInstance(domElement, key) {\n    if (isTransformProp(key)) {\n      var defaultType = getDefaultValueType(key);\n      return defaultType ? defaultType.default || 0 : 0;\n    } else {\n      var computedStyle = getComputedStyle(domElement);\n      return (isCSSVariable(key) ? computedStyle.getPropertyValue(key) : computedStyle[key]) || 0;\n    }\n  },\n  sortNodePosition: function sortNodePosition(a, b) {\n    /**\n     * compareDocumentPosition returns a bitmask, by using the bitwise &\n     * we're returning true if 2 in that bitmask is set to true. 2 is set\n     * to true if b preceeds a.\n     */\n    return a.compareDocumentPosition(b) & 2 ? 1 : -1;\n  },\n  getBaseTarget: function getBaseTarget(props, key) {\n    var _a;\n\n    return (_a = props.style) === null || _a === void 0 ? void 0 : _a[key];\n  },\n  measureViewportBox: function measureViewportBox(element, _a) {\n    var transformPagePoint = _a.transformPagePoint;\n    return getBoundingBox(element, transformPagePoint);\n  },\n\n  /**\n   * Reset the transform on the current Element. This is called as part\n   * of a batched process across the entire layout tree. To remove this write\n   * cycle it'd be interesting to see if it's possible to \"undo\" all the current\n   * layout transforms up the tree in the same way this.getBoundingBoxWithoutTransforms\n   * works\n   */\n  resetTransform: function resetTransform(element, domElement, props) {\n    var transformTemplate = props.transformTemplate;\n    domElement.style.transform = transformTemplate ? transformTemplate({}, \"\") : \"none\"; // Ensure that whatever happens next, we restore our transform on the next frame\n\n    element.scheduleRender();\n  },\n  restoreTransform: function restoreTransform(instance, mutableState) {\n    instance.style.transform = mutableState.style.transform;\n  },\n  removeValueFromRenderState: function removeValueFromRenderState(key, _a) {\n    var vars = _a.vars,\n        style = _a.style;\n    delete vars[key];\n    delete style[key];\n  },\n\n  /**\n   * Ensure that HTML and Framer-specific value types like `px`->`%` and `Color`\n   * can be animated by Motion.\n   */\n  makeTargetAnimatable: function makeTargetAnimatable(element, _a, _b, isMounted) {\n    var transformValues = _b.transformValues;\n\n    if (isMounted === void 0) {\n      isMounted = true;\n    }\n\n    var transition = _a.transition,\n        transitionEnd = _a.transitionEnd,\n        target = __rest(_a, [\"transition\", \"transitionEnd\"]);\n\n    var origin = getOrigin(target, transition || {}, element);\n    /**\n     * If Framer has provided a function to convert `Color` etc value types, convert them\n     */\n\n    if (transformValues) {\n      if (transitionEnd) transitionEnd = transformValues(transitionEnd);\n      if (target) target = transformValues(target);\n      if (origin) origin = transformValues(origin);\n    }\n\n    if (isMounted) {\n      checkTargetForNewValues(element, target, origin);\n      var parsed = parseDomVariant(element, target, origin, transitionEnd);\n      transitionEnd = parsed.transitionEnd;\n      target = parsed.target;\n    }\n\n    return __assign({\n      transition: transition,\n      transitionEnd: transitionEnd\n    }, target);\n  },\n  scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n  build: function build(element, renderState, latestValues, projection, layoutState, options, props) {\n    if (element.isVisible !== undefined) {\n      renderState.style.visibility = element.isVisible ? \"visible\" : \"hidden\";\n    }\n\n    var isProjectionTranform = projection.isEnabled && layoutState.isHydrated;\n    buildHTMLStyles(renderState, latestValues, projection, layoutState, options, props.transformTemplate, isProjectionTranform ? buildLayoutProjectionTransform : undefined, isProjectionTranform ? buildLayoutProjectionTransformOrigin : undefined);\n  },\n  render: renderHTML\n};\nvar htmlVisualElement = visualElement(htmlConfig);\nexport { getComputedStyle, htmlConfig, htmlVisualElement };","/**\n * Check if value is a numerical string, ie a string that is purely a number eg \"100\" or \"-100.1\"\n */\nvar isNumericalString = function isNumericalString(v) {\n  return /^\\-?\\d*\\.?\\d+$/.test(v);\n};\n\nexport { isNumericalString };","import { __assign } from 'tslib';\nimport { visualElement } from '../index.js';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.js';\nimport { htmlConfig } from '../html/visual-element.js';\nimport { buildSVGAttrs } from './utils/build-attrs.js';\nimport { camelToDash } from '../dom/utils/camel-to-dash.js';\nimport { camelCaseAttributes } from './utils/camel-case-attrs.js';\nimport { isTransformProp } from '../html/utils/transform.js';\nimport { renderSVG } from './utils/render.js';\nimport { getDefaultValueType } from '../dom/value-types/defaults.js';\nimport { buildLayoutProjectionTransformOrigin, buildLayoutProjectionTransform } from '../html/utils/build-projection-transform.js';\nvar svgVisualElement = visualElement(__assign(__assign({}, htmlConfig), {\n  getBaseTarget: function getBaseTarget(props, key) {\n    return props[key];\n  },\n  readValueFromInstance: function readValueFromInstance(domElement, key) {\n    var _a;\n\n    if (isTransformProp(key)) {\n      return ((_a = getDefaultValueType(key)) === null || _a === void 0 ? void 0 : _a.default) || 0;\n    }\n\n    key = !camelCaseAttributes.has(key) ? camelToDash(key) : key;\n    return domElement.getAttribute(key);\n  },\n  scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n  build: function build(_element, renderState, latestValues, projection, layoutState, options, props) {\n    var isProjectionTranform = projection.isEnabled && layoutState.isHydrated;\n    buildSVGAttrs(renderState, latestValues, projection, layoutState, options, props.transformTemplate, isProjectionTranform ? buildLayoutProjectionTransform : undefined, isProjectionTranform ? buildLayoutProjectionTransformOrigin : undefined);\n  },\n  render: renderSVG\n}));\nexport { svgVisualElement };","import { htmlVisualElement } from '../html/visual-element.js';\nimport { svgVisualElement } from '../svg/visual-element.js';\nimport { isSVGComponent } from './utils/is-svg-component.js';\n\nvar createDomVisualElement = function createDomVisualElement(Component, options) {\n  return isSVGComponent(Component) ? svgVisualElement(options, {\n    enableHardwareAcceleration: false\n  }) : htmlVisualElement(options, {\n    enableHardwareAcceleration: true\n  });\n};\n\nexport { createDomVisualElement };","import { __assign } from 'tslib';\nimport { createMotionComponent } from '../../motion/index.js';\nimport { createMotionProxy } from './motion-proxy.js';\nimport { createDomMotionConfig } from './utils/create-config.js';\nimport { gestureAnimations } from '../../motion/features/gestures.js';\nimport { animations } from '../../motion/features/animations.js';\nimport { drag } from '../../motion/features/drag.js';\nimport { layoutAnimations } from '../../motion/features/layout/index.js';\nimport { createDomVisualElement } from './create-visual-element.js';\n\nvar featureBundle = __assign(__assign(__assign(__assign({}, animations), gestureAnimations), drag), layoutAnimations);\n/**\n * HTML & SVG components, optimised for use with gestures and animation. These can be used as\n * drop-in replacements for any HTML & SVG component, all CSS & SVG properties are supported.\n *\n * @public\n */\n\n\nvar motion = /*@__PURE__*/createMotionProxy(function (Component, config) {\n  return createDomMotionConfig(Component, config, featureBundle, createDomVisualElement);\n});\n/**\n * Create a DOM `motion` component with the provided string. This is primarily intended\n * as a full alternative to `motion` for consumers who have to support environments that don't\n * support `Proxy`.\n *\n * ```javascript\n * import { createDomMotionComponent } from \"framer-motion\"\n *\n * const motion = {\n *   div: createDomMotionComponent('div')\n * }\n * ```\n *\n * @public\n */\n\nfunction createDomMotionComponent(key) {\n  return createMotionComponent(createDomMotionConfig(key, {\n    forwardMotionProps: false\n  }, featureBundle, createDomVisualElement));\n}\n\nexport { createDomMotionComponent, motion };","import { __assign } from 'tslib';\nimport { isSVGComponent } from './is-svg-component.js';\nimport { createUseRender } from '../use-render.js';\nimport { svgMotionConfig } from '../../svg/config-motion.js';\nimport { htmlMotionConfig } from '../../html/config-motion.js';\n\nfunction createDomMotionConfig(Component, _a, preloadedFeatures, createVisualElement) {\n  var _b = _a.forwardMotionProps,\n      forwardMotionProps = _b === void 0 ? false : _b;\n  var baseConfig = isSVGComponent(Component) ? svgMotionConfig : htmlMotionConfig;\n  return __assign(__assign({}, baseConfig), {\n    preloadedFeatures: preloadedFeatures,\n    useRender: createUseRender(forwardMotionProps),\n    createVisualElement: createVisualElement,\n    Component: Component\n  });\n}\n\nexport { createDomMotionConfig };","import \"core-js/modules/es.array.flat.js\";\n\n/**\n * Given an array of toasts for a specific position.\n * It returns the toast that matches the `id` passed\n */\nexport var findById = function findById(arr, id) {\n  return arr.find(function (toast) {\n    return toast.id === id;\n  });\n};\n/**\n * Given the toast manager state, finds the toast that matches\n * the id and return its position and index\n */\n\nexport function findToast(toasts, id) {\n  var position = getToastPosition(toasts, id);\n  var index = position ? toasts[position].findIndex(function (toast) {\n    return toast.id === id;\n  }) : -1;\n  return {\n    position: position,\n    index: index\n  };\n}\n/**\n * Given the toast manager state, finds the position of the toast that\n * matches the `id`\n */\n\nexport var getToastPosition = function getToastPosition(toasts, id) {\n  var _Object$values$flat$f;\n\n  return (_Object$values$flat$f = Object.values(toasts).flat().find(function (toast) {\n    return toast.id === id;\n  })) == null ? void 0 : _Object$values$flat$f.position;\n};\n/**\n * Given the toast manager state, checks if a specific toast is\n * still in the state, which means it is still visible on screen.\n */\n\nexport var isVisible = function isVisible(toasts, id) {\n  return !!getToastPosition(toasts, id);\n};\n/**\n * Get's the styles to be applied to a toast's container\n * based on its position in the manager\n */\n\nexport function getToastStyle(position) {\n  var isRighty = position.includes(\"right\");\n  var isLefty = position.includes(\"left\");\n  var alignItems = \"center\";\n  if (isRighty) alignItems = \"flex-end\";\n  if (isLefty) alignItems = \"flex-start\";\n  return {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: alignItems\n  };\n}","import _slicedToArray from \"/home/runner/work/jaen-template/jaen-template/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/home/runner/work/jaen-template/jaen-template/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { useTimeout, useUpdateEffect } from \"@chakra-ui/hooks\";\nimport { isFunction, __DEV__ } from \"@chakra-ui/utils\";\nimport ReachAlert from \"@reach/alert\";\nimport { motion, useIsPresent } from \"framer-motion\";\nimport * as React from \"react\";\nimport { getToastStyle } from \"./toast.utils\";\n/**\n * @todo After Gerrit refactors this implementation,\n * allow users to change the toast transition direction from\n * a `ToastProvider` component.\n *\n * Here's an API example:\n *\n * ```jsx\n * <ToastProvider\n *   motion={customVariants}\n *   component={CustomToastComponent}\n *   autoCloseTimeout={3000}\n *   toastSpacing={32} // this will control the `margin` value applied\n * >\n * </ToastProvider>\n * ```\n */\n\nvar toastMotionVariants = {\n  initial: function initial(props) {\n    var position = props.position;\n    var dir = [\"top\", \"bottom\"].includes(position) ? \"y\" : \"x\";\n    var factor = [\"top-right\", \"bottom-right\"].includes(position) ? 1 : -1;\n    if (position === \"bottom\") factor = 1;\n    return _defineProperty({\n      opacity: 0\n    }, dir, factor * 24);\n  },\n  animate: {\n    opacity: 1,\n    y: 0,\n    x: 0,\n    scale: 1,\n    transition: {\n      duration: 0.4,\n      ease: [0.4, 0, 0.2, 1]\n    }\n  },\n  exit: {\n    opacity: 0,\n    scale: 0.85,\n    transition: {\n      duration: 0.2,\n      ease: [0.4, 0, 1, 1]\n    }\n  }\n};\nexport var Toast = function Toast(props) {\n  var id = props.id,\n      message = props.message,\n      onCloseComplete = props.onCloseComplete,\n      onRequestRemove = props.onRequestRemove,\n      _props$requestClose = props.requestClose,\n      requestClose = _props$requestClose === void 0 ? false : _props$requestClose,\n      _props$position = props.position,\n      position = _props$position === void 0 ? \"bottom\" : _props$position,\n      _props$duration = props.duration,\n      duration = _props$duration === void 0 ? 5000 : _props$duration;\n\n  var _React$useState = React.useState(duration),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      delay = _React$useState2[0],\n      setDelay = _React$useState2[1];\n\n  var isPresent = useIsPresent();\n  useUpdateEffect(function () {\n    if (!isPresent) {\n      onCloseComplete == null ? void 0 : onCloseComplete();\n    }\n  }, [isPresent]);\n  useUpdateEffect(function () {\n    setDelay(duration);\n  }, [duration]);\n\n  var onMouseEnter = function onMouseEnter() {\n    return setDelay(null);\n  };\n\n  var onMouseLeave = function onMouseLeave() {\n    return setDelay(duration);\n  };\n\n  var close = function close() {\n    if (isPresent) onRequestRemove();\n  };\n\n  React.useEffect(function () {\n    if (isPresent && requestClose) {\n      onRequestRemove();\n    }\n  }, [isPresent, requestClose, onRequestRemove]);\n  useTimeout(close, delay);\n  var style = React.useMemo(function () {\n    return getToastStyle(position);\n  }, [position]);\n  return /*#__PURE__*/React.createElement(motion.li, {\n    layout: true,\n    className: \"chakra-toast\",\n    variants: toastMotionVariants,\n    initial: \"initial\",\n    animate: \"animate\",\n    exit: \"exit\",\n    onHoverStart: onMouseEnter,\n    onHoverEnd: onMouseLeave,\n    custom: {\n      position: position\n    },\n    style: style\n  }, /*#__PURE__*/React.createElement(ReachAlert, {\n    className: \"chakra-toast__inner\",\n    style: {\n      pointerEvents: \"auto\",\n      maxWidth: 560,\n      minWidth: 300,\n      margin: \"0.5rem\"\n    }\n  }, isFunction(message) ? message({\n    id: id,\n    onClose: close\n  }) : message));\n};\n\nif (__DEV__) {\n  Toast.displayName = \"Toast\";\n}","import _defineProperty2 from \"/home/runner/work/jaen-template/jaen-template/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"/home/runner/work/jaen-template/jaen-template/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/runner/work/jaen-template/jaen-template/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/runner/work/jaen-template/jaen-template/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/runner/work/jaen-template/jaen-template/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/runner/work/jaen-template/jaen-template/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/runner/work/jaen-template/jaen-template/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/runner/work/jaen-template/jaen-template/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport { objectKeys } from \"@chakra-ui/utils\";\nimport { AnimatePresence } from \"framer-motion\";\nimport * as React from \"react\";\nimport { Toast } from \"./toast\";\nimport { findToast, getToastPosition } from \"./toast.utils\";\n/**\n * Manages the creation, and removal of toasts\n * across all corners (\"top\", \"bottom\", etc.)\n */\n\nexport var ToastManager = /*#__PURE__*/function (_React$Component) {\n  _inherits(ToastManager, _React$Component);\n\n  var _super = _createSuper(ToastManager);\n\n  /**\n   * Static id counter to create unique ids\n   * for each toast\n   */\n\n  /**\n   * State to track all the toast across all positions\n   */\n  function ToastManager(props) {\n    var _this2;\n\n    _classCallCheck(this, ToastManager);\n\n    var _this;\n\n    _this2 = _super.call(this, props);\n    _this = _assertThisInitialized(_this2);\n\n    _defineProperty(_assertThisInitialized(_this2), \"state\", {\n      top: [],\n      \"top-left\": [],\n      \"top-right\": [],\n      \"bottom-left\": [],\n      bottom: [],\n      \"bottom-right\": []\n    });\n\n    _defineProperty(_assertThisInitialized(_this2), \"notify\", function (message, options) {\n      var toast = _this2.createToast(message, options);\n\n      var position = toast.position,\n          id = toast.id;\n\n      _this2.setState(function (prevToasts) {\n        var isTop = position.includes(\"top\");\n        /**\n         * - If the toast is positioned at the top edges, the\n         * recent toast stacks on top of the other toasts.\n         *\n         * - If the toast is positioned at the bottom edges, the recent\n         * toast stacks below the other toasts.\n         */\n\n        var toasts = isTop ? [toast].concat(_toConsumableArray(prevToasts[position])) : [].concat(_toConsumableArray(prevToasts[position]), [toast]);\n        return _extends({}, prevToasts, _defineProperty2({}, position, toasts));\n      });\n\n      return id;\n    });\n\n    _defineProperty(_assertThisInitialized(_this2), \"updateToast\", function (id, options) {\n      _this2.setState(function (prevState) {\n        var nextState = _extends({}, prevState);\n\n        var _findToast = findToast(nextState, id),\n            position = _findToast.position,\n            index = _findToast.index;\n\n        if (position && index !== -1) {\n          nextState[position][index] = _extends({}, nextState[position][index], options);\n        }\n\n        return nextState;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this2), \"closeAll\", function (_temp) {\n      var _ref = _temp === void 0 ? {} : _temp,\n          positions = _ref.positions; // only one setState here for perf reasons\n      // instead of spamming this.closeToast\n\n\n      _this.setState(function (prev) {\n        var allPositions = [\"bottom\", \"bottom-right\", \"bottom-left\", \"top\", \"top-left\", \"top-right\"];\n        var positionsToClose = positions != null ? positions : allPositions;\n        return positionsToClose.reduce(function (acc, position) {\n          acc[position] = prev[position].map(function (toast) {\n            return _extends({}, toast, {\n              requestClose: true\n            });\n          });\n          return acc;\n        }, {});\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this2), \"createToast\", function (message, options) {\n      var _options$id, _options$position;\n\n      ToastManager.counter += 1;\n      var id = (_options$id = options.id) != null ? _options$id : ToastManager.counter;\n      var position = (_options$position = options.position) != null ? _options$position : \"top\";\n      return {\n        id: id,\n        message: message,\n        position: position,\n        duration: options.duration,\n        onCloseComplete: options.onCloseComplete,\n        onRequestRemove: function onRequestRemove() {\n          return _this2.removeToast(String(id), position);\n        },\n        status: options.status,\n        requestClose: false\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this2), \"closeToast\", function (id) {\n      _this2.setState(function (prevState) {\n        var position = getToastPosition(prevState, id);\n        if (!position) return prevState;\n        return _extends({}, prevState, _defineProperty2({}, position, prevState[position].map(function (toast) {\n          // id may be string or number\n          // eslint-disable-next-line eqeqeq\n          if (toast.id == id) {\n            return _extends({}, toast, {\n              requestClose: true\n            });\n          }\n\n          return toast;\n        })));\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this2), \"removeToast\", function (id, position) {\n      _this2.setState(function (prevState) {\n        return _extends({}, prevState, _defineProperty2({}, position, prevState[position].filter(function (toast) {\n          return toast.id != id;\n        })));\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this2), \"isVisible\", function (id) {\n      var _findToast2 = findToast(_this2.state, id),\n          position = _findToast2.position;\n\n      return Boolean(position);\n    });\n\n    _defineProperty(_assertThisInitialized(_this2), \"getStyle\", function (position) {\n      var isTopOrBottom = position === \"top\" || position === \"bottom\";\n      var margin = isTopOrBottom ? \"0 auto\" : undefined;\n      var top = position.includes(\"top\") ? \"env(safe-area-inset-top, 0px)\" : undefined;\n      var bottom = position.includes(\"bottom\") ? \"env(safe-area-inset-bottom, 0px)\" : undefined;\n      var right = !position.includes(\"left\") ? \"env(safe-area-inset-right, 0px)\" : undefined;\n      var left = !position.includes(\"right\") ? \"env(safe-area-inset-left, 0px)\" : undefined;\n      return {\n        position: \"fixed\",\n        zIndex: 5500,\n        pointerEvents: \"none\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        margin: margin,\n        top: top,\n        bottom: bottom,\n        right: right,\n        left: left\n      };\n    });\n\n    var methods = {\n      notify: _this2.notify,\n      closeAll: _this2.closeAll,\n      close: _this2.closeToast,\n      update: _this2.updateToast,\n      isActive: _this2.isVisible\n    };\n    props.notify(methods);\n    return _this2;\n  }\n  /**\n   * Function to actually create a toast and add it\n   * to state at the specified position\n   */\n\n\n  _createClass(ToastManager, [{\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return objectKeys(this.state).map(function (position) {\n        var toasts = _this3.state[position];\n        return /*#__PURE__*/React.createElement(\"ul\", {\n          key: position,\n          id: \"chakra-toast-manager-\" + position,\n          style: _this3.getStyle(position)\n        }, /*#__PURE__*/React.createElement(AnimatePresence, {\n          initial: false\n        }, toasts.map(function (toast) {\n          return /*#__PURE__*/React.createElement(Toast, _extends({\n            key: toast.id\n          }, toast));\n        })));\n      });\n    }\n  }]);\n\n  return ToastManager;\n}(React.Component);\n\n_defineProperty(ToastManager, \"counter\", 0);","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import _classCallCheck from \"/home/runner/work/jaen-template/jaen-template/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport { isBrowser } from \"@chakra-ui/utils\";\nimport * as React from \"react\";\nimport { render } from \"react-dom\";\nimport { ToastManager } from \"./toast-manager\";\nvar portalId = \"chakra-toast-portal\";\n\nvar Toaster =\n/**\n * Initialize the manager and mount it in the DOM\n * inside the portal node.\n *\n * @todo\n *\n * Update toast constructor to use `PortalManager`'s node or document.body.\n * Once done, we can remove the `zIndex` in `toast.manager.tsx`\n */\nfunction Toaster() {\n  var _this2 = this;\n\n  _classCallCheck(this, Toaster);\n\n  var _this = this;\n\n  _defineProperty(this, \"createToast\", void 0);\n\n  _defineProperty(this, \"removeAll\", void 0);\n\n  _defineProperty(this, \"closeToast\", void 0);\n\n  _defineProperty(this, \"updateToast\", void 0);\n\n  _defineProperty(this, \"isToastActive\", void 0);\n\n  _defineProperty(this, \"bindFunctions\", function (methods) {\n    _this2.createToast = methods.notify;\n    _this2.removeAll = methods.closeAll;\n    _this2.closeToast = methods.close;\n    _this2.updateToast = methods.update;\n    _this2.isToastActive = methods.isActive;\n  });\n\n  _defineProperty(this, \"notify\", function (message, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    return _this.createToast == null ? void 0 : _this.createToast(message, options);\n  });\n\n  _defineProperty(this, \"close\", function (id) {\n    var _this$closeToast;\n\n    (_this$closeToast = _this2.closeToast) == null ? void 0 : _this$closeToast.call(_this2, id);\n  });\n\n  _defineProperty(this, \"closeAll\", function (options) {\n    var _this$removeAll;\n\n    (_this$removeAll = _this2.removeAll) == null ? void 0 : _this$removeAll.call(_this2, options);\n  });\n\n  _defineProperty(this, \"update\", function (id, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    _this.updateToast == null ? void 0 : _this.updateToast(id, options);\n  });\n\n  _defineProperty(this, \"isActive\", function (id) {\n    var _this$isToastActive;\n\n    return (_this$isToastActive = _this2.isToastActive) == null ? void 0 : _this$isToastActive.call(_this2, id);\n  });\n\n  if (!isBrowser) return;\n  var portal;\n  var existingPortal = document.getElementById(portalId);\n\n  if (existingPortal) {\n    portal = existingPortal;\n  } else {\n    var _document$body;\n\n    var div = document.createElement(\"div\");\n    div.id = portalId;\n    (_document$body = document.body) == null ? void 0 : _document$body.appendChild(div);\n    portal = div;\n  }\n\n  render( /*#__PURE__*/React.createElement(ToastManager, {\n    notify: this.bindFunctions\n  }), portal);\n};\n\nexport var toast = new Toaster();","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport { Alert, AlertDescription, AlertIcon, AlertTitle } from \"@chakra-ui/alert\";\nimport { CloseButton } from \"@chakra-ui/close-button\";\nimport { chakra, ColorModeContext, ThemeProvider, useChakra } from \"@chakra-ui/system\";\nimport defaultTheme from \"@chakra-ui/theme\";\nimport { isFunction, noop } from \"@chakra-ui/utils\";\nimport * as React from \"react\";\nimport { toast } from \"./toast.class\";\n\nvar Toast = function Toast(props) {\n  var status = props.status,\n      variant = props.variant,\n      id = props.id,\n      title = props.title,\n      isClosable = props.isClosable,\n      onClose = props.onClose,\n      description = props.description;\n  return /*#__PURE__*/React.createElement(Alert, {\n    status: status,\n    variant: variant,\n    id: id,\n    alignItems: \"start\",\n    borderRadius: \"md\",\n    boxShadow: \"lg\",\n    paddingEnd: 8,\n    textAlign: \"start\",\n    width: \"auto\"\n  }, /*#__PURE__*/React.createElement(AlertIcon, null), /*#__PURE__*/React.createElement(chakra.div, {\n    flex: \"1\",\n    maxWidth: \"100%\"\n  }, title && /*#__PURE__*/React.createElement(AlertTitle, null, title), description && /*#__PURE__*/React.createElement(AlertDescription, {\n    display: \"block\"\n  }, description)), isClosable && /*#__PURE__*/React.createElement(CloseButton, {\n    size: \"sm\",\n    onClick: onClose,\n    position: \"absolute\",\n    insetEnd: 1,\n    top: 1\n  }));\n};\n\nvar defaults = {\n  duration: 5000,\n  position: \"bottom\",\n  variant: \"solid\"\n};\nexport var defaultStandaloneParam = {\n  theme: defaultTheme,\n  colorMode: \"light\",\n  toggleColorMode: noop,\n  setColorMode: noop,\n  defaultOptions: defaults\n};\n/**\n * Create a toast from outside of React Components\n */\n\nexport function createStandaloneToast(_temp) {\n  var _ref = _temp === void 0 ? defaultStandaloneParam : _temp,\n      _ref$theme = _ref.theme,\n      theme = _ref$theme === void 0 ? defaultStandaloneParam.theme : _ref$theme,\n      _ref$colorMode = _ref.colorMode,\n      colorMode = _ref$colorMode === void 0 ? defaultStandaloneParam.colorMode : _ref$colorMode,\n      _ref$toggleColorMode = _ref.toggleColorMode,\n      toggleColorMode = _ref$toggleColorMode === void 0 ? defaultStandaloneParam.toggleColorMode : _ref$toggleColorMode,\n      _ref$setColorMode = _ref.setColorMode,\n      setColorMode = _ref$setColorMode === void 0 ? defaultStandaloneParam.setColorMode : _ref$setColorMode,\n      _ref$defaultOptions = _ref.defaultOptions,\n      defaultOptions = _ref$defaultOptions === void 0 ? defaultStandaloneParam.defaultOptions : _ref$defaultOptions;\n\n  var renderWithProviders = function renderWithProviders(props, options) {\n    return /*#__PURE__*/React.createElement(ThemeProvider, {\n      theme: theme\n    }, /*#__PURE__*/React.createElement(ColorModeContext.Provider, {\n      value: {\n        colorMode: colorMode,\n        setColorMode: setColorMode,\n        toggleColorMode: toggleColorMode\n      }\n    }, isFunction(options.render) ? options.render(props) : /*#__PURE__*/React.createElement(Toast, _extends({}, props, options))));\n  };\n\n  var toastImpl = function toastImpl(options) {\n    var opts = _extends({}, defaultOptions, options);\n\n    var Message = function Message(props) {\n      return renderWithProviders(props, opts);\n    };\n\n    return toast.notify(Message, opts);\n  };\n\n  toastImpl.close = toast.close;\n  toastImpl.closeAll = toast.closeAll; // toasts can only be updated if they have a valid id\n\n  toastImpl.update = function (id, options) {\n    if (!id) return;\n\n    var opts = _extends({}, defaultOptions, options);\n\n    toast.update(id, _extends({}, opts, {\n      message: function message(props) {\n        return renderWithProviders(props, opts);\n      }\n    }));\n  };\n\n  toastImpl.isActive = toast.isActive;\n  return toastImpl;\n}\n/**\n * React hook used to create a function that can be used\n * to show toasts in an application.\n */\n\nexport function useToast(options) {\n  var _useChakra = useChakra(),\n      theme = _useChakra.theme,\n      setColorMode = _useChakra.setColorMode,\n      toggleColorMode = _useChakra.toggleColorMode,\n      colorMode = _useChakra.colorMode;\n\n  return React.useMemo(function () {\n    return createStandaloneToast({\n      theme: theme,\n      colorMode: colorMode,\n      setColorMode: setColorMode,\n      toggleColorMode: toggleColorMode,\n      defaultOptions: options\n    });\n  }, [theme, setColorMode, toggleColorMode, colorMode, options]);\n}\nexport default useToast;","// THIS FILE IS AUTO GENERATED\nvar GenIcon = require('../lib').GenIcon;\n\nmodule.exports.FaCube = function FaCube(props) {\n  return GenIcon({\n    \"tag\": \"svg\",\n    \"attr\": {\n      \"viewBox\": \"0 0 512 512\"\n    },\n    \"child\": [{\n      \"tag\": \"path\",\n      \"attr\": {\n        \"d\": \"M239.1 6.3l-208 78c-18.7 7-31.1 25-31.1 45v225.1c0 18.2 10.3 34.8 26.5 42.9l208 104c13.5 6.8 29.4 6.8 42.9 0l208-104c16.3-8.1 26.5-24.8 26.5-42.9V129.3c0-20-12.4-37.9-31.1-44.9l-208-78C262 2.2 250 2.2 239.1 6.3zM256 68.4l192 72v1.1l-192 78-192-78v-1.1l192-72zm32 356V275.5l160-65v133.9l-160 80z\"\n      }\n    }]\n  })(props);\n};","\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Main\", {\n  enumerable: true,\n  get: function get() {\n    return _Main[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"MainProps\", {\n  enumerable: true,\n  get: function get() {\n    return _Main.MainProps;\n  }\n});\n\nvar _Main = _interopRequireWildcard(require(\"./Main\"));\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _layout = require(\"@chakra-ui/layout\");\n\nvar _react = require(\"@chakra-ui/react\");\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _excluded = [\"content\", \"_type\", \"onItemClick\"];\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar ContextMenu = function ContextMenu(props) {\n  var bg = (0, _react.useColorModeValue)('white', 'gray.700');\n  var itemBgColor = (0, _react.useColorModeValue)('blue.100', 'blue.400');\n  return /*#__PURE__*/(0, _jsxRuntime.jsx)(_layout.Box, {\n    maxW: \"3xs\",\n    borderWidth: \"1px\",\n    borderRadius: \"lg\",\n    overflow: \"hidden\",\n    bg: bg,\n    onClick: function onClick(e) {\n      if (e.currentTarget !== e.target) {\n        e.stopPropagation();\n      }\n    },\n    onContextMenu: function onContextMenu(e) {\n      e.preventDefault();\n      e.stopPropagation();\n    },\n    children: props.items.map(function (_ref, key) {\n      var content = _ref.content,\n          _type = _ref._type,\n          onItemClick = _ref.onItemClick,\n          props = _objectWithoutProperties(_ref, _excluded);\n\n      return /*#__PURE__*/(0, _jsxRuntime.jsxs)(_layout.Box, {\n        mb: 1,\n        mt: 1,\n        children: [_type === 'ITEM' && /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Button, {\n          bg: 'transparent',\n          borderRadius: 0,\n          isFullWidth: true,\n          _focus: {\n            boxShadow: 'none !important'\n          },\n          _hover: {\n            bg: itemBgColor\n          },\n          fontWeight: \"initial\",\n          fontSize: \"sm\",\n          justifyContent: \"flex-start\",\n          onClick: onItemClick,\n          children: content\n        }), _type === 'DIVIDER' && /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Divider, _objectSpread({}, props))]\n      }, key);\n    })\n  });\n};\n\nvar _default = ContextMenu;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"ContextMenu\", {\n  enumerable: true,\n  get: function get() {\n    return _ContextMenu[\"default\"];\n  }\n});\n\nvar _ContextMenu = _interopRequireDefault(require(\"./ContextMenu\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _molecules = require(\"./molecules\");\n\nObject.keys(_molecules).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _molecules[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _molecules[key];\n    }\n  });\n});\n\nvar _organisms = require(\"./organisms\");\n\nObject.keys(_organisms).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _organisms[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _organisms[key];\n    }\n  });\n});\n\nvar _app = require(\"./app\");\n\nObject.keys(_app).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _app[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _app[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = require(\"@chakra-ui/react\");\n\nvar _languageMode = require(\"../../../language-mode\");\n\nvar _react2 = require(\"react\");\n\nvar _translations = _interopRequireDefault(require(\"./translations.json\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar PageContent = function PageContent(props) {\n  var _useState = (0, _react2.useState)(props.values || {}),\n      _useState2 = _slicedToArray(_useState, 2),\n      values = _useState2[0],\n      setValues = _useState2[1];\n\n  (0, _react2.useEffect)(function () {\n    setValues(props.values || {});\n  }, [props.values]);\n\n  var handleValuesChange = function handleValuesChange(key, event) {\n    setValues(_objectSpread(_objectSpread({}, values), {}, _defineProperty({}, key, event.target.value)));\n  };\n\n  var handleValuesCb = function handleValuesCb() {\n    if (JSON.stringify(values) !== JSON.stringify(props.values)) {\n      props.onValuesChange(values);\n    }\n  };\n\n  var CONTENT = (0, _languageMode.useLanguageModeValue)(_translations[\"default\"]);\n  return /*#__PURE__*/(0, _jsxRuntime.jsx)(_jsxRuntime.Fragment, {\n    children: /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Stack, {\n      spacing: \"24px\",\n      h: \"70vh\",\n      children: [/*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Flex, {\n        children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Box, {\n          children: /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Heading, {\n            size: \"lg\",\n            children: [values.title, ' ', /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Badge, {\n              ml: \"1\",\n              fontSize: \"0.8em\",\n              colorScheme: \"green\",\n              children: values.templateName\n            })]\n          })\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Spacer, {}), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Box, {\n          children: [values.isBlogPost && /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Badge, {\n            mx: 1,\n            variant: \"outline\",\n            colorScheme: \"green\",\n            children: \"BlogPost\"\n          }), values.lastPublished && /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Badge, {\n            variant: \"outline\",\n            colorScheme: \"blue\",\n            children: [\"Last published: \", values.lastPublished]\n          })]\n        })]\n      }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Divider, {}), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Stack, {\n        spacing: 2,\n        children: /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Flex, {\n          children: [/*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Box, {\n            flex: \"1\",\n            mr: 5,\n            children: [/*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Box, {\n              py: 2,\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Flex, {\n                children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Heading, {\n                  size: \"md\",\n                  children: CONTENT.title\n                })\n              }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Input, {\n                placeholder: \"My title\",\n                value: values.title || '',\n                onChange: function onChange(e) {\n                  return handleValuesChange('title', e);\n                },\n                onBlur: handleValuesCb\n              })]\n            }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Box, {\n              py: 2,\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Flex, {\n                children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Heading, {\n                  size: \"md\",\n                  children: CONTENT.slug\n                })\n              }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Input, {\n                placeholder: \"My slug\",\n                value: values.slug || '',\n                disabled: values.locked,\n                onChange: function onChange(e) {\n                  return handleValuesChange('slug', e);\n                },\n                onBlur: handleValuesCb\n              })]\n            }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Box, {\n              py: 2,\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Flex, {\n                children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Heading, {\n                  size: \"md\",\n                  children: CONTENT.description\n                })\n              }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Textarea, {\n                placeholder: \"Description\",\n                maxH: \"sm\",\n                value: values.description || '',\n                onChange: function onChange(e) {\n                  return handleValuesChange('description', e);\n                },\n                onBlur: handleValuesCb\n              })]\n            })]\n          }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Box, {\n            children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Image, {\n              h: \"sm\",\n              w: \"sm\",\n              src: values.image,\n              fallbackSrc: \"https://i.ibb.co/J2jzkBx/placeholder.jpg\",\n              transition: \"0.2s all\",\n              objectFit: \"cover\",\n              _hover: {\n                filter: 'brightness(70%)',\n                cursor: 'pointer'\n              },\n              onClick: props.onImageClick\n            })\n          })]\n        })\n      })]\n    })\n  });\n};\n\nvar _default = PageContent;\nexports[\"default\"] = _default;","\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _tree = _interopRequireWildcard(require(\"@atlaskit/tree\"));\n\nvar _icons = require(\"@chakra-ui/icons\");\n\nvar _react = require(\"@chakra-ui/react\");\n\nvar _atoms = require(\"../../atoms\");\n\nvar _icons2 = require(\"../../atoms/icons\");\n\nvar _styled = _interopRequireDefault(require(\"@emotion/styled\"));\n\nvar _react2 = require(\"react\");\n\nvar _modals = require(\"../modals\");\n\nvar _treeconverter = require(\"./treeconverter\");\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _excluded = [\"items\", \"rootItemIds\", \"defaultSelection\"];\n\nvar _templateObject;\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\n\nvar PADDING_PER_LEVEL = 16;\n\nvar PreTextIcon = _styled[\"default\"].span(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  display: inline-block;\\n  width: 16px;\\n  justify-content: center;\\n  cursor: pointer;\\n  margin-right: 5px;\\n\"])));\n\nvar PageTree = function PageTree(_ref) {\n  var items = _ref.items,\n      rootItemIds = _ref.rootItemIds,\n      defaultSelection = _ref.defaultSelection,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var itemBgColor = (0, _react.useColorModeValue)('blue.100', 'blue.400'); // convert items to a set\n\n  var _useState = (0, _react2.useState)((0, _treeconverter.TreeConverter)(items)),\n      _useState2 = _slicedToArray(_useState, 2),\n      tree = _useState2[0],\n      setTree = _useState2[1];\n\n  var _useState3 = (0, _react2.useState)(defaultSelection),\n      _useState4 = _slicedToArray(_useState3, 2),\n      selectedItem = _useState4[0],\n      selectItem = _useState4[1];\n\n  var _useState5 = (0, _react2.useState)(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      contextMenu = _useState6[0],\n      setContextMenu = _useState6[1];\n\n  var addPageDisclousure = (0, _react.useDisclosure)();\n  var renderedContextMenu = /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Portal, {\n    children: contextMenu && !addPageDisclousure.isOpen && /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Box, {\n      pos: \"absolute\",\n      top: contextMenu.spawnY,\n      left: contextMenu.spawnX,\n      w: \"3xs\",\n      zIndex: \"popover\",\n      children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_atoms.ContextMenu, {\n        items: contextMenu.id !== null ? [{\n          _type: 'ITEM',\n          content: /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.HStack, {\n            spacing: 2,\n            children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_icons.AddIcon, {}), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Text, {\n              children: \"Add page\"\n            })]\n          }),\n          onItemClick: function onItemClick() {\n            return addPageDisclousure.onOpen();\n          }\n        }].concat(items[contextMenu.id].data.locked ? [] : [{\n          _type: 'DIVIDER'\n        }, {\n          _type: 'ITEM',\n          content: /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.HStack, {\n            spacing: 2,\n            children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_icons.DeleteIcon, {}), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Text, {\n              children: \"Delete\"\n            })]\n          }),\n          onItemClick: function onItemClick() {\n            setContextMenu(null);\n            props.onItemDelete(selectedItem);\n          }\n        }]) : [{\n          _type: 'ITEM',\n          content: /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.HStack, {\n            spacing: 2,\n            children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_icons.AddIcon, {}), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Text, {\n              children: \"Add page\"\n            })]\n          }),\n          onItemClick: function onItemClick() {\n            return addPageDisclousure.onOpen();\n          }\n        }]\n      })\n    })\n  });\n  (0, _react2.useEffect)(function () {\n    setTree((0, _treeconverter.TreeConverter)(items));\n  }, [items]);\n\n  var handleSelectItem = function handleSelectItem(id) {\n    var finalId = id || defaultSelection;\n    selectItem(finalId);\n    setContextMenu(null);\n    props.onItemSelect(finalId);\n  };\n\n  var handleClick = function handleClick(event, id) {\n    event.stopPropagation();\n    handleSelectItem(id);\n  };\n\n  var handleContextMenu = function handleContextMenu(event, id) {\n    event.preventDefault();\n    event.stopPropagation();\n    selectItem(id || defaultSelection);\n    setContextMenu({\n      id: id,\n      spawnX: event.clientX,\n      spawnY: event.clientY\n    });\n  };\n\n  var getIcon = function getIcon(item, onExpand, onCollapse) {\n    if (item.children && item.children.length > 0) {\n      return item.isExpanded ? /*#__PURE__*/(0, _jsxRuntime.jsx)(PreTextIcon, {\n        onClick: function onClick() {\n          return onCollapse(item.id);\n        },\n        children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_icons2.FolderOpenIcon, {})\n      }) : /*#__PURE__*/(0, _jsxRuntime.jsx)(PreTextIcon, {\n        onClick: function onClick() {\n          return onExpand(item.id);\n        },\n        children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_icons2.FolderCloseIcon, {})\n      });\n    }\n\n    return /*#__PURE__*/(0, _jsxRuntime.jsx)(PreTextIcon, {\n      children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_icons2.FileIcon, {})\n    });\n  };\n\n  var renderItem = function renderItem(_ref2) {\n    var item = _ref2.item,\n        onExpand = _ref2.onExpand,\n        onCollapse = _ref2.onCollapse,\n        provided = _ref2.provided;\n    var disableDnD = !!item.data.locked;\n    var renderedItem = /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Box, {\n      borderWidth: \"1px\",\n      borderRadius: \"lg\",\n      overflow: \"hidden\",\n      p: 2,\n      userSelect: \"none\" // @ts-ignore\n      ,\n      onMouseDown: function onMouseDown(e) {\n        disableDnD && e.stopPropagation();\n      },\n      onClick: function onClick(e) {\n        return handleClick(e, item.id.toString());\n      },\n      onContextMenu: function onContextMenu(e) {\n        return handleContextMenu(e, item.id.toString());\n      },\n      _hover: {\n        bg: itemBgColor\n      },\n      bg: selectedItem === item.id ? itemBgColor : '',\n      children: /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Flex, {\n        children: [/*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Box, {\n          children: [getIcon(item, onExpand, onCollapse), item.data ? item.data.title : '']\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Spacer, {}), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Box, {\n          children: disableDnD ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_icons.LockIcon, {}) : null\n        })]\n      })\n    });\n    return /*#__PURE__*/(0, _jsxRuntime.jsx)(\"div\", _objectSpread(_objectSpread(_objectSpread({\n      ref: provided.innerRef\n    }, provided.draggableProps), provided.dragHandleProps), {}, {\n      style: _objectSpread(_objectSpread({}, provided.draggableProps.style), {}, {\n        top: 'auto !important',\n        left: 'auto !important'\n      }),\n      children: !item.deleted && renderedItem\n    }));\n  };\n\n  var onExpand = function onExpand(itemId) {\n    setTree((0, _tree.mutateTree)(tree, itemId, {\n      isExpanded: true\n    }));\n  };\n\n  var onCollapse = function onCollapse(itemId) {\n    setTree((0, _tree.mutateTree)(tree, itemId, {\n      isExpanded: false\n    }));\n  };\n\n  var onDragEnd = function onDragEnd(source, destination) {\n    if (!destination) {\n      return;\n    }\n\n    var movedItemId = tree.items[source.parentId].children[source.index].toString();\n    var dstId = destination.parentId.toString();\n\n    if (tree.items[dstId].children.map(function (child) {\n      return tree.items[child.toString()].data.slug;\n    }).indexOf(tree.items[movedItemId].data.slug) === -1) {\n      var newTree = (0, _tree.moveItemOnTree)(tree, source, destination);\n      setTree((0, _tree.mutateTree)(newTree, destination.parentId, {\n        isExpanded: true\n      }));\n      handleSelectItem(movedItemId);\n      props.onItemMove(movedItemId, dstId === tree.rootId.toString() ? null : dstId);\n    }\n  };\n\n  return /*#__PURE__*/(0, _jsxRuntime.jsxs)(\"div\", {\n    style: {\n      height: props.height,\n      overflow: 'auto'\n    },\n    onClick: function onClick(e) {\n      return handleClick(e, null);\n    },\n    onContextMenu: function onContextMenu(e) {\n      handleContextMenu(e, null);\n    },\n    children: [renderedContextMenu, /*#__PURE__*/(0, _jsxRuntime.jsx)(_tree[\"default\"], {\n      tree: tree,\n      renderItem: renderItem,\n      onExpand: onExpand,\n      onCollapse: onCollapse,\n      onDragEnd: onDragEnd,\n      offsetPerLevel: PADDING_PER_LEVEL,\n      isDragEnabled: true,\n      isNestingEnabled: true\n    }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_modals.CreatePageModal, {\n      isOpen: addPageDisclousure.isOpen,\n      templates: props.templates,\n      onClose: addPageDisclousure.onClose,\n      onCreate: function onCreate(name, template) {\n        props.onItemCreate((contextMenu === null || contextMenu === void 0 ? void 0 : contextMenu.id) || null, name, (0, _treeconverter.titleToSlug)(name), template);\n        setContextMenu(null);\n      },\n      onValidate: function onValidate(name) {\n        var slug = (0, _treeconverter.titleToSlug)(name);\n\n        if (!slug || (0, _treeconverter.resolveChildSlugs)(items, rootItemIds, (contextMenu === null || contextMenu === void 0 ? void 0 : contextMenu.id) || null).includes(slug)) {\n          return false;\n        }\n\n        return true;\n      }\n    })]\n  });\n};\n\nvar _default = PageTree;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/home/runner/work/jaen-template/jaen-template/node_modules/@babel/runtime/regenerator\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.titleToSlug = exports.resolveChildSlugs = exports.TreeConverter = void 0;\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e2) {\n          throw _e2;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e3) {\n      didErr = true;\n      err = _e3;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar TreeConverter = function TreeConverter(items) {\n  var _marked = /*#__PURE__*/_regeneratorRuntime.mark(genItemParent),\n      _marked2 = /*#__PURE__*/_regeneratorRuntime.mark(genTreeItems);\n\n  var rootName = 'SitePage';\n  var tree = {\n    rootId: rootName,\n    items: _defineProperty({}, rootName, {\n      id: rootName,\n      children: []\n    })\n  };\n\n  function nth(iter, n) {\n    var _iterator = _createForOfIteratorHelper(iter),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var v = _step.value;\n        if (--n < 0) return v;\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n\n  function genItemParent(allItems, rootItemId) {\n    var parent;\n    return _regeneratorRuntime.wrap(function genItemParent$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            parent = allItems[rootItemId].parent;\n\n          case 1:\n            if (!parent) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 4;\n            return parent;\n\n          case 4:\n            parent = allItems[parent].parent;\n            _context.next = 1;\n            break;\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _marked);\n  }\n\n  function genTreeItems(tree, items) {\n    var _i, _Object$entries, _Object$entries$_i, id, item, parentIter, isExpanded;\n\n    return _regeneratorRuntime.wrap(function genTreeItems$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _i = 0, _Object$entries = Object.entries(items);\n\n          case 1:\n            if (!(_i < _Object$entries.length)) {\n              _context2.next = 11;\n              break;\n            }\n\n            _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2), id = _Object$entries$_i[0], item = _Object$entries$_i[1];\n\n            if (item.parent === null) {\n              tree.items[rootName].children.push(id);\n            } // if (item.deleted) {\n            //   return\n            // }\n\n\n            parentIter = genItemParent(items, id);\n            isExpanded = !nth(parentIter, 3);\n            _context2.next = 8;\n            return _objectSpread(_objectSpread({}, item), {}, {\n              id: id,\n              hasChildren: !!item.children.length,\n              isExpanded: isExpanded,\n              isChildrenLoading: false\n            });\n\n          case 8:\n            _i++;\n            _context2.next = 1;\n            break;\n\n          case 11:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _marked2);\n  }\n\n  var _iterator2 = _createForOfIteratorHelper(genTreeItems(tree, items)),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var item = _step2.value;\n      tree.items[item.id] = item;\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n\n  return tree;\n};\n\nexports.TreeConverter = TreeConverter;\n\nvar resolveChildSlugs = function resolveChildSlugs(items, rootItemIds, id) {\n  var children = id ? items[id].children : rootItemIds;\n  var childSlugs = [];\n\n  var _iterator3 = _createForOfIteratorHelper(children),\n      _step3;\n\n  try {\n    for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n      var childId = _step3.value;\n      var child = items[childId];\n\n      if (child) {\n        var _child$data;\n\n        var slug = (_child$data = child.data) === null || _child$data === void 0 ? void 0 : _child$data.slug;\n\n        if (!child.deleted && slug) {\n          childSlugs.push(slug);\n        }\n      }\n    }\n  } catch (err) {\n    _iterator3.e(err);\n  } finally {\n    _iterator3.f();\n  }\n\n  return childSlugs;\n};\n\nexports.resolveChildSlugs = resolveChildSlugs;\n\nvar titleToSlug = function titleToSlug(title) {\n  return title.trim().toLowerCase().replace(/ +/g, '-');\n};\n\nexports.titleToSlug = titleToSlug;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _icons = require(\"@chakra-ui/icons\");\n\nvar _react = require(\"@chakra-ui/react\");\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _excluded = [\"children\"];\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar SFBWrapper = function SFBWrapper(_ref) {\n  var children = _ref.children,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var popover = (0, _react.useDisclosure)();\n\n  var handleDeleteClick = function handleDeleteClick() {\n    props.onDeleteClick();\n    popover.onClose();\n  };\n\n  return /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Box, {\n    children: /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Popover, {\n      trigger: \"hover\",\n      placement: \"top-end\",\n      isOpen: popover.isOpen,\n      onOpen: popover.onOpen,\n      onClose: popover.onClose,\n      children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_react.PopoverTrigger, {\n        children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Box, {\n          boxShadow: popover.isOpen ? 'outline' : 'none',\n          rounded: \"md\",\n          children: children\n        })\n      }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.PopoverContent, {\n        children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_react.PopoverArrow, {}), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.PopoverBody, {\n          children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.ButtonGroup, {\n            children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.IconButton, {\n              \"aria-label\": \"delete-block\",\n              icon: /*#__PURE__*/(0, _jsxRuntime.jsx)(_icons.DeleteIcon, {}),\n              size: \"sm\",\n              variant: \"outline\",\n              color: \"red\",\n              onClick: handleDeleteClick\n            })\n          })\n        })]\n      })]\n    })\n  });\n};\n\nvar _default = SFBWrapper;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = require(\"@chakra-ui/react\");\n\nvar _FaCube = require(\"@react-icons/all-files/fa/FaCube\");\n\nvar _react2 = _interopRequireDefault(require(\"react\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _excluded = [\"children\", \"displayName\", \"blockTypes\", \"isEditing\", \"wrap\"];\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar SFWrapper = function SFWrapper(_ref) {\n  var children = _ref.children,\n      displayName = _ref.displayName,\n      blockTypes = _ref.blockTypes,\n      isEditing = _ref.isEditing,\n      _ref$wrap = _ref.wrap,\n      wrap = _ref$wrap === void 0 ? false : _ref$wrap,\n      wrapProps = _objectWithoutProperties(_ref, _excluded);\n\n  var popover = (0, _react.useDisclosure)();\n\n  var shouldRenderSkeleton = _react2[\"default\"].useMemo(function () {\n    return !_react2[\"default\"].Children.toArray(children).length;\n  }, [children]);\n\n  var Wrapper = wrap ? _react.Wrap : _react.Box;\n\n  if (!isEditing) {\n    return /*#__PURE__*/(0, _jsxRuntime.jsx)(Wrapper, _objectSpread(_objectSpread({}, wrapProps), {}, {\n      children: children\n    }));\n  }\n\n  return /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Popover, {\n    trigger: \"hover\",\n    placement: \"auto\",\n    isOpen: popover.isOpen,\n    onOpen: popover.onOpen,\n    onClose: popover.onClose,\n    children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_react.PopoverTrigger, {\n      children: /*#__PURE__*/(0, _jsxRuntime.jsx)(Wrapper, _objectSpread(_objectSpread({}, wrapProps), {}, {\n        boxShadow: popover.isOpen ? 'outline' : 'none',\n        rounded: \"md\",\n        children: shouldRenderSkeleton ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Skeleton, {\n          h: 20\n        }) : children\n      }))\n    }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.PopoverContent, {\n      children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_react.PopoverArrow, {}), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.PopoverHeader, {\n        children: displayName\n      }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.PopoverBody, {\n        children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.VStack, {\n          align: \"stretch\",\n          children: blockTypes.map(function (_ref2, index) {\n            var name = _ref2.name,\n                _onClick = _ref2.onClick;\n            return /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Button, {\n              leftIcon: /*#__PURE__*/(0, _jsxRuntime.jsx)(_FaCube.FaCube, {}),\n              colorScheme: \"teal\",\n              variant: \"outline\",\n              size: \"sm\",\n              onClick: function onClick() {\n                _onClick();\n              },\n              children: name\n            }, index);\n          })\n        })\n      })]\n    })]\n  });\n};\n\nvar _default = SFWrapper;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = require(\"@chakra-ui/react\");\n\nvar _languageMode = require(\"../../../language-mode\");\n\nvar _react2 = require(\"react\");\n\nvar _translations = _interopRequireDefault(require(\"./translations.json\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar SiteSettings = function SiteSettings(props) {\n  var _values$author, _values$organization, _values$organization4, _values$organization7;\n\n  var _useState = (0, _react2.useState)(props.values || {}),\n      _useState2 = _slicedToArray(_useState, 2),\n      values = _useState2[0],\n      setValues = _useState2[1];\n\n  (0, _react2.useEffect)(function () {\n    setValues(props.values || {});\n  }, [props.values]);\n\n  var handleValuesChange = function handleValuesChange(key, event) {\n    setValues(_objectSpread(_objectSpread({}, values), {}, _defineProperty({}, key, event.target.value)));\n  };\n\n  var handleValuesCb = function handleValuesCb() {\n    if (JSON.stringify(values) !== JSON.stringify(props.values)) {\n      props.onValuesChange(values);\n    }\n  };\n\n  var CONTENT = (0, _languageMode.useLanguageModeValue)(_translations[\"default\"]);\n  return /*#__PURE__*/(0, _jsxRuntime.jsx)(_jsxRuntime.Fragment, {\n    children: /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Stack, {\n      spacing: \"24px\",\n      h: \"70vh\",\n      children: [/*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Flex, {\n        children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Box, {\n          d: \"flex\",\n          children: /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Heading, {\n            size: \"lg\",\n            children: [\" \", CONTENT.heading]\n          })\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Spacer, {}), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Box, {\n          children: values.lastPublished && /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Badge, {\n            variant: \"outline\",\n            colorScheme: \"blue\",\n            children: [CONTENT.lastpublished, \" \", values.lastPublished]\n          })\n        })]\n      }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Divider, {}), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Stack, {\n        spacing: 2,\n        children: /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Flex, {\n          children: [/*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Box, {\n            flex: \"1\",\n            mr: 5,\n            children: [/*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Box, {\n              py: 2,\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Flex, {\n                children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Heading, {\n                  size: \"md\",\n                  children: CONTENT.title\n                })\n              }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Input, {\n                placeholder: \"My title\",\n                value: values.title || '',\n                onChange: function onChange(e) {\n                  return handleValuesChange('title', e);\n                },\n                onBlur: handleValuesCb\n              })]\n            }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Box, {\n              py: 2,\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Flex, {\n                children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Heading, {\n                  size: \"md\",\n                  children: \"URL\"\n                })\n              }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Input, {\n                placeholder: \"My slug\",\n                value: values.siteUrl || '',\n                onChange: function onChange(e) {\n                  return handleValuesChange('siteUrl', e);\n                },\n                onBlur: handleValuesCb\n              })]\n            }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Box, {\n              py: 2,\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Flex, {\n                children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Heading, {\n                  size: \"md\",\n                  children: CONTENT.description\n                })\n              }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Textarea, {\n                placeholder: \"Description\",\n                maxH: \"sm\",\n                value: values.description || '',\n                onChange: function onChange(e) {\n                  return handleValuesChange('description', e);\n                },\n                onBlur: handleValuesCb\n              })]\n            }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Box, {\n              py: 2,\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Flex, {\n                children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Heading, {\n                  size: \"md\",\n                  children: CONTENT.author\n                })\n              }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Box, {\n                p: 2,\n                children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Heading, {\n                  size: \"sm\",\n                  children: \"Name\"\n                }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Input, {\n                  placeholder: \"John Doe\",\n                  value: ((_values$author = values.author) === null || _values$author === void 0 ? void 0 : _values$author.name) || '',\n                  onChange: function onChange(e) {\n                    return setValues(_objectSpread(_objectSpread({}, values), {}, {\n                      author: {\n                        name: e.target.value\n                      }\n                    }));\n                  },\n                  onBlur: handleValuesCb\n                })]\n              })]\n            }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Box, {\n              py: 2,\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Flex, {\n                children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Heading, {\n                  size: \"md\",\n                  children: CONTENT.organization\n                })\n              }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Box, {\n                p: 2,\n                children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Heading, {\n                  size: \"sm\",\n                  children: \"Name\"\n                }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Input, {\n                  placeholder: \"Example, Inc.\",\n                  value: ((_values$organization = values.organization) === null || _values$organization === void 0 ? void 0 : _values$organization.name) || '',\n                  onChange: function onChange(e) {\n                    var _values$organization2, _values$organization3;\n\n                    return setValues(_objectSpread(_objectSpread({}, values), {}, {\n                      organization: {\n                        name: e.target.value,\n                        url: ((_values$organization2 = values.organization) === null || _values$organization2 === void 0 ? void 0 : _values$organization2.url) || '',\n                        logo: ((_values$organization3 = values.organization) === null || _values$organization3 === void 0 ? void 0 : _values$organization3.logo) || ''\n                      }\n                    }));\n                  },\n                  onBlur: handleValuesCb\n                })]\n              }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Box, {\n                p: 2,\n                children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Heading, {\n                  size: \"sm\",\n                  children: \"URL\"\n                }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Input, {\n                  placeholder: \"https://example.com\",\n                  value: ((_values$organization4 = values.organization) === null || _values$organization4 === void 0 ? void 0 : _values$organization4.url) || '',\n                  onChange: function onChange(e) {\n                    var _values$organization5, _values$organization6;\n\n                    return setValues(_objectSpread(_objectSpread({}, values), {}, {\n                      organization: {\n                        name: ((_values$organization5 = values.organization) === null || _values$organization5 === void 0 ? void 0 : _values$organization5.name) || '',\n                        url: e.target.value,\n                        logo: ((_values$organization6 = values.organization) === null || _values$organization6 === void 0 ? void 0 : _values$organization6.logo) || ''\n                      }\n                    }));\n                  },\n                  onBlur: handleValuesCb\n                })]\n              }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Box, {\n                p: 2,\n                children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Heading, {\n                  size: \"sm\",\n                  children: \"Logo\"\n                }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Input, {\n                  placeholder: \"https://example.com\",\n                  value: ((_values$organization7 = values.organization) === null || _values$organization7 === void 0 ? void 0 : _values$organization7.logo) || '',\n                  onChange: function onChange(e) {\n                    var _values$organization8, _values$organization9;\n\n                    return setValues(_objectSpread(_objectSpread({}, values), {}, {\n                      organization: {\n                        name: ((_values$organization8 = values.organization) === null || _values$organization8 === void 0 ? void 0 : _values$organization8.name) || '',\n                        url: ((_values$organization9 = values.organization) === null || _values$organization9 === void 0 ? void 0 : _values$organization9.url) || '',\n                        logo: e.target.value\n                      }\n                    }));\n                  },\n                  onBlur: handleValuesCb\n                })]\n              })]\n            })]\n          }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Box, {\n            children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Image, {\n              h: \"sm\",\n              w: \"sm\",\n              src: values.image,\n              fallbackSrc: \"https://i.ibb.co/J2jzkBx/placeholder.jpg\",\n              transition: \"0.2s all\",\n              objectFit: \"cover\",\n              _hover: {\n                filter: 'brightness(70%)',\n                cursor: 'pointer'\n              },\n              onClick: function onClick() {\n                handleValuesCb();\n                props.onImageClick();\n              }\n            })\n          })]\n        })\n      })]\n    })\n  });\n};\n\nvar _default = SiteSettings;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  PageContent: true,\n  PageTree: true,\n  SFBWrapper: true,\n  SFWrapper: true\n};\nObject.defineProperty(exports, \"PageContent\", {\n  enumerable: true,\n  get: function get() {\n    return _PageContent[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"PageTree\", {\n  enumerable: true,\n  get: function get() {\n    return _PageTree[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"SFBWrapper\", {\n  enumerable: true,\n  get: function get() {\n    return _SFBWrapper[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"SFWrapper\", {\n  enumerable: true,\n  get: function get() {\n    return _SFWrapper[\"default\"];\n  }\n});\n\nvar _PageContent = _interopRequireDefault(require(\"./PageContent\"));\n\nvar _PageTree = _interopRequireDefault(require(\"./PageTree\"));\n\nvar _SFBWrapper = _interopRequireDefault(require(\"./SFBWrapper\"));\n\nvar _SFWrapper = _interopRequireDefault(require(\"./SFWrapper\"));\n\nvar _modals = require(\"./modals\");\n\nObject.keys(_modals).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _modals[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _modals[key];\n    }\n  });\n});\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}","\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.CreatePageModal = void 0;\n\nvar _react = require(\"@chakra-ui/react\");\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar CreatePageModal = function CreatePageModal(props) {\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      template = _React$useState2[0],\n      setTemplate = _React$useState2[1];\n\n  var _React$useState3 = React.useState(''),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      name = _React$useState4[0],\n      setName = _React$useState4[1];\n\n  var validate = function validate() {\n    return props.onValidate(name) && template !== null;\n  };\n\n  var handleCreate = function handleCreate() {\n    if (name && template) {\n      props.onCreate(name, template);\n    }\n\n    handleClose();\n  };\n\n  var handleClose = function handleClose() {\n    setName('');\n    props.onClose();\n  };\n\n  return /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Modal, {\n    blockScrollOnMount: false,\n    isOpen: props.isOpen,\n    onClose: handleClose,\n    children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_react.ModalOverlay, {}), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.ModalContent, {\n      children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_react.ModalHeader, {\n        children: \"Create Page\"\n      }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.ModalCloseButton, {}), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.ModalBody, {\n        children: /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Stack, {\n          children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Select, {\n            variant: \"filled\",\n            placeholder: \"Select template\",\n            onChange: function onChange(e) {\n              return setTemplate(e.target.value || null);\n            },\n            children: props.templates.map(function (template, key) {\n              return /*#__PURE__*/(0, _jsxRuntime.jsx)(\"option\", {\n                value: template,\n                children: template\n              }, key);\n            })\n          }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Input, {\n            placeholder: \"Page title\",\n            value: name,\n            onChange: function onChange(e) {\n              return setName(e.target.value);\n            },\n            isInvalid: !validate()\n          })]\n        })\n      }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.ModalFooter, {\n        children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Button, {\n          disabled: !validate(),\n          onClick: handleCreate,\n          children: \"Create\"\n        })\n      })]\n    })]\n  });\n};\n\nexports.CreatePageModal = CreatePageModal;\nvar _default = CreatePageModal;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _CreatePageModal = require(\"./CreatePageModal\");\n\nObject.keys(_CreatePageModal).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _CreatePageModal[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _CreatePageModal[key];\n    }\n  });\n});","\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = require(\"@chakra-ui/react\");\n\nvar _molecules = require(\"../../molecules\");\n\nvar _PageTree = _interopRequireDefault(require(\"../../molecules/PageTree\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar PageExplorer = function PageExplorer(props) {\n  var _React$useState = React.useState(props.rootItemIds),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      rootItemIds = _React$useState2[0],\n      setRootItemIds = _React$useState2[1];\n\n  var _React$useState3 = React.useState(props.items),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      items = _React$useState4[0],\n      setItems = _React$useState4[1];\n\n  var _React$useState5 = React.useState(props.defaultSelection),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      selectedItem = _React$useState6[0],\n      setSelectedItem = _React$useState6[1];\n\n  React.useEffect(function () {\n    setRootItemIds(props.rootItemIds);\n  }, [props.rootItemIds]);\n  React.useEffect(function () {\n    setItems(props.items);\n  }, [props.items]);\n\n  var getItemValues = function getItemValues(id) {\n    var item = props.items[id];\n    return {\n      templateName: item.data.templateName,\n      title: item.data.title,\n      slug: item.data.slug,\n      description: item.data.description,\n      image: item.data.image,\n      isBlogPost: item.data.isBlogPost,\n      lastPublished: item.data.lastPublished,\n      locked: item.data.locked\n    };\n  };\n\n  var values = selectedItem ? getItemValues(selectedItem) : undefined;\n\n  var handleItemSelect = function handleItemSelect(id) {\n    setSelectedItem(id || props.defaultSelection);\n    props.onItemSelect(id);\n  };\n\n  var handleItemDelete = function handleItemDelete(id) {\n    setSelectedItem(props.defaultSelection);\n    props.onItemDelete(id);\n  };\n\n  return /*#__PURE__*/(0, _jsxRuntime.jsx)(_jsxRuntime.Fragment, {\n    children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Box, {\n      borderWidth: \"1px\",\n      borderRadius: \"lg\",\n      overflow: \"hidden\",\n      h: \"67vh\",\n      p: 2,\n      children: /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Flex, {\n        h: \"65vh\",\n        children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Box, {\n          paddingRight: 5,\n          minW: \"sm\",\n          children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_PageTree[\"default\"], {\n            items: items,\n            rootItemIds: rootItemIds,\n            defaultSelection: props.defaultSelection,\n            templates: props.templates,\n            height: \"100%\",\n            onItemSelect: handleItemSelect,\n            onItemCreate: props.onItemCreate,\n            onItemDelete: handleItemDelete,\n            onItemMove: props.onItemMove\n          })\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Center, {\n          height: \"65vh\",\n          children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Divider, {\n            orientation: \"vertical\"\n          })\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Box, {\n          flex: \"1\",\n          p: 5,\n          overflow: \"auto\",\n          children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_molecules.PageContent, {\n            values: values,\n            onValuesChange: function onValuesChange(newValues) {\n              return selectedItem && props.onItemUpdate(selectedItem, newValues);\n            },\n            onImageClick: function onImageClick() {\n              return selectedItem && props.onItemImageClick(selectedItem);\n            }\n          })\n        })]\n      })\n    })\n  });\n};\n\nvar _default = PageExplorer;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = require(\"@chakra-ui/react\");\n\nvar _SiteSettings = _interopRequireDefault(require(\"../../molecules/SiteSettings\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar Settings = function Settings(props) {\n  return /*#__PURE__*/(0, _jsxRuntime.jsx)(_jsxRuntime.Fragment, {\n    children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Box, {\n      borderWidth: \"1px\",\n      borderRadius: \"lg\",\n      overflow: \"hidden\",\n      h: \"67vh\",\n      p: 2,\n      children: /*#__PURE__*/(0, _jsxRuntime.jsxs)(_react.Flex, {\n        h: \"65vh\",\n        children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Box, {\n          paddingRight: 5,\n          minW: \"sm\",\n          children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Box, {\n            borderWidth: \"1px\",\n            borderRadius: \"lg\",\n            overflow: \"hidden\",\n            p: 2,\n            userSelect: \"none\",\n            children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Flex, {\n              children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Box, {\n                children: \"~ Site\"\n              })\n            })\n          })\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Center, {\n          height: \"65vh\",\n          children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Divider, {\n            orientation: \"vertical\"\n          })\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_react.Box, {\n          flex: \"1\",\n          p: 5,\n          overflow: \"auto\",\n          children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_SiteSettings[\"default\"], _objectSpread({}, props))\n        })]\n      })\n    })\n  });\n};\n\nvar _default = Settings;\nexports[\"default\"] = _default;","\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  Settings: true,\n  PageExplorer: true,\n  PageExplorerProps: true\n};\nObject.defineProperty(exports, \"Settings\", {\n  enumerable: true,\n  get: function get() {\n    return _Settings[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"PageExplorer\", {\n  enumerable: true,\n  get: function get() {\n    return _PageExplorer[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"PageExplorerProps\", {\n  enumerable: true,\n  get: function get() {\n    return _PageExplorer.PageExplorerProps;\n  }\n});\n\nvar _main = require(\"./main\");\n\nObject.keys(_main).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _main[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _main[key];\n    }\n  });\n});\n\nvar _Settings = _interopRequireDefault(require(\"./Settings\"));\n\nvar _PageExplorer = _interopRequireWildcard(require(\"./PageExplorer\"));\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _components = require(\"./components\");\n\nObject.keys(_components).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _components[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _components[key];\n    }\n  });\n});","module.exports = require('./src/index');","var safeIsNaN = Number.isNaN || function ponyfill(value) {\n  return typeof value === 'number' && value !== value;\n};\n\nfunction isEqual(first, second) {\n  if (first === second) {\n    return true;\n  }\n\n  if (safeIsNaN(first) && safeIsNaN(second)) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction areInputsEqual(newInputs, lastInputs) {\n  if (newInputs.length !== lastInputs.length) {\n    return false;\n  }\n\n  for (var i = 0; i < newInputs.length; i++) {\n    if (!isEqual(newInputs[i], lastInputs[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n  if (isEqual === void 0) {\n    isEqual = areInputsEqual;\n  }\n\n  var lastThis;\n  var lastArgs = [];\n  var lastResult;\n  var calledOnce = false;\n\n  function memoized() {\n    var newArgs = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      newArgs[_i] = arguments[_i];\n    }\n\n    if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n      return lastResult;\n    }\n\n    lastResult = resultFn.apply(this, newArgs);\n    calledOnce = true;\n    lastThis = this;\n    lastArgs = newArgs;\n    return lastResult;\n  }\n\n  return memoized;\n}\n\nexport default memoizeOne;","var rafSchd = function rafSchd(fn) {\n  var lastArgs = [];\n  var frameId = null;\n\n  var wrapperFn = function wrapperFn() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    lastArgs = args;\n\n    if (frameId) {\n      return;\n    }\n\n    frameId = requestAnimationFrame(function () {\n      frameId = null;\n      fn.apply(void 0, lastArgs);\n    });\n  };\n\n  wrapperFn.cancel = function () {\n    if (!frameId) {\n      return;\n    }\n\n    cancelAnimationFrame(frameId);\n    frameId = null;\n  };\n\n  return wrapperFn;\n};\n\nexport default rafSchd;","import { useState, useRef, useEffect } from 'react';\n\nfunction areInputsEqual(newInputs, lastInputs) {\n  if (newInputs.length !== lastInputs.length) {\n    return false;\n  }\n\n  for (var i = 0; i < newInputs.length; i++) {\n    if (newInputs[i] !== lastInputs[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction useMemoOne(getResult, inputs) {\n  var initial = useState(function () {\n    return {\n      inputs: inputs,\n      result: getResult()\n    };\n  })[0];\n  var isFirstRun = useRef(true);\n  var committed = useRef(initial);\n  var useCache = isFirstRun.current || Boolean(inputs && committed.current.inputs && areInputsEqual(inputs, committed.current.inputs));\n  var cache = useCache ? committed.current : {\n    inputs: inputs,\n    result: getResult()\n  };\n  useEffect(function () {\n    isFirstRun.current = false;\n    committed.current = cache;\n  }, [cache]);\n  return cache.result;\n}\n\nfunction useCallbackOne(callback, inputs) {\n  return useMemoOne(function () {\n    return callback;\n  }, inputs);\n}\n\nvar useMemo = useMemoOne;\nvar useCallback = useCallbackOne;\nexport { useCallback, useCallbackOne, useMemo, useMemoOne };","import {DiscardButton} from '@snek-at/jaen-shared-ui/dist/components/molecules/buttons'\nimport * as actions from '@store/actions/siteActions'\nimport {useAppDispatch, useAppSelector} from '@store/index'\nimport {withRedux} from '@store/withRedux'\nimport React from 'react'\n\nconst Button: React.FC = () => {\n  const dispatch = useAppDispatch()\n\n  // const site = useAppSelector(state => state.site)\n\n  const handleDiscard = () => {\n    dispatch(actions.discardSiteChanges())\n  }\n\n  return <DiscardButton onDiscardClick={handleDiscard} />\n}\n\nexport default withRedux(Button)\n","import {EditButton} from '@snek-at/jaen-shared-ui/dist/components/molecules/buttons'\nimport * as actions from '@store/actions/optionsActions'\nimport {useAppDispatch, useAppSelector} from '@store/index'\nimport {withRedux} from '@store/withRedux'\nimport React from 'react'\n\nconst Button: React.FC = () => {\n  const dispatch = useAppDispatch()\n\n  const isEditing = useAppSelector(state => state.options.isEditing)\n\n  const handleEditChange = (edtiting: boolean) => {\n    dispatch(actions.setEditing(edtiting))\n  }\n\n  return <EditButton isEditing={isEditing} onEditChange={handleEditChange} />\n}\n\nexport default withRedux(Button)\n","import {useToast} from '@chakra-ui/react'\nimport {BifrostBridge} from '@snek-at/bridge'\nimport {useJaenCoreContext} from '@snek-at/jaen'\nimport {PublishButton} from '@snek-at/jaen-shared-ui/dist/components/molecules/buttons'\nimport {withRedux} from '@store/withRedux'\nimport gql from 'graphql-tag'\nimport React from 'react'\n\nconst Bridge = new BifrostBridge({\n  httpUrl: 'https://origin.snek.at/graphql'\n})\n\nconst Button: React.FC = () => {\n  const core = useJaenCoreContext()\n  const toast = useToast()\n\n  const isDisabled = core.getAuthState().isGuest\n\n  const publish = async () => {\n    const {upload} = await import('@src/ipfs')\n    const res = (await core.onPublish()) as {'jaen-pages': object}\n\n    const url = await upload(JSON.stringify(res['jaen-pages']))\n\n    const publishRes = await Bridge.session.mutate<{\n      jaenPublishFormPage: {result: string}\n    }>(\n      gql`\n        mutation JaenPublishMutation($values: GenericScalar!, $url: String!) {\n          jaenPublishFormPage(values: $values, url: $url) {\n            result\n            errors {\n              name\n              errors\n            }\n          }\n        }\n      `,\n      {\n        url: '/jaen-publish',\n        values: {git_remote: core.remote, jaendata_url: url}\n      }\n    )\n\n    if (publishRes.data?.jaenPublishFormPage?.result === 'OK') {\n      toast({\n        title: 'Sucessfully published.',\n        status: 'success',\n        duration: 9000,\n        isClosable: true\n      })\n    } else {\n      toast({\n        title: 'Publish failed.',\n        status: 'error',\n        duration: 9000,\n        isClosable: true\n      })\n    }\n  }\n\n  return (\n    <PublishButton disabled={isDisabled} onPublishClick={() => publish()} />\n  )\n}\n\nexport default withRedux(Button)\n","export default function _taggedTemplateLiteralLoose(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  strings.raw = raw;\n  return strings;\n}","import loadable from '@loadable/component'\nimport {withRedux} from '@store/withRedux'\nimport * as React from 'react'\n\nconst SnekFinder = loadable(() => import('@containers/SnekFinder'))\n\nconst FilesTab: React.FC<{}> = () => {\n  return <SnekFinder />\n}\n\nexport default withRedux(FilesTab)\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0; // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import {Button, useDisclosure} from '@chakra-ui/react'\nimport {usePages, useCMSContext} from '@contexts/cms'\nimport loadable from '@loadable/component'\nimport {useLocation} from '@reach/router'\nimport {PageExplorer, PageExplorerProps} from '@snek-at/jaen-shared-ui'\nimport {PageType} from '@src/types'\nimport {resolveDynamicPath} from '@src/utils'\nimport * as actions from '@store/actions/siteActions'\nimport {useAppDispatch, useAppSelector} from '@store/index'\nimport {withRedux} from '@store/withRedux'\nimport {navigate} from 'gatsby'\nimport * as React from 'react'\nimport {v4 as uuidv4} from 'uuid'\n\nconst SnekFinder = loadable(() => import('@containers/SnekFinder'))\n\nconst transformToItems = (pages: {\n  [id: string]: PageType\n}): PageExplorerProps['items'] =>\n  Object.fromEntries(\n    Object.entries(pages).map(([id, page]) => {\n      const {\n        title,\n        slug,\n        parent,\n        children,\n        template,\n        pageMetadata,\n        deleted\n      } = page\n\n      return [\n        id,\n        {\n          data: {\n            slug: slug || page?.path?.split('/')[1],\n            title: pageMetadata?.title || (title as string),\n            description: pageMetadata?.description || '',\n            image: pageMetadata?.image || '',\n            isBlogPost: pageMetadata?.isBlogPost || false,\n            lastPublished: pageMetadata?.datePublished,\n            templateName: template,\n            locked: !template\n          },\n          children: children.map(({id}) => id),\n          parent: parent ? parent.id : null,\n          deleted\n        }\n      ]\n    })\n  )\n\nconst PagesTab: React.FC<{}> = () => {\n  const dispatch = useAppDispatch()\n\n  const cmsContext = useCMSContext()\n  const allSitePage = usePages()\n  const fileSelector = useDisclosure()\n\n  const dynamicPaths = useAppSelector(state => state.site.routing.dynamicPaths)\n  const [currentPath, setCurrentPath] = React.useState(window.location.pathname)\n\n  const defaultSelection = React.useMemo(() => {\n    // find the node that matches the current path\n    const dynamicId = currentPath && dynamicPaths[currentPath]\n\n    if (!dynamicId) {\n      for (const [id, node] of Object.entries(allSitePage.nodes)) {\n        if (node.path === currentPath) {\n          return id\n        }\n      }\n    }\n\n    return dynamicId\n  }, [allSitePage.nodes, currentPath, dynamicPaths]) as string\n\n  const templates = React.useMemo(\n    () => cmsContext.templates.map(e => e.TemplateName),\n    [cmsContext.templates]\n  )\n\n  const [fileSelectorPageId, setFileSelectorPageId] = React.useState<\n    string | null\n  >(null)\n\n  const [nextRoutingUpdate, setNextRoutingUpdate] = React.useState<\n    string | null\n  >(null)\n\n  React.useEffect(() => {\n    if (nextRoutingUpdate) {\n      const dynamicPaths = resolveDynamicPath(nextRoutingUpdate, allSitePage)\n\n      dispatch(actions.updateSiteRouting({dynamicPaths}))\n\n      setNextRoutingUpdate(null)\n    }\n  }, [allSitePage])\n\n  const updateRouting = (id: string) => {\n    setNextRoutingUpdate(id)\n  }\n\n  const handlePageCreate = (\n    parentId: string | null,\n    title: string,\n    slug: string,\n    template: string\n  ) => {\n    const pageId = `SitePage /${uuidv4()}`\n    dispatch(\n      actions.addPage({\n        pageId,\n        page: {\n          slug,\n          template,\n          parent: parentId ? {id: parentId} : null,\n          children: [],\n          fields: {},\n          pageMetadata: {\n            title,\n            description: '',\n            image: '',\n            canonical: '',\n            isBlogPost: false\n          }\n        },\n        nodes: allSitePage.nodes\n      })\n    )\n\n    updateRouting(pageId)\n  }\n  const handlePageUpdate = (\n    id: string,\n    values: Partial<{\n      title: string\n      slug: string\n      description: string\n      image: string\n      isBlogPost: boolean\n      lastPublished?: string | undefined\n    }>\n  ) => {\n    const meta = allSitePage.nodes[id].pageMetadata\n    dispatch(\n      actions.updatePage({\n        pageId: id,\n        slug: values.slug,\n        meta: {\n          title: values.title || meta?.title,\n          description: values.description || meta?.description,\n          image: values.image || meta?.image,\n          isBlogPost: values.isBlogPost || meta?.isBlogPost,\n          datePublished: values.lastPublished || meta?.datePublished\n        }\n      })\n    )\n    updateRouting(id)\n    handleNavigate(id)\n  }\n  const handlePageDelete = (id: string) => {\n    handleNavigate(null)\n\n    dispatch(actions.deletePage(id))\n    updateRouting(id)\n  }\n  const handlePageMove = (sourceId: string, destinationId: string | null) => {\n    dispatch(\n      actions.movePage({\n        sourceId,\n        destinationId,\n        nodes: allSitePage.nodes\n      })\n    )\n\n    updateRouting(sourceId)\n    handleNavigate(sourceId)\n  }\n\n  const handleItemImageClick = (pageId: string) => {\n    setFileSelectorPageId(pageId)\n\n    fileSelector.onOpen()\n  }\n\n  const handleNavigate = (pageId: string | null) => {\n    let pagePath\n    const nodes = allSitePage.nodes\n    if (pageId) {\n      pagePath = Object.keys(dynamicPaths).find(\n        key => dynamicPaths[key] === pageId\n      )\n\n      if (!pagePath) {\n        pagePath = nodes[pageId].path\n      }\n    }\n\n    const newPagePath = pagePath || '/'\n\n    setCurrentPath(newPagePath)\n    navigate(newPagePath)\n  }\n\n  // TODO: move to a loading state in order to improve performence\n  const items = React.useMemo(() => transformToItems(allSitePage.nodes), [\n    allSitePage.nodes\n  ])\n\n  return (\n    <>\n      <PageExplorer\n        items={items}\n        rootItemIds={allSitePage.rootNodeIds}\n        defaultSelection={defaultSelection}\n        templates={templates}\n        onItemCreate={handlePageCreate}\n        onItemDelete={handlePageDelete}\n        onItemUpdate={handlePageUpdate}\n        onItemMove={handlePageMove}\n        onItemSelect={handleNavigate}\n        onItemImageClick={handleItemImageClick}\n      />\n      {fileSelector.isOpen && (\n        <SnekFinder\n          mode=\"selector\"\n          onSelectorClose={fileSelector.onClose}\n          onSelectorSelect={i => {\n            if (fileSelectorPageId) {\n              handlePageUpdate(fileSelectorPageId, {image: i.src})\n            }\n            setFileSelectorPageId(null)\n            fileSelector.onClose()\n          }}\n        />\n      )}\n    </>\n  )\n}\n\nexport default withRedux(PagesTab)\n","import {useDisclosure} from '@chakra-ui/hooks'\nimport {useSiteMetadata} from '@contexts/cms'\nimport loadable from '@loadable/component'\nimport {Settings} from '@snek-at/jaen-shared-ui'\nimport * as actions from '@store/actions/siteActions'\nimport {useAppDispatch} from '@store/index'\nimport {withRedux} from '@store/withRedux'\nimport * as React from 'react'\n\nconst SnekFinder = loadable(() => import('@containers/SnekFinder'))\n\nconst SettingsTab: React.FC<{}> = () => {\n  const dispatch = useAppDispatch()\n\n  const fileSelector = useDisclosure()\n\n  const siteMetadata = useSiteMetadata()\n\n  const handleValuesChange = (values: any) => {\n    dispatch(actions.updateSiteMeta({meta: values}))\n  }\n\n  const handleImageClick = () => {\n    fileSelector.onOpen()\n  }\n\n  return (\n    <>\n      <Settings\n        values={siteMetadata as any}\n        onValuesChange={handleValuesChange}\n        onImageClick={handleImageClick}\n      />\n      {fileSelector.isOpen && (\n        <SnekFinder\n          mode=\"selector\"\n          onSelectorClose={fileSelector.onClose}\n          onSelectorSelect={i => {\n            handleValuesChange({...siteMetadata, image: i.src})\n\n            fileSelector.onClose()\n          }}\n        />\n      )}\n    </>\n  )\n}\n\nexport default withRedux(SettingsTab)\n"],"names":["module","exports","$Object","P","D","create","it","TypeError","isObject","toIObject","toLength","toAbsoluteIndex","IS_INCLUDES","$this","el","fromIndex","value","O","length","index","toString","call","slice","core","version","__e","aFunction","fn","that","undefined","a","b","c","apply","arguments","Object","defineProperty","get","document","is","createElement","split","global","ctx","hide","has","$export","type","name","source","key","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","IS_BIND","B","IS_WRAP","W","expProto","target","C","this","Function","virtual","R","U","exec","e","window","Math","self","__g","hasOwnProperty","dP","createDesc","object","f","documentElement","cof","propertyIsEnumerable","floor","isFinite","DESCRIPTORS","getKeys","gOPS","pIE","toObject","IObject","$assign","assign","A","Symbol","K","forEach","k","keys","join","T","aLen","getSymbols","isEnum","concat","j","anObject","dPs","enumBugKeys","IE_PROTO","Empty","createDict","iframeDocument","iframe","i","style","display","src","contentWindow","open","write","lt","close","Properties","result","IE8_DOM_DEFINE","toPrimitive","Attributes","defineProperties","gOPD","getOwnPropertyDescriptor","getOwnPropertySymbols","arrayIndexOf","names","push","$keys","fails","KEY","exp","isEntries","bitmap","enumerable","configurable","writable","check","proto","set","setPrototypeOf","test","buggy","prototype","Array","__proto__","shared","uid","SHARED","store","mode","copyright","toInteger","max","min","ceil","isNaN","defined","val","valueOf","id","px","random","now","Date","getTime","isInteger","$values","values","isSamePath","every","v","hasSameParent","getParentPath","child","isParentOf","parent","getIndexAmongSiblings","path","getPathOnLevel","level","moveAfterPath","after","from","newPath","isLowerSibling","other","_createForOfIteratorHelper","o","allowArrayLike","iterator","isArray","minLen","_arrayLikeToArray","n","constructor","_unsupportedIterableToArray","s","done","_e","err","normalCompletion","didErr","step","next","_e2","return","arr","len","arr2","ownKeys","enumerableOnly","symbols","filter","sym","_objectSpread","getOwnPropertyDescriptors","flattenTree","tree","items","rootId","children","reduce","accum","itemId","item","currentPath","currentItem","createFlattenedItem","flattenChildren","isExpanded","mutateTree","mutation","itemToChange","getParent","_step","cursor","_iterator","getItem","getTreePosition","parentId","moveItemOnTree","to","_removeItemFromTree","position","sourceParent","newSourceChildren","itemRemoved","splice","hasChildren","removeItemFromTree","destinationParent","newDestinationChildren","hasLoadedChildren","isLeafItem","addItemToTree","noop","between","number","getSourcePath","flattenedTree","sourceIndex","getDestinationPath","destinationIndex","belowPath","abovePath","down","sourcePath","sameIndex","upperPath","lowerPath","minLevel","maxLevel","finalLevel","previousPathOnTheFinalLevel","_finalLevel","calculateFinalLevel","_previousPathOnTheFinalLevel","upperLevel","lowerLevel","sourceLevel","getItemById","find","getIndexById","findIndex","calculateFinalDropPositions","dragState","destination","combine","horizontalLevel","sourcePosition","destinationPosition","draggableId","destinationPath","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","_isNativeReflectConstruct","Super","NewTarget","TreeItem","_Component","_super","_this","_len","args","_key","draggableProps","snapshot","_this$props","props","offsetPerLevel","transitions","transition","dropAnimation","duration","curve","paddingLeft","nextProps","oldProps","newProps","p","provided","dragHandleProps","_this$props2","_onExpand","onExpand","_onCollapse","onCollapse","renderItem","itemRef","finalProvided","patchDraggableProps","innerRef","depth","Component","DelayedFunction","delay","stop","timeoutId","setTimeout","clearTimeout","Tree","draggedItemId","onDragStart","setState","update","state","expandTimer","isExpandable","start","onDragEnd","finalDragState","_calculateFinalDropPo","getDroppedLevel","flatItem","_this$state","_this$dragState","isDropAnimating","containerElement","containerLeft","getBox","contentBox","left","itemElement","itemsElement","currentLeft","relativeLeft","map","isDragEnabled","isDragDisabled","renderDraggableItem","calculateEffectivePath","onDropAnimating","setItemRef","_this2","isNestingEnabled","renderedItems","renderItems","onDragUpdate","droppableId","isCombineEnabled","ignoreContainerClipping","patchDroppableProvided","ref","pointerEvents","onTouchMove","onPointerMove","onMouseMove","droppableProps","placeholder","finalTree","closeParentIfNeeded","_extends","_setPrototypeOf","_inheritsLoose","subClass","superClass","ControlBox","_css","_props$type","_hover","_invalid","_disabled","_focus","_checked","_props$_child","_child","opacity","_props$_checkedAndChi","_checkedAndChild","_checkedAndDisabled","_checkedAndFocus","_checkedAndHover","rest","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","checkedAndDisabled","checkedAndHover","checkedAndFocus","disabled","focus","hover","checked","invalid","__css","alignItems","justifyContent","transitionProperty","transitionDuration","flexShrink","displayName","useDisclosure","_props","onCloseProp","onClose","onOpenProp","onOpen","isOpenProp","isOpen","idProp","_React$useState","defaultIsOpen","_React$useState2","isOpenState","setIsOpen","_useControllableProp","prop","isControlled","useControllableProp","_useControllableProp2","onToggle","getButtonProps","onClick","getDisclosureProps","hidden","fallbackIcon","stroke","strokeWidth","strokeLinecap","fill","d","strokeMiterlimit","cx","cy","r","viewBox","Icon","element","as","_props$color","color","_props$focusable","focusable","className","w","h","lineHeight","_viewBox","_path","verticalAlign","WarningIcon","STATUSES","info","icon","colorScheme","warning","success","error","_createContext","errorMessage","_createContext2","AlertProvider","useAlertContext","Alert","_props$colorScheme","_omitThemingProps","_omitThemingProps$sta","status","styles","alertStyles","width","overflow","container","role","AlertTitle","title","AlertDescription","descriptionStyles","description","AlertIcon","BaseIcon","CloseIcon","CloseButton","isDisabled","outline","height","_possibleConstructorReturn","assertThisInitialized","_getPrototypeOf","getPrototypeOf","useUnmountEffect","callback","useEffect","PresenceContext","createContext","useConstant","init","useRef","current","presenceId","getPresenceId","PresenceChild","_a","initial","isPresent","_onExitComplete","onExitComplete","custom","presenceAffectsLayout","presenceChildren","newChildrenMap","context","useMemo","childId","allComplete","isComplete","register","delete","_","size","Provider","Map","defaultTimestep","getCurrentTime","performance","onNextFrame","requestAnimationFrame","useDefaultElapsed","runNextFrame","isProcessing","delta","timestamp","stepsOrder","steps","acc","toRun","toRunNextFrame","numToRun","toKeepAlive","WeakSet","schedule","keepAlive","immediate","addToCurrentFrame","buffer","add","cancel","process","frameData","createRenderStep","sync","startLoop","cancelSync","flushSync","processStep","stepId","processFrame","getFrameData","any","convertBoundingBoxToAxisBox","top","x","right","y","bottom","zeroDelta","translate","scale","origin","originPoint","__assign","compareByDepth","isProjecting","visualElement","projection","isEnabled","shouldResetTransform","collectProjectingAncestors","ancestors","updateLayoutMeasurement","box","layoutState","getLayoutState","notifyBeforeLayoutMeasure","layout","isHydrated","measureViewportBox","layoutCorrected","notifyLayoutMeasure","prevViewportBox","rebaseProjectionTarget","unresolvedJobs","Set","pushJob","stack","job","pointer","batchLayout","flushLayout","reads","writes","setRead","setWrite","clear","numStacks","executeJob","Presence","VisibilityAction","defaultHandler","layoutReady","notifyLayoutReady","createBatcher","queue","flush","_b","read","order","sort","__spreadArray","__read","resetTransform","restoreTransform","presence","Present","preRender","render","assignProjectionToSnapshot","SharedLayoutContext","FramerTreeLayoutContext","isSharedLayout","forceUpdate","getChildKey","AnimatePresence","exitBeforeEnter","_c","forceRender","unloadingRef","useState","forcedRenderCount","setForcedRenderCount","useCallback","useForceUpdate","layoutContext","useContext","isInitialRender","filteredChildren","filtered","Children","isValidElement","onlyElements","presentChildren","allChildren","exiting","updateChildLookup","childrenToRender","presentKeys","targetKeys","numPresent","insertionIndex","removeIndex","presentChild","cloneElement","useUpdateEffect","effect","deps","mounted","useSafeLayoutEffect","useTimeout","useCallbackRef","usePresence","useUniqueId","useIsPresent","counter","incrementId","createDefinition","propNames","some","featureDefinitions","measureLayout","animation","exit","drag","tap","pan","layoutAnimation","LazyContext","strict","featureNames","numFeatures","MotionConfigContext","transformPagePoint","isStatic","MotionContext","LayoutGroupContext","isBrowser","useIsomorphicLayoutEffect","useLayoutEffect","useVisualElement","visualState","createVisualElement","config","lazyContext","presenceContext","layoutId","layoutGroupId","useLayoutId","visualElementRef","renderer","blockInitialAnimation","setProps","isPresenceRoot","syncRender","animationState","animateChanges","notifyUnmount","isRefObject","isVariantLabels","isVariantLabel","resolveVariantFromProps","definition","currentValues","currentVelocity","variants","resolveVariant","getProps","forEachValue","getCurrent","velocity","getVelocity","checkIfControllingVariants","animate","whileHover","whileDrag","whileTap","whileFocus","checkIfVariantNode","useCreateMotionContext","inherit","getCurrentTreeVariants","variantLabelsAsDependency","preloadedFeatures","useRender","useVisualState","features","loadFeatures","forwardRef","externalRef","name_1","useFeatures","instance","mount","unmount","useMotionRef","createMotionProxy","createConfig","customMotionComponentConfig","componentCache","_target","lowercaseSVGElements","isSVGComponent","includes","valueScaleCorrection","transformAxes","transformProps","sortTransformProps","operationKey","axesKey","transformPropSet","isTransformProp","transformOriginProps","isTransformOriginProp","isForcedMotionValue","isMotionValue","translateAlias","z","transformPerspective","isCSSVariable","startsWith","getValueAsType","transform","clamp","sanitize","Number","toFixed","floatRegex","colorRegex","singleColorRegex","isString","createUnitType","unit","endsWith","parse","parseFloat","degrees","percent","vh","vw","progressPercentage","alpha","default","round","numberValueTypes","borderWidth","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderRadius","radius","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","maxWidth","maxHeight","padding","paddingTop","paddingRight","paddingBottom","margin","marginTop","marginRight","marginBottom","marginLeft","rotate","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","skew","skewX","skewY","distance","translateX","translateY","translateZ","perspective","originX","originY","originZ","zIndex","fillOpacity","strokeOpacity","numOctaves","buildHTMLStyles","latestValues","options","transformTemplate","buildProjectionTransform","buildProjectionTransformOrigin","vars","transformKeys","transformOrigin","hasTransform","hasTransformOrigin","transformIsNone","valueType","valueAsType","correctedValue","applyTo","num","deltaFinal","treeScale","transformIsDefault","enableHardwareAcceleration","_d","allowTransformNone","transformString","transformHasZ","numTransformKeys","trim","buildTransform","buildTransformOrigin","createHtmlRenderState","copyRawValuesOnly","useStyle","useInitialMotionValues","transformValues","useHTMLProps","htmlProps","draggable","userSelect","WebkitUserSelect","WebkitTouchCallout","touchAction","validMotionProps","isValidMotionProp","shouldForward","emotionIsPropValid_1","calcOrigin","offset","progressToPixels","progress","dashKeys","array","camelKeys","buildSVGAttrs","attrX","attrY","pathLength","pathSpacing","pathOffset","__rest","attrs","dimensions","totalPathLength","calcSVGTransformOrigin","totalLength","spacing","useDashCase","buildSVGPath","createSvgRenderState","useSVGProps","visualProps","rawStyles","createUseRender","forwardMotionProps","filteredProps","isDom","filterProps","elementProps","CAMEL_CASE_PATTERN","camelToDash","str","replace","toLowerCase","renderHTML","setProperty","camelCaseAttributes","renderSVG","renderState","setAttribute","scrapeMotionValuesFromProps","newValues","toUpperCase","isAnimationControls","isKeyframesTarget","resolveMotionValue","unwrappedValue","mix","toValue","makeState","createRenderState","onMount","makeLatestValues","makeUseVisualState","scrapeMotionValues","motionValues","isControllingVariants","isVariantNode","variantToSet","resolved","transitionEnd","svgMotionConfig","getBBox","getBoundingClientRect","tagName","getTotalLength","AnimationType","htmlMotionConfig","addDomEvent","eventName","handler","addEventListener","removeEventListener","useDomEvent","isMouseEvent","event","PointerEvent","pointerType","MouseEvent","isTouchEvent","touches","defaultPagePoint","pageX","pageY","pointFromTouch","pointType","point","changedTouches","pointFromMouse","extractEventInfo","wrapHandler","shouldFilterPrimaryPointer","eventHandler","listener","button","mouseEventNames","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","pointerenter","pointerleave","touchEventNames","getPointerEventName","onpointerdown","ontouchstart","onmousedown","addPointerEvent","usePointerEvent","createLock","lock","globalHorizontalLock","globalVerticalLock","getGlobalLock","openHorizontal_1","openVertical_1","isDragActive","openGestureLock","createHoverEvent","isActive","setActive","Hover","isNodeOrChild","parentElement","combineFunctions","pipe","transformers","_i","makeRenderlessComponent","hook","gestureAnimations","onTap","onTapStart","onTapCancel","hasPressListeners","isPressing","cancelPointerEndListeners","removePointerEndListener","checkPointerEnd","Tap","onPointerUp","getInstance","onPointerCancel","Focus","onHoverStart","onHoverEnd","shallowCompare","prev","prevLength","safeMin","findSpring","envelope","derivative","bounce","mass","maxDuration","dampingRatio","undampedFreq","exponentialDecay","calcAngularFreq","pow","g","initialGuess","approximateRoot","stiffness","damping","sqrt","durationKeys","physicsKeys","isSpringType","spring","restSpeed","restDelta","springOptions","isResolvedFromDuration","derived","getSpringOptions","resolveSpring","zero","resolveVelocity","createSpring","initialVelocity","initialDelta","undampedAngularFreq","abs","angularFreq_1","t","sin","cos","dampedAngularFreq_1","freqForT","sinh","cosh","isBelowVelocityThreshold","isBelowDisplacementThreshold","flipTarget","needsInterpolation","_t","toFromDifference","isColorString","testProp","splitColor","aName","bName","cName","match","clampRgbUnit","rgbUnit","rgba","red","green","blue","alpha$1","hex","substr","parseInt","hsla","hue","saturation","lightness","mixLinearColor","fromExpo","toExpo","colorTypes","getColorType","notAnimatable","mixColor","fromColorType","toColorType","invariant","fromColor","toColor","blended","mixFunc","colorToken","numberToken","analyse","numColors","colors","numbers","tokenised","createTransformer","numValues","output","convertNumbersToZero","complex","getAnimatableNone","parsed","transformer","isNum","getMixer","mixComplex","mixArray","blendValue","fromThis","mixObject","numNumbers","numRGB","numHSL","template","originStats","targetStats","mixNumber","createMixers","ease","customMixer","mixers","mixerFactory","numMixers","mixer","easingFunction","interpolate","input","isClamp","inputLength","reverse","interpolator","fastInterpolate","lastInputIndex","mixerIndex","foundMixerIndex","progressInRange","slowInterpolate","power","reverseEasing","easing","mirrorEasing","createBackIn","linear","easeIn","easeOut","easeInOut","circIn","acos","circOut","circInOut","backIn","backOut","backInOut","anticipate","backEasing","createAnticipate","bounceOut","p2","bounceIn","defaultEasing","keyframes","times","convertOffsetToTimes","_value","defaultOffset","createInterpolator","types","decay","timeConstant","_f","modifyTarget","amplitude","ideal","loopElapsed","elapsed","framesync","passTimestamp","driverControls","latest","interpolateFromNumber","autoplay","driver","_g","repeat","repeatMax","_h","repeatType","_j","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate","repeatCount","computedDuration","isForwardPlayback","animator","detectAnimationFromOptions","reverseElapsed","hasRepeatDelayElapsed","velocityPerSecond","frameDuration","secondsToMilliseconds","seconds","a1","a2","calcBezier","getSlope","kSampleStepSize","cubicBezier","mX1","mY1","mX2","mY2","sampleValues","Float32Array","getTForX","aX","intervalStart","currentSample","kSplineTableSize","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","binarySubdivide","easingLookup","bounceInOut","easingDefinitionToFunction","isAnimatable","underDampedSpring","criticallyDampedSpring","linearTween","defaultTransitions","backgroundColor","maxDefaults","applyDefaultFilter","defaultValue","functionRegex","functions","defaultValueTypes","outlineColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","WebkitFilter","getDefaultValueType","defaultValueType","legacyRepeatWarning","convertTransitionToAnimationOptions","yoyo","flip","loop","isEasingArray","getPopmotionAnimationOptions","valueKey","transitionFactory","hydrateKeyframes","when","delayChildren","staggerChildren","staggerDirection","isTransitionDefined","getAnimation","valueTransition","getValueTransition","isTargetAnimatable","isZero","getZeroUnit","isOriginAnimatable","currentAnimation","bounceStiffness","bounceDamping","_onUpdate","isOutOfBounds","boundaryNearest","startAnimation","startSpring","prev_1","current_1","boundary_1","heading_1","inertia","potentialUnitType","delayTimer","controls","getDelayFromTransition","addUniqueItem","removeItem","SubscriptionManager","subscriptions","notify","numSubscriptions","getSize","MotionValue","timeDelta","lastUpdated","updateSubscribers","velocityUpdateSubscribers","renderSubscribers","canTrackVelocity","updateAndNotify","scheduleVelocityCheck","velocityCheck","hasAnimated","onChange","subscription","clearListeners","onRenderRequest","attach","passiveEffect","getPrevious","Promise","resolve","stopAnimation","then","clearAnimation","isAnimating","destroy","motionValue","testValueType","dimensionValueTypes","findDimensionValueType","valueTypes","findValueType","setMotionValue","hasValue","getValue","addValue","setTarget","makeTargetAnimatable","getOriginFromTransition","animateVariant","variant","getDefaultTransition","transitionOverride","animateTarget","getChildAnimations","variantChildren","forwardDelay","animations","maxStaggerDuration","generateStaggerDuration","sortByTreeOrder","notifyAnimationComplete","all","animateChildren","first","last","animationTypeState","getState","valueTarget","shouldBlockAnimation","sortNodePosition","protectedKeys","needsAnimating","shouldBlock","variantPriorityOrder","Animate","Drag","Exit","reversePriorityOrder","numAnimationTypes","animateList","notifyAnimationStart","resolvedDefinition","animateVisualElement","createAnimationState","createTypeState","allAnimatedKeys","buildResolvedTypeValues","changedActiveType","getVariantContext","removedKeys","encounteredKeys","removedVariantIndex","Infinity","_loop_1","typeState","propIsVariant","activeDelta","isInherited","manuallyAnimateOnMount","prevProp","shouldAnimateType","variantsHaveChanged","definitionList","resolvedValues","prevResolvedValues","allKeys","markToAnimate","fallbackAnimation_1","fallbackTarget","getBaseTarget","shouldAnimate","isAnimated","setAnimateFunction","makeAnimator","subscribe","isPoint","isPoint3D","distance1D","xDelta","yDelta","zDelta","PanSession","handlers","startEvent","lastMoveEvent","lastMoveEventInfo","updatePoint","getPanInfo","history","isPanStarted","isDistancePastThreshold","onStart","onMove","handlePointerMove","transformPoint","buttons","handlePointerUp","end","onEnd","onSessionEnd","panInfo","initialInfo","onSessionStart","removeListeners","updateHandlers","subtractPoint","lastDevicePoint","startDevicePoint","timestampedPoint","lastPoint","time","eachAxis","applyConstraints","elastic","calcRelativeAxisConstraints","axis","calcViewportAxisConstraints","layoutAxis","constraintsAxis","resolveAxisElastic","dragElastic","minLabel","maxLabel","resolvePointElastic","label","getBoundingBox","topLeft","bottomRight","transformBoundingBox","isNear","maxDistance","calcLength","sourceLength","targetLength","updateAxisDelta","updateBoxDelta","defaultOrigin","calcRelativeAxis","relative","calcRelativeOffsetAxis","calcRelativeOffset","checkIfParentHasChanged","prevId","getLayoutId","nextId","isDraggable","_dragX","resetAxis","originAxis","scalePoint","applyPointDelta","boxScale","applyAxisDelta","applyBoxDelta","applyAxisTransforms","final","transforms","scaleKey","originKey","axisOrigin","xKeys","yKeys","applyBoxTransforms","finalBox","removePointDelta","removeAxisTransforms","removeAxisDelta","removeBoxTransforms","lastPointerEvent","elementDragControls","WeakMap","VisualElementDragControls","isDragging","currentDirection","constraints","hasMutatedConstraints","cursorProgress","openGlobalLock","panSession","enableLayoutProjection","originEvent","snapToCursor","stopMotion","initialPoint","getViewportPointFromEvent","cancelLayout","addChild","collectProjectingChildren","hasManuallySetCursorOrigin","isLayoutDrag","lockProjectionTarget","getAxisMotionValue","isExternalDrag","scheduleUpdateLayoutProjection","axisValue","postRender","resolveDragConstraints","dragPropagation","dragDirectionLock","lockThreshold","direction","getCurrentDirection","onDirectionLock","updateAxis","onDrag","dragConstraints","resolveRefConstraints","layoutBox","calcRelativeConstraints","resolveDragElastic","relativeConstraints","rebaseAxisConstraints","onMeasureDragConstraints","constraintsElement","constraintsBox","measuredConstraints","calcViewportConstraints","userConstraints","convertAxisBoxToBoundingBox","cancelDrag","unlockProjectionTarget","animateDragEnd","shouldDrag","length_1","center","updateAxisMotionValue","updateVisualElementAxis","nextValue","axisLayout","axisLength","axisProgress","calcConstrainedMinPoint","setProjectionTargetAxis","dragMomentum","remainingProps","dragKey","_dragY","dragTransition","isRelative","projectionParent","getProjectionParent","getLatestValues","convertToRelativeProjection","relativeConstraints_1","targetFinal","momentumAnimations","startAxisValueAnimation","startLayoutAnimation","onDragTransitionEnd","stopLayoutAnimation","currentValue","boxProgress","updateConstraints","calcPositionFromProgress","onReady","stopPointerListener","dragListener","stopResizeListener","stopLayoutUpdateListener","onLayoutUpdate","prevDragCursor","onPan","onPanStart","onPanEnd","onPanSessionStart","hasPanEvents","groupDragControls","dragControls","cssVariableRegex","getVariableValue","parseCSSVariable","token","fallback","getComputedStyle","getPropertyValue","pixelsToPercent","pixels","varToken","borderCorrectionDefinition","_layoutState","defaultScaleCorrectors","boxShadow","original","containsCSSVariables","cssVariables","shadow","xScale","yScale","averageScale","i_1","cssVariable","frameTarget","currentAnimationTarget","stopAxisAnimation","isAnimatingTree","originBox","targetBox","visibilityAction","shouldStackAnimate","prevParent","safeToRemove","prevParentViewportBox","parentLayout","isProvidedCorrectDataForRelativeSharedLayout","boxHasMoved","hasMoved","isTargetLocked","animateAxis","setVisibility","Show","notifyLayoutAnimationComplete","__extends","componentDidMount","animateMotionValue","unsubLayoutReady","layoutSafeToRemove","correctors","addScaleCorrection","componentWillUnmount","axisIsEqual","layoutProgress","getProjectionAnimationProgress","frame","tweenAxis","unsubscribeProgress","layoutTransition","defaultLayoutTransition","isZeroBox","zeroAxis","Measure","syncLayout","framerSyncLayout","onUnmount","remove","getSnapshotBeforeUpdate","syncUpdate","snapshotViewportBox","componentDidUpdate","layoutAnimations","createLayoutState","deltaTransform","zeroLayout","buildLayoutProjectionTransform","latestTransform","identityProjection","buildLayoutProjectionTransformOrigin","updateLayoutDeltas","treePath","treeLength","node","applyTreeDeltas","FlatTree","isDirty","treeType","build","_getBaseTarget","_makeTargetAnimatable","_measureViewportBox","renderInstance","readValueFromInstance","_resetTransform","_restoreTransform","removeValueFromRenderState","_sortNodePosition","unsubscribeFromLeadVisualElement","crossfader","projectionTargetProgress","removeFromVariantTree","lifecycles","managers","propSubscriptions","clearAllListeners","manager","updatePropListeners","on","propListener","createLifecycles","leadProjection","leadLatestValues","hasViewportBoxUpdated","valueSubscriptions","prevMotionValues","baseTarget","isProjectionReady","triggerBuild","valuesToRender","crossfadedValues","getCrossfadeState","notifyUpdate","_updateTreeLayoutProjection","layoutTree","fireUpdateLayoutProjection","initialMotionValues","isVisible","isMounted","newInstance","pointTo","addVariantChild","updateLayoutProjection","closestVariantNode","getClosestVariantNode","updateTreeLayoutProjection","getStaticValue","setStaticValue","visibility","scheduleRender","canMutate","removeValue","removeOnChange","latestValue","removeOnRenderRequest","bindToMotionValue","readValue","setBaseTarget","prevValue","existingValue","updateMotionValuesFromProps","getVariant","startAtParent","context_1","numVariantProps","variantProps","setCrossfader","newCrossfader","relativeTarget","withTransform","viewportBox","notifySetAxisTarget","force","shouldRebase","relativeOffset","setCurrentViewportBox","notifyLayoutUpdate","prevTreeScaleX","prevTreeScaleY","prevDeltaTransform","notifyViewportBoxUpdate","fireResolveRelativeTargetBox","foundParent","ancestor","resolveRelativeTargetBox","relativeParent","parentProjection","calcRelativeBox","_layoutResetTransform","newLead","onSetAxisTarget","onLayoutAnimationComplete","Entering","BoundingBoxDimension","positionalKeys","isPositionalKey","setAndResetVelocity","isNumOrPxType","getPosFromMatrix","matrix","pos","getTranslateFromMatrix","pos2","pos3","_bbox","matrix3d","nonTranslationalTransformKeys","positionalValues","checkAndConvertChangedValueTypes","targetPositionalKeys","removedTransformValues","hasAttemptedToRemoveTransformValues","changedValueTypeKeys","toType","fromType","numKeyframes","removedTransforms","removeNonTranslationalTransform","convertedTarget","changedKeys","originBbox","elementComputedStyle","originComputedStyle","targetBbox","convertChangedValueTypes","unitConversion","hasPositionalKey","parseDomVariant","HTMLElement","resolveCSSVariables","htmlConfig","domElement","defaultType","computedStyle","compareDocumentPosition","mutableState","getOrigin","newValueKeys","numNewValues","targetValue","checkTargetForNewValues","isProjectionTranform","htmlVisualElement","svgVisualElement","getAttribute","_element","featureBundle","motion","baseConfig","findToast","toasts","getToastPosition","toast","_Object$values$flat$f","flat","toastMotionVariants","dir","factor","Toast","message","onCloseComplete","onRequestRemove","_props$requestClose","requestClose","_props$position","_props$duration","setDelay","flexDirection","getToastStyle","li","minWidth","_defineProperty","obj","ToastManager","_React$Component","_inherits","createToast","prevToasts","prevState","nextState","_findToast","_temp","positions","_options$id","_options$position","removeToast","String","methods","closeAll","closeToast","updateToast","_this3","getStyle","portalId","Toaster","removeAll","isToastActive","_this$closeToast","_this$removeAll","_this$isToastActive","portal","existingPortal","getElementById","_document$body","div","body","appendChild","bindFunctions","isClosable","paddingEnd","textAlign","flex","insetEnd","defaultStandaloneParam","theme","colorMode","toggleColorMode","setColorMode","defaultOptions","useToast","_useChakra","_ref","_ref$theme","_ref$colorMode","_ref$toggleColorMode","_ref$setColorMode","_ref$defaultOptions","renderWithProviders","toastImpl","opts","createStandaloneToast","GenIcon","FaCube","_typeof","_Main","MainProps","nodeInterop","__esModule","cache","_getRequireWildcardCache","newObj","hasPropertyDescriptor","desc","_interopRequireWildcard","cacheBabelInterop","cacheNodeInterop","_layout","_react","_jsxRuntime","_excluded","_objectWithoutProperties","sourceSymbolKeys","_default","bg","useColorModeValue","itemBgColor","jsx","Box","maxW","currentTarget","stopPropagation","onContextMenu","preventDefault","content","_type","onItemClick","jsxs","mb","mt","Button","isFullWidth","fontWeight","fontSize","Divider","_ContextMenu","_molecules","_organisms","_app","_languageMode","_react2","_translations","_slicedToArray","_arrayWithHoles","_s","_arr","_n","_iterableToArrayLimit","_nonIterableRest","_useState2","setValues","handleValuesChange","handleValuesCb","JSON","stringify","onValuesChange","CONTENT","useLanguageModeValue","Fragment","Stack","Flex","Heading","Badge","ml","templateName","Spacer","isBlogPost","mx","lastPublished","mr","py","Input","onBlur","slug","locked","Textarea","maxH","Image","image","fallbackSrc","objectFit","onImageClick","_templateObject","_tree","_icons","_atoms","_icons2","_styled","_modals","_treeconverter","strings","raw","PreTextIcon","span","freeze","rootItemIds","defaultSelection","TreeConverter","setTree","_useState4","selectedItem","selectItem","_useState6","contextMenu","setContextMenu","addPageDisclousure","renderedContextMenu","Portal","spawnY","spawnX","ContextMenu","HStack","AddIcon","Text","data","DeleteIcon","onItemDelete","handleSelectItem","finalId","onItemSelect","handleClick","handleContextMenu","clientX","clientY","getIcon","FolderOpenIcon","FolderCloseIcon","FileIcon","_ref2","disableDnD","renderedItem","onMouseDown","LockIcon","deleted","movedItemId","dstId","newTree","onItemMove","CreatePageModal","templates","onCreate","onItemCreate","titleToSlug","onValidate","resolveChildSlugs","_regeneratorRuntime","_e3","_marked","mark","genItemParent","_marked2","genTreeItems","rootName","nth","iter","allItems","rootItemId","wrap","_context","_Object$entries","_Object$entries$_i","parentIter","_context2","entries","isChildrenLoading","_step2","_iterator2","_step3","childSlugs","_iterator3","_child$data","popover","Popover","trigger","placement","PopoverTrigger","rounded","PopoverContent","PopoverArrow","PopoverBody","ButtonGroup","IconButton","onDeleteClick","_FaCube","blockTypes","isEditing","_ref$wrap","wrapProps","shouldRenderSkeleton","toArray","Wrapper","Wrap","Skeleton","PopoverHeader","VStack","align","_onClick","leftIcon","_values$author","_values$organization","_values$organization4","_values$organization7","heading","lastpublished","siteUrl","author","organization","_values$organization2","_values$organization3","url","logo","_values$organization5","_values$organization6","_values$organization8","_values$organization9","_exportNames","PageContent","PageTree","SFBWrapper","SFWrapper","_PageContent","_PageTree","_SFBWrapper","_SFWrapper","_interopRequireDefault","React","setTemplate","_React$useState4","setName","validate","handleClose","Modal","blockScrollOnMount","ModalOverlay","ModalContent","ModalHeader","ModalCloseButton","ModalBody","Select","isInvalid","ModalFooter","_CreatePageModal","setRootItemIds","setItems","_React$useState6","setSelectedItem","minW","Center","orientation","onItemUpdate","onItemImageClick","_SiteSettings","Settings","PageExplorer","PageExplorerProps","_Settings","_PageExplorer","_main","_components","safeIsNaN","areInputsEqual","newInputs","lastInputs","second","resultFn","isEqual","lastThis","lastResult","lastArgs","calledOnce","newArgs","frameId","wrapperFn","cancelAnimationFrame","useMemoOne","getResult","inputs","isFirstRun","committed","withRedux","dispatch","useAppDispatch","DiscardButton","onDiscardClick","actions","useAppSelector","EditButton","onEditChange","edtiting","Bridge","BifrostBridge","httpUrl","useJaenCoreContext","getAuthState","isGuest","publish","upload","onPublish","res","session","mutate","gql","git_remote","remote","jaendata_url","publishRes","jaenPublishFormPage","PublishButton","onPublishClick","SnekFinder","loadable","getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","Error","uuid","byteToHex","buf","rnds","cmsContext","useCMSContext","allSitePage","usePages","fileSelector","dynamicPaths","site","routing","location","pathname","setCurrentPath","dynamicId","nodes","TemplateName","fileSelectorPageId","setFileSelectorPageId","nextRoutingUpdate","setNextRoutingUpdate","resolveDynamicPath","updateRouting","handlePageUpdate","meta","pageMetadata","pageId","datePublished","handleNavigate","pagePath","newPagePath","navigate","pages","fromEntries","page","rootNodeIds","uuidv4","fields","canonical","sourceId","destinationId","onSelectorClose","onSelectorSelect","siteMetadata","useSiteMetadata"],"sourceRoot":""}