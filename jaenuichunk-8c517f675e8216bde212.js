(self.webpackChunkjaen_template=self.webpackChunkjaen_template||[]).push([[431],{4929:function(e,t,n){"use strict";var r=n(4942),o=n(36299),i=n(74667),a=n(67294);function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}var s=function(e){var t,n=e.type,i=void 0===n?"checkbox":n,s=e._hover,c=e._invalid,l=e._disabled,d=e._focus,f=e._checked,v=e._child,p=void 0===v?{opacity:0}:v,m=e._checkedAndChild,h=void 0===m?{opacity:1}:m,g=e._checkedAndDisabled,y=e._checkedAndFocus,b=e._checkedAndHover,x=e.children,C=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["type","_hover","_invalid","_disabled","_focus","_checked","_child","_checkedAndChild","_checkedAndDisabled","_checkedAndFocus","_checkedAndHover","children"]),E="input[type="+i+"]:checked:disabled + &",k="input[type="+i+"]:checked:hover:not(:disabled) + &",T="input[type="+i+"]:checked:focus + &",_="input[type="+i+"]:disabled + &",P="input[type="+i+"]:focus + &",O="input[type="+i+"]:hover:not(:disabled):not(:checked) + &",j="input[type="+i+"]:checked + &, input[type="+i+"][aria-checked=mixed] + &",Z="input[type="+i+"][aria-invalid=true] + &",A="& > *";return a.createElement(o.m$.div,u({},C,{"aria-hidden":!0,__css:(t={display:"inline-flex",alignItems:"center",justifyContent:"center",transitionProperty:"common",transitionDuration:"fast",flexShrink:0},(0,r.Z)(t,P,d),(0,r.Z)(t,O,s),(0,r.Z)(t,_,l),(0,r.Z)(t,Z,c),(0,r.Z)(t,E,g),(0,r.Z)(t,T,y),(0,r.Z)(t,k,b),(0,r.Z)(t,A,p),(0,r.Z)(t,j,u({},f,(0,r.Z)({},A,h))),t)}),x)};i.Ts&&(s.displayName="ControlBox")},95230:function(e,t,n){"use strict";n.d(t,{useToast:function(){return i.useToast}});n(4929);var r=n(16397);n.o(r,"useToast")&&n.d(t,{useToast:function(){return r.useToast}});var o=n(42980);n.o(o,"useToast")&&n.d(t,{useToast:function(){return o.useToast}});var i=n(93327)},42980:function(e,t,n){"use strict";var r=n(24762);n.o(r,"useToast")&&n.d(t,{useToast:function(){return r.useToast}});var o=n(96690);n.o(o,"useToast")&&n.d(t,{useToast:function(){return o.useToast}})},96690:function(){},93327:function(e,t,n){"use strict";n.d(t,{useToast:function(){return ye}});var r=n(29439),o=n(12543),i=n(87487),a=n(38399),u=n(79735),s=n(36299),c=n(35587),l=n(58308),d=n(67294),f=n(50132);function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}var p=function(e){return d.createElement(f.J,v({viewBox:"0 0 24 24"},e),d.createElement("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"}))};function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}var h={info:{icon:function(e){return d.createElement(f.J,v({viewBox:"0 0 24 24"},e),d.createElement("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"}))},colorScheme:"blue"},warning:{icon:p,colorScheme:"orange"},success:{icon:function(e){return d.createElement(f.J,v({viewBox:"0 0 24 24"},e),d.createElement("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"}))},colorScheme:"green"},error:{icon:p,colorScheme:"red"}},g=(0,l.k)({name:"AlertContext",errorMessage:"useAlertContext: `context` is undefined. Seems you forgot to wrap alert components in `<Alert />`"}),y=(0,r.Z)(g,2),b=y[0],x=y[1],C=(0,o.G)((function(e,t){var n,r=(0,i.Lr)(e),o=r.status,l=void 0===o?"info":o,f=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(r,["status"]),v=null!=(n=e.colorScheme)?n:h[l].colorScheme,p=(0,a.j)("Alert",m({},e,{colorScheme:v})),g=m({width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden"},p.container);return d.createElement(b,{value:{status:l}},d.createElement(u.Fo,{value:p},d.createElement(s.m$.div,m({role:"alert",ref:t},f,{className:(0,c.cx)("chakra-alert",e.className),__css:g}))))})),E=(0,o.G)((function(e,t){var n=(0,u.yK)();return d.createElement(s.m$.div,m({ref:t},e,{className:(0,c.cx)("chakra-alert__title",e.className),__css:n.title}))})),k=(0,o.G)((function(e,t){var n=m({display:"inline"},(0,u.yK)().description);return d.createElement(s.m$.div,m({ref:t},e,{className:(0,c.cx)("chakra-alert__desc",e.className),__css:n}))})),T=function(e){var t=x().status,n=h[t].icon,r=(0,u.yK)();return d.createElement(s.m$.span,m({display:"inherit"},e,{className:(0,c.cx)("chakra-alert__icon",e.className),__css:r.icon}),d.createElement(n,{w:"100%",h:"100%"}))},_=n(81915),P=n(95623),O=n(80968),j=n(16397),Z=n(94238),A=n(74667),S=n(15671),w=n(73935),M=n(4942),I=n(93433),R=n(43144),B=n(97326),N=n(89611);var $=n(50008);function D(e,t){if(t&&("object"===$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,B.Z)(e)}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}var F=n(24526),V=n(79900),q=n(69922);var U=n(62267),z=n(69179),G=0;function W(){var e=G;return G++,e}var H=function(e){var t=e.children,n=e.initial,r=e.isPresent,o=e.onExitComplete,i=e.custom,a=e.presenceAffectsLayout,u=(0,z.h)(J),s=(0,z.h)(W),c=(0,d.useMemo)((function(){return{id:s,initial:n,isPresent:r,custom:i,onExitComplete:function(e){u.set(e,!0);var t=!0;u.forEach((function(e){e||(t=!1)})),t&&(null==o||o())},register:function(e){return u.set(e,!1),function(){return u.delete(e)}}}}),a?void 0:[r]);return(0,d.useMemo)((function(){u.forEach((function(e,t){return u.set(t,!1)}))}),[r]),d.useEffect((function(){!r&&!u.size&&(null==o||o())}),[r]),d.createElement(U.O.Provider,{value:c},t)};function J(){return new Map}var X=n(19180);function K(e){return e.key||""}var Q=function(e){var t=e.children,n=e.custom,r=e.initial,o=void 0===r||r,i=e.onExitComplete,a=e.exitBeforeEnter,u=e.presenceAffectsLayout,s=void 0===u||u,c=function(){var e=(0,d.useRef)(!1),t=(0,V.__read)((0,d.useState)(0),2),n=t[0],r=t[1];return(0,q.z)((function(){return e.current=!0})),(0,d.useCallback)((function(){!e.current&&r(n+1)}),[n])}(),l=(0,d.useContext)(X.WH);(0,X.Md)(l)&&(c=l.forceUpdate);var f=(0,d.useRef)(!0),v=function(e){var t=[];return d.Children.forEach(e,(function(e){(0,d.isValidElement)(e)&&t.push(e)})),t}(t),p=(0,d.useRef)(v),m=(0,d.useRef)(new Map).current,h=(0,d.useRef)(new Set).current;if(function(e,t){e.forEach((function(e){var n=K(e);t.set(n,e)}))}(v,m),f.current)return f.current=!1,d.createElement(d.Fragment,null,v.map((function(e){return d.createElement(H,{key:K(e),isPresent:!0,initial:!!o&&void 0,presenceAffectsLayout:s},e)})));for(var g=(0,V.__spreadArray)([],(0,V.__read)(v)),y=p.current.map(K),b=v.map(K),x=y.length,C=0;C<x;C++){var E=y[C];-1===b.indexOf(E)?h.add(E):h.delete(E)}return a&&h.size&&(g=[]),h.forEach((function(e){if(-1===b.indexOf(e)){var t=m.get(e);if(t){var r=y.indexOf(e);g.splice(r,0,d.createElement(H,{key:K(t),isPresent:!1,onExitComplete:function(){m.delete(e),h.delete(e);var t=p.current.findIndex((function(t){return t.key===e}));p.current.splice(t,1),h.size||(p.current=v,c(),i&&i())},custom:n,presenceAffectsLayout:s},t))}}})),g=g.map((function(e){var t=e.key;return h.has(t)?e:d.createElement(H,{key:K(e),isPresent:!0,presenceAffectsLayout:s},e)})),p.current=g,d.createElement(d.Fragment,null,h.size?g:g.map((function(e){return(0,d.cloneElement)(e)})))},Y=n(68370),ee=n(71708);var te=n(78076),ne=n(93358),re=n(92569);n(84944);function oe(e,t){var n=ie(e,t),r=n?e[n].findIndex((function(e){return e.id===t})):-1;return{position:n,index:r}}var ie=function(e,t){var n;return null==(n=Object.values(e).flat().find((function(e){return e.id===t})))?void 0:n.position};var ae={initial:function(e){var t=e.position,n=["top","bottom"].includes(t)?"y":"x",r=["top-right","bottom-right"].includes(t)?1:-1;return"bottom"===t&&(r=1),(0,M.Z)({opacity:0},n,24*r)},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},ue=function(e){var t=e.id,n=e.message,o=e.onCloseComplete,i=e.onRequestRemove,a=e.requestClose,u=void 0!==a&&a,s=e.position,c=void 0===s?"bottom":s,l=e.duration,f=void 0===l?5e3:l,v=d.useState(f),p=(0,r.Z)(v,2),m=p[0],h=p[1],g=(0,ne.hO)();(0,Y.r)((function(){g||null==o||o()}),[g]),(0,Y.r)((function(){h(f)}),[f]);var y=function(){g&&i()};d.useEffect((function(){g&&u&&i()}),[g,u,i]),function(e,t){var n=(0,ee.W)(e);d.useEffect((function(){var e;if(null!=t)return e=window.setTimeout((function(){n()}),t),function(){e&&window.clearTimeout(e)}}),[t,n])}(y,m);var b=d.useMemo((function(){return function(e){var t="center";return e.includes("right")&&(t="flex-end"),e.includes("left")&&(t="flex-start"),{display:"flex",flexDirection:"column",alignItems:t}}(c)}),[c]);return d.createElement(re.E.li,{layout:!0,className:"chakra-toast",variants:ae,initial:"initial",animate:"animate",exit:"exit",onHoverStart:function(){return h(null)},onHoverEnd:function(){return h(f)},custom:{position:c},style:b},d.createElement(te.default,{className:"chakra-toast__inner",style:{pointerEvents:"auto",maxWidth:560,minWidth:300,margin:"0.5rem"}},(0,A.mf)(n)?n({id:t,onClose:y}):n))};function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var o=L(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return D(this,n)}}function ce(){return ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ce.apply(this,arguments)}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}A.Ts&&(ue.displayName="Toast");var de=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,N.Z)(e,t)}(n,e);var t=se(n);function n(e){var r,o;(0,S.Z)(this,n),r=t.call(this,e),o=(0,B.Z)(r),le((0,B.Z)(r),"state",{top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]}),le((0,B.Z)(r),"notify",(function(e,t){var n=r.createToast(e,t),o=n.position,i=n.id;return r.setState((function(e){var t=o.includes("top")?[n].concat((0,I.Z)(e[o])):[].concat((0,I.Z)(e[o]),[n]);return ce({},e,(0,M.Z)({},o,t))})),i})),le((0,B.Z)(r),"updateToast",(function(e,t){r.setState((function(n){var r=ce({},n),o=oe(r,e),i=o.position,a=o.index;return i&&-1!==a&&(r[i][a]=ce({},r[i][a],t)),r}))})),le((0,B.Z)(r),"closeAll",(function(e){var t=(void 0===e?{}:e).positions;o.setState((function(e){return(null!=t?t:["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((function(t,n){return t[n]=e[n].map((function(e){return ce({},e,{requestClose:!0})})),t}),{})}))})),le((0,B.Z)(r),"createToast",(function(e,t){var o,i;n.counter+=1;var a=null!=(o=t.id)?o:n.counter,u=null!=(i=t.position)?i:"top";return{id:a,message:e,position:u,duration:t.duration,onCloseComplete:t.onCloseComplete,onRequestRemove:function(){return r.removeToast(String(a),u)},status:t.status,requestClose:!1}})),le((0,B.Z)(r),"closeToast",(function(e){r.setState((function(t){var n=ie(t,e);return n?ce({},t,(0,M.Z)({},n,t[n].map((function(t){return t.id==e?ce({},t,{requestClose:!0}):t})))):t}))})),le((0,B.Z)(r),"removeToast",(function(e,t){r.setState((function(n){return ce({},n,(0,M.Z)({},t,n[t].filter((function(t){return t.id!=e}))))}))})),le((0,B.Z)(r),"isVisible",(function(e){var t=oe(r.state,e).position;return Boolean(t)})),le((0,B.Z)(r),"getStyle",(function(e){return{position:"fixed",zIndex:5500,pointerEvents:"none",display:"flex",flexDirection:"column",margin:"top"===e||"bottom"===e?"0 auto":void 0,top:e.includes("top")?"env(safe-area-inset-top, 0px)":void 0,bottom:e.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,right:e.includes("left")?void 0:"env(safe-area-inset-right, 0px)",left:e.includes("right")?void 0:"env(safe-area-inset-left, 0px)"}}));var i={notify:r.notify,closeAll:r.closeAll,close:r.closeToast,update:r.updateToast,isActive:r.isVisible};return e.notify(i),r}return(0,R.Z)(n,[{key:"render",value:function(){var e=this;return(0,F.Yd)(this.state).map((function(t){var n=e.state[t];return d.createElement("ul",{key:t,id:"chakra-toast-manager-"+t,style:e.getStyle(t)},d.createElement(Q,{initial:!1},n.map((function(e){return d.createElement(ue,ce({key:e.id},e))}))))}))}}]),n}(d.Component);function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}le(de,"counter",0);var ve="chakra-toast-portal",pe=new function e(){var t=this;(0,S.Z)(this,e);var n=this;if(fe(this,"createToast",void 0),fe(this,"removeAll",void 0),fe(this,"closeToast",void 0),fe(this,"updateToast",void 0),fe(this,"isToastActive",void 0),fe(this,"bindFunctions",(function(e){t.createToast=e.notify,t.removeAll=e.closeAll,t.closeToast=e.close,t.updateToast=e.update,t.isToastActive=e.isActive})),fe(this,"notify",(function(e,t){return void 0===t&&(t={}),null==n.createToast?void 0:n.createToast(e,t)})),fe(this,"close",(function(e){var n;null==(n=t.closeToast)||n.call(t,e)})),fe(this,"closeAll",(function(e){var n;null==(n=t.removeAll)||n.call(t,e)})),fe(this,"update",(function(e,t){void 0===t&&(t={}),null==n.updateToast||n.updateToast(e,t)})),fe(this,"isActive",(function(e){var n;return null==(n=t.isToastActive)?void 0:n.call(t,e)})),c.jU){var r,o=document.getElementById(ve);if(o)r=o;else{var i,a=document.createElement("div");a.id=ve,null==(i=document.body)||i.appendChild(a),r=a}(0,w.render)(d.createElement(de,{notify:this.bindFunctions}),r)}};function me(){return me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},me.apply(this,arguments)}var he=function(e){var t=e.status,n=e.variant,r=e.id,o=e.title,i=e.isClosable,a=e.onClose,u=e.description;return d.createElement(C,{status:t,variant:n,id:r,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto"},d.createElement(T,null),d.createElement(s.m$.div,{flex:"1",maxWidth:"100%"},o&&d.createElement(E,null,o),u&&d.createElement(k,{display:"block"},u)),i&&d.createElement(_.P,{size:"sm",onClick:a,position:"absolute",insetEnd:1,top:1}))},ge={theme:j.Z,colorMode:"light",toggleColorMode:Z.ZT,setColorMode:Z.ZT,defaultOptions:{duration:5e3,position:"bottom",variant:"solid"}};function ye(e){var t=(0,O.uP)(),n=t.theme,r=t.setColorMode,o=t.toggleColorMode,i=t.colorMode;return d.useMemo((function(){return function(e){var t=void 0===e?ge:e,n=t.theme,r=void 0===n?ge.theme:n,o=t.colorMode,i=void 0===o?ge.colorMode:o,a=t.toggleColorMode,s=void 0===a?ge.toggleColorMode:a,c=t.setColorMode,l=void 0===c?ge.setColorMode:c,f=t.defaultOptions,v=void 0===f?ge.defaultOptions:f,p=function(e,t){return d.createElement(u.f6,{theme:r},d.createElement(P.kc.Provider,{value:{colorMode:i,setColorMode:l,toggleColorMode:s}},(0,A.mf)(t.render)?t.render(e):d.createElement(he,me({},e,t))))},m=function(e){var t=me({},v,e);return pe.notify((function(e){return p(e,t)}),t)};return m.close=pe.close,m.closeAll=pe.closeAll,m.update=function(e,t){if(e){var n=me({},v,t);pe.update(e,me({},n,{message:function(e){return p(e,n)}}))}},m.isActive=pe.isActive,m}({theme:n,colorMode:i,setColorMode:r,toggleColorMode:o,defaultOptions:e})}),[n,r,o,i,e])}},70891:function(e,t,n){e.exports=n(49368)},63991:function(e,t,n){"use strict";n.r(t);var r=n(11057),o=n(90522),i=n(24309),a=n(75555),u=(n(67294),n(7611));t.default=(0,a.X)((function(){var e=(0,i.TL)();return(0,u.jsx)(r.DiscardButton,{onDiscardClick:function(){e(o.Uv())}})}))},20618:function(e,t,n){"use strict";n.r(t);var r=n(11057),o=n(75439),i=n(24309),a=n(75555),u=(n(67294),n(7611));t.default=(0,a.X)((function(){var e=(0,i.TL)(),t=(0,i.CG)((function(e){return e.options.isEditing}));return(0,u.jsx)(r.EditButton,{isEditing:t,onEditChange:function(t){e(o.D(t))}})}))},73381:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r,o=n(15861),i=n(87757),a=n.n(i),u=n(95230),s=n(75075),c=n(70891),l=n(11057),d=n(75555),f=n(88050),v=(n(67294),n(7611)),p=new s.BifrostBridge({httpUrl:"https://origin.snek.at/graphql"}),m=(0,d.X)((function(){var e=(0,c.useJaenCoreContext)(),t=(0,u.useToast)(),i=e.getAuthState().isGuest,s=function(){var i=(0,o.Z)(a().mark((function o(){var i,u,s,c,l,d,v;return a().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,n.e(622).then(n.bind(n,75622));case 2:return s=o.sent,c=s.upload,o.next=6,e.onPublish();case 6:return l=o.sent,o.next=9,c(JSON.stringify(l["jaen-pages"]));case 9:return d=o.sent,o.next=12,p.session.mutate((0,f.default)(r||(a=["\n        mutation JaenPublishMutation($values: GenericScalar!, $url: String!) {\n          jaenPublishFormPage(values: $values, url: $url) {\n            result\n            errors {\n              name\n              errors\n            }\n          }\n        }\n      "],(m=void 0)||(m=a.slice(0)),a.raw=m,r=a)),{url:"/jaen-publish",values:{git_remote:e.remote,jaendata_url:d}});case 12:v=o.sent,"OK"===(null===(i=v.data)||void 0===i||null===(u=i.jaenPublishFormPage)||void 0===u?void 0:u.result)?t({title:"Sucessfully published.",status:"success",duration:9e3,isClosable:!0}):t({title:"Publish failed.",status:"error",duration:9e3,isClosable:!0});case 14:case"end":return o.stop()}var a,m}),o)})));return function(){return i.apply(this,arguments)}}();return(0,v.jsx)(l.PublishButton,{disabled:i,onPublishClick:function(){return s()}})}))},18203:function(e,t,n){"use strict";n.r(t);var r=n(40156),o=n(75555),i=(n(67294),n(7611)),a=(0,r.ZP)((function(){return Promise.all([n.e(532),n.e(577),n.e(351)]).then(n.bind(n,6483))}));t.default=(0,o.X)((function(){return(0,i.jsx)(a,null)}))},65255:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return T}});n(38559);var r,o=n(17262),i=n(47505),a=n(40156),u=n(55673),s=n(69809),c=n(90522),l=n(24309),d=n(75555),f=n(82183),v=n(67294),p=new Uint8Array(16);function m(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(p)}var h=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var g=function(e){return"string"==typeof e&&h.test(e)},y=[],b=0;b<256;++b)y.push((b+256).toString(16).substr(1));var x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(y[e[t+0]]+y[e[t+1]]+y[e[t+2]]+y[e[t+3]]+"-"+y[e[t+4]]+y[e[t+5]]+"-"+y[e[t+6]]+y[e[t+7]]+"-"+y[e[t+8]]+y[e[t+9]]+"-"+y[e[t+10]]+y[e[t+11]]+y[e[t+12]]+y[e[t+13]]+y[e[t+14]]+y[e[t+15]]).toLowerCase();if(!g(n))throw TypeError("Stringified UUID is invalid");return n};var C=function(e,t,n){var r=(e=e||{}).random||(e.rng||m)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return x(r)},E=n(7611),k=(0,a.ZP)((function(){return Promise.all([n.e(532),n.e(577),n.e(351)]).then(n.bind(n,6483))})),T=(0,d.X)((function(){var e=(0,l.TL)(),t=(0,i.kp)(),n=(0,i.Qt)(),r=(0,o.q)(),a=(0,l.CG)((function(e){return e.site.routing.dynamicPaths})),d=v.useState(window.location.pathname),p=d[0],m=d[1],h=v.useMemo((function(){var e=p&&a[p];if(!e)for(var t=0,r=Object.entries(n.nodes);t<r.length;t++){var o=r[t],i=o[0];if(o[1].path===p)return i}return e}),[n.nodes,p,a]),g=v.useMemo((function(){return t.templates.map((function(e){return e.TemplateName}))}),[t.templates]),y=v.useState(null),b=y[0],x=y[1],T=v.useState(null),_=T[0],P=T[1];v.useEffect((function(){if(_){var t=(0,s.D)(_,n);e(c.bR({dynamicPaths:t})),P(null)}}),[n]);var O=function(e){P(e)},j=function(t,r){var o=n.nodes[t].pageMetadata;e(c.T$({pageId:t,slug:r.slug,meta:{title:r.title||(null==o?void 0:o.title),description:r.description||(null==o?void 0:o.description),image:r.image||(null==o?void 0:o.image),isBlogPost:r.isBlogPost||(null==o?void 0:o.isBlogPost),datePublished:r.lastPublished||(null==o?void 0:o.datePublished)}})),O(t),Z(t)},Z=function(e){var t,r=n.nodes;e&&((t=Object.keys(a).find((function(t){return a[t]===e})))||(t=r[e].path));var o=t||"/";m(o),(0,f.c4)(o)},A=v.useMemo((function(){return e=n.nodes,Object.fromEntries(Object.entries(e).map((function(e){var t,n=e[0],r=e[1],o=r.title,i=r.slug,a=r.parent,u=r.children,s=r.template,c=r.pageMetadata,l=r.deleted;return[n,{data:{slug:i||(null==r||null===(t=r.path)||void 0===t?void 0:t.split("/")[1]),title:(null==c?void 0:c.title)||o,description:(null==c?void 0:c.description)||"",image:(null==c?void 0:c.image)||"",isBlogPost:(null==c?void 0:c.isBlogPost)||!1,lastPublished:null==c?void 0:c.datePublished,templateName:s,locked:!s},children:u.map((function(e){return e.id})),parent:a?a.id:null,deleted:l}]})));var e}),[n.nodes]);return(0,E.jsx)(v.Fragment,null,(0,E.jsx)(u.PageExplorer,{items:A,rootItemIds:n.rootNodeIds,defaultSelection:h,templates:g,onItemCreate:function(t,r,o,i){var a="SitePage /"+C();e(c.Ws({pageId:a,page:{slug:o,template:i,parent:t?{id:t}:null,children:[],fields:{},pageMetadata:{title:r,description:"",image:"",canonical:"",isBlogPost:!1}},nodes:n.nodes})),O(a)},onItemDelete:function(t){Z(null),e(c.CT(t)),O(t)},onItemUpdate:j,onItemMove:function(t,r){e(c.kj({sourceId:t,destinationId:r,nodes:n.nodes})),O(t),Z(t)},onItemSelect:Z,onItemImageClick:function(e){x(e),r.onOpen()}}),r.isOpen&&(0,E.jsx)(k,{mode:"selector",onSelectorClose:r.onClose,onSelectorSelect:function(e){b&&j(b,{image:e.src}),x(null),r.onClose()}}))}))},8199:function(e,t,n){"use strict";n.r(t);var r=n(17262),o=n(47505),i=n(40156),a=n(55673),u=n(90522),s=n(24309),c=n(75555),l=n(67294),d=n(7611),f=(0,i.ZP)((function(){return Promise.all([n.e(532),n.e(577),n.e(351)]).then(n.bind(n,6483))}));t.default=(0,c.X)((function(){var e=(0,s.TL)(),t=(0,r.q)(),n=(0,o.$W)(),i=function(t){e(u.iV({meta:t}))};return(0,d.jsx)(l.Fragment,null,(0,d.jsx)(a.Settings,{values:n,onValuesChange:i,onImageClick:function(){t.onOpen()}}),t.isOpen&&(0,d.jsx)(f,{mode:"selector",onSelectorClose:t.onClose,onSelectorSelect:function(e){i(Object.assign({},n,{image:e.src})),t.onClose()}}))}))}}]);
//# sourceMappingURL=jaenuichunk-8c517f675e8216bde212.js.map